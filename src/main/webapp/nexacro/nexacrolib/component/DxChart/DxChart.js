if(!nexacro.ChartJS){var isNexacroRuntime=!(!nexacro||"nexacro"!=system.navigatorname),isNexacroFramework=!(0!=isNexacroRuntime||!nexacro);if(isNexacroRuntime){var __pCanvasGradient=nexacro._CanvasGradient.prototype;__pCanvasGradient.addColorStop=function(t,e){var i=e;e=DxChart._rgba2hex(e)[0];var s=nexacro._getWebColorFromXreColor(e),a=nexacro._getXreColorAlpha(i)/255;this.colors.push({offset:100*t,color:s,orgcolor:e,alpha:a})};var _pCanvasComponent=nexacro.CanvasComponent.prototype;_pCanvasComponent.getContext=function(t){return this._canvas};var _pCanvasElement=nexacro.CanvasElement.prototype;_pCanvasElement._globalAlphaColor=1,_pCanvasElement._globalAlphaStroke=1,_pCanvasElement._globalAlphaFill=1,_pCanvasElement._globalAlphaLast=1,_pCanvasElement._hexstr=function(t){t=nexacro.toNumber(t);var e=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),i=15&t;return""+e[t>>4&15]+e[i]},_pCanvasElement._hex2rgb=function(t){var e,i,s,a;if(t&&0!=t.length)return"object"==typeof t?(e=t[0],i=t[1],s=t[2],t[3]?"rgba("+e+", "+i+", "+s+", "+a+")":"rgb("+e+", "+i+", "+s+")"):t.indexOf("rgb")>=0?t:"#"==t.substr(0,1)?(e=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),String(t).length>7?"rgba("+e+", "+i+", "+s+", "+(a=(parseInt(t.slice(7,9),16)/255).toString())+")":"rgb("+e+", "+i+", "+s+")"):t},_pCanvasElement._rgba2hex=function(t){var e=t.split("(")[1].split(")")[0].split(","),i=this._hexstr(e[0]);return i+=this._hexstr(e[1]),["#"+(i+=this._hexstr(e[2])),e[3]]},_pCanvasElement.arc=function(t,e,i,s,a,o){var r=this.handle;r&&nexacro.__plotCanvasElementHandleArcPath(r,t,e,i,s,a,o)},_pCanvasElement._convertStyle=function(t){if(""!==t&&!0!==t||(t="#ffffff"),t instanceof nexacro._CanvasGradient)return[t,1];if(t instanceof nexacro._ColorObject)return[t,this._globalAlphaColor];var e="",i=t,s="";if("string"==typeof t)if("#"==t.substring(0,1)){if(i=t.length>7?new nexacro.ColorObject(t.substr(0,7)):4==t.length?new nexacro.ColorObject("#"+t.substr(1,1)+t.substr(1,1)+t.substr(2,1)+t.substr(2,1)+t.substr(3,1)+t.substr(3,1)):new nexacro.ColorObject(t),9==t.length){var a=t.substring(7);s=(parseInt(a,16)/255).toString()}}else if(t.toLowerCase().indexOf("rgb")>=0){var o=this._rgba2hex(t);t=o[0],o[1]&&o[1]>=0&&(s=o[1]),i=new nexacro.ColorObject(t)}else i=t.toLowerCase().indexOf("gradient")>=0?new nexacro.BackgroundObject(t):new nexacro.ColorObject(t);else t.value&&t._sysvalue?i=t:null==t.length?i=t.toString():(0==t[3]||t[3]||(t[3]=1),e="#"+this.hexstr(t[0]),e+=this.hexstr(t[1]).toString(),e+=this.hexstr(t[2]).toString(),s=t[3],i=new nexacro.ColorObject(e));var r=this.handle;return r&&""!==s?(s>1&&(s=(parseInt(s,16)/255).toString()),this._globalAlphaColor=s,nexacro.__setCanvasElementHandleGlobalAlpha(r,s)):this._globalAlphaColor!==this.globalAlpha&&nexacro.__setCanvasElementHandleGlobalAlpha(r,this.globalAlpha),""==s&&(this._globalAlphaColor=1,s=1),[i,s]},_pCanvasElement._changeGlobalAlpha=function(t){var e=this.handle;"stroke"==t?this._globalAlphaStroke!==this.globalAlpha&&(nexacro.__setCanvasElementHandleGlobalAlpha(e,this._globalAlphaStroke),this._globalAlphaLast=this._globalAlphaStroke):this._globalAlphaFill!==this.globalAlpha&&(nexacro.__setCanvasElementHandleGlobalAlpha(e,this._globalAlphaFill),this._globalAlphaLast=this._globalAlphaFill)},_pCanvasElement._resetGlobalAlpha=function(t){var e=this.handle;this._globalAlphaLast!==this.globalAlpha&&nexacro.__setCanvasElementHandleGlobalAlpha(e,this.globalAlpha)},_pCanvasElement._orgSetElementFillStyle=_pCanvasElement.setElementFillStyle,_pCanvasElement.setElementFillStyle=function(t){if(t){var e=this._convertStyle(t);return t=e[0],this._globalAlphaFill=e[1],this._orgSetElementFillStyle(t)}},_pCanvasElement._orgSetElementStrokeStyle=_pCanvasElement.setElementStrokeStyle,_pCanvasElement.setElementStrokeStyle=function(t){if(t){t instanceof nexacro._CanvasGradient&&(t=t.colors[0].orgcolor),"number"==typeof t&&(t+="");var e=this._convertStyle(t);return t=e[0],this._globalAlphaStroke=e[1],this._orgSetElementStrokeStyle(t)}},_pCanvasElement._orgSetElementShadowColor=_pCanvasElement.setElementShadowColor,_pCanvasElement.setElementShadowColor=function(t){if(t)return t=this._convertStyle(t)[0],this._orgSetElementShadowColor(t)},_pCanvasElement._orgCreateLinearGradient=_pCanvasElement.createLinearGradient,_pCanvasElement.createLinearGradient=function(t,e,i,s){return this._orgCreateLinearGradient(t,e,i,s)},_pCanvasElement._orgCreateRadialGradient=_pCanvasElement.createRadialGradient,_pCanvasElement.createRadialGradient=function(t,e,i,s,a,o){return this._orgCreateRadialGradient(t,e,i,s,a,o)},_pCanvasElement._orgFill=_pCanvasElement.fill,_pCanvasElement.fill=function(){this._changeGlobalAlpha("fill"),this._orgFill(),this._resetGlobalAlpha()},_pCanvasElement._orgFillRect=_pCanvasElement.fillRect,_pCanvasElement.fillRect=function(t,e,i,s){this._changeGlobalAlpha("fill"),this._orgFillRect(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgFillText=_pCanvasElement.fillText,_pCanvasElement.fillText=function(t,e,i,s){this._changeGlobalAlpha("fill"),this._orgFillText(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgStroke=_pCanvasElement.stroke,_pCanvasElement.stroke=function(){this._changeGlobalAlpha("stroke"),this._orgStroke(),this._resetGlobalAlpha()},_pCanvasElement._orgStrokeRect=_pCanvasElement.strokeRect,_pCanvasElement.strokeRect=function(t,e,i,s){this._changeGlobalAlpha("stroke"),this._orgStrokeRect(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgStrokeText=_pCanvasElement.strokeText,_pCanvasElement.strokeText=function(t,e,i,s){this._changeGlobalAlpha("stroke"),this._orgStrokeText(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgsetTransform=_pCanvasElement.setTransform,_pCanvasElement.setTransform=function(t,e,i,s,a,o,r){this.changSetTransform={a:t,b:e,c:i,d:s,e:a,f:o,g:r},this._orgsetTransform(t,e,i,s,a,o,r)}}nexacro.ChartJS=function(t,e,i,s,a,o,r,n,h,l,c,x){nexacro.Div.call(this,t,e,i,s,a,o,r,n,h,l,c,x),this.charttype="bar",this.userbuttonmenu=!0,this.autoresize=!0};var _pChartJS=nexacro._createPrototype(nexacro.Div,nexacro.ChartJS);nexacro.ChartJS.prototype=_pChartJS,_pChartJS._type_name="ChartJS",_pChartJS.enableevent=!0,_pChartJS._event_list={onclick:1,ondblclick:1,onkillfocus:1,onsetfocus:1,onlbuttondown:1,onlbuttonup:1,onrbuttondown:1,onrbuttonup:1,onmouseenter:1,onmouseleave:1,onmousemove:1,ondrag:1,ondragenter:1,ondragleave:1,ondragmove:1,ondrop:1,onmove:1,onsize:1,onmousewheel:1,onmouseup:1,onmousedown:1,oncontextmenu:1,ontouchstart:1,ontouchmove:1,ontouchend:1,onrangezoomed:1,onlongpress:1},_pChartJS._on_bubble_mousewheel=function(t,e,i,s,a,o,r,n,h,l,c,x,d,u,g,p){if(!this.canvas||!this.canvas.__object__||"tree"!=this.canvas.__object__.type&&"org"!=this.canvas.__object__.type&&"map"!=this.canvas.__object__.type||1!=this.canvas.__object__.properties.scaleZoom)return this.parent._on_bubble_mousewheel(t,e,i,s,a,o,r,n,h,l,c,!1,d,u,g,p)},_pChartJS.on_create_contents=function(){this.url||this.form.createComponent(!0)},_pChartJS.on_change_containerRect=function(t,e){if(this._cell_elem&&this._cell_elem.setElementSize(t,e),this._recalcLayout(),this.canvas&&1==this.autoresize){this.getElement();isNexacroRuntime?(this.canvas.set_width(t),this.canvas.set_height(e),this.form.resetScroll()):(this._static.set_width(t),this._static.set_height(e),this.canvas.width=t,this.canvas.height=e);var i=this.canvas.__object__;if(i){var s=i.onsize;if(s){s(i,{})}}DxChart._resizeCanvas(this.canvas),DxChart.redrawCanvas(this.canvas)}},_pChartJS.on_created_contents=function(t){isNexacroRuntime&&this.on_attach_contents_handle()},_pChartJS.on_attach_contents_handle=function(t){this.set_enableevent(!0),this.set_text("");var e=this.form;if(this.url?this.url&&e._is_loaded&&!e._is_created&&(e.createComponent(),e.set_scrolltype("none")):e.on_created(t),this.set_formscrolltype("none"),this.on_apply_text(),this._recalcLayout(),!this.canvas){var i,s=this.getElement(),a=(s.handle,"");if(isNexacroRuntime)a=DxChart.createUID(),(i=new nexacro.CanvasComponent(a,0,0,s.client_width,s.client_height)).set_name(a),i.id=a,i.set_width(s.client_width),i.set_height(s.client_height),this.form.addChild(a,i),i.show(),i.bringToFront(),i.set_enableevent(!0);else{a=this.name+"_static";var o=new nexacro.Static(a,0,0,s.client_width,s.client_height);o.set_width(s.client_width),o.set_height(s.client_height),this.form.addChild(a,o),o.show(),this._static=o;var r=o.getElement().handle;a=DxChart.createUID(),(i=document.createElement("canvas")).id=a,i.width=s.client_width,i.height=s.client_height,r.appendChild(i),i.parent=this,i._refform=this._refform}this.canvas=i}var n=this;try{this.addEventHandler("onmousemove",function(t,e){if(e.canvasx<20||e.canvasy<20)try{DxChart._timerHideTooltip()}catch(e){}else{var i=n.canvas.width,s=n.canvas.height;if(e.canvasx>i-20||e.canvasy>s-20)try{DxChart._timerHideTooltip()}catch(e){}}},this),this.addEventHandler("onmouseleave",function(t,e){try{DxChart._timerHideTooltip()}catch(e){}},this),this.addEventHandler("onrbuttondown",this._onrbuttondown,this)}catch(t){}this.set_userbuttonmenu(this.userbuttonmenu)},_pChartJS.set_autoresize=function(t){t=nexacro._toBoolean(t),this.autoresize=t,0==t?(this.set_formscrolltype(""),this.form.set_scrolltype("both"),this.form.resetScroll()):(this.set_formscrolltype("none"),this.form.set_scrolltype("none"))},_pChartJS.set_userbuttonmenu=function(t){if(t=nexacro._toBoolean(t),this.userbuttonmenu=t,1==t&&!this.userbuttonmenumake){var e=new Dataset;e.set_name("_canvasPopupDs"),this.form.addChild("_canvasPopupDs",e),e.addColumn("IDCOL","string"),e.addColumn("LEVELCOL","int"),e.addColumn("CAPTIONCOL","string");var i=e.addRow();e.setColumn(i,"IDCOL","ID0"),e.setColumn(i,"LEVELCOL",0),e.setColumn(i,"CAPTIONCOL","Redraw"),i=e.addRow(),e.setColumn(i,"IDCOL","ID1"),e.setColumn(i,"LEVELCOL",0),e.setColumn(i,"CAPTIONCOL","Save Image"),i=e.addRow(),e.setColumn(i,"IDCOL","ID2"),e.setColumn(i,"LEVELCOL",0),e.setColumn(i,"CAPTIONCOL","Print Canvas");var s=new PopupMenu("_canvaPopupMenu",0,0,90,90,null,null);this.form.addChild("_canvaPopupMenu",s),s.show(),s.set_innerdataset(e.name),s.set_captioncolumn("CAPTIONCOL"),s.set_idcolumn("IDCOL"),s.set_levelcolumn("LEVELCOL"),s.set_itemheight(30),s.addEventHandler("onmenuclick",this._rbuttonmenuclick,this),this.___popupmenu=s,this.___popupds=e,this.userbuttonmenumake=!0}},_pChartJS._rbuttonmenuclick=function(t,e){if("ID0"==e.id)this.canvas.__object__&&DxChart.redrawCanvas(this.canvas);else if("ID1"==e.id)if(isNexacroRuntime){system.saveToImageFile(this.form,"DxChart.png","PNG")&&alert("내문서에 저장되었습니다.")}else{let t=this.canvas.toDataURL();var i=document.createElement("a");i.href=t,i.download="DxChart",i.click(),i.remove()}else"ID2"==e.id&&system.print(this.form,!0)},_pChartJS._onrbuttondown=function(t,e){this.___popupmenu.trackPopupByComponent(t,e.clientx,e.clienty)},_pChartJS.on_destroy_contents=function(){if(this.___popupmenu){try{this.form.removeChild(this.___popupmenu.name),this.___popupmenu.destroy()}catch(t){}this.___popupmenu=null;try{this.form.removeChild(this.___popupds.name)}catch(t){}this.___popupds=null}if(this._static){if(this.canvas){try{DxChart.reset(this.canvas)}catch(t){}this.canvas.parentNode.removeChild(this.canvas),this.canvas=null}this.form.removeChild(this._static.name,this._static),this._static.destroy(),this._static=null}if(this.canvas&&isNexacroRuntime){try{DxChart.reset(this.canvas)}catch(t){}this.form.removeChild(this.canvas.name),this.canvas.destroy(),this.canvas=null}this._destroyTextElement(),this._destroyFormControl(),this._user_property_list=null},_pChartJS._onmouseleave=function(t,e){return this.canvas},_pChartJS.getCanvas=function(){return this.canvas},_pChartJS.getDiv=function(){var t=this.getElement();if(t)return t.handle},_pChartJS.removeCanvas=function(){this.canvas&&("nexacro"==system.navigatorname?(this._refform.removeChild(this.canvas),this.canvas.destroy()):this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)},_pChartJS.setChartType=function(t){this.charttype=t},_pChartJS.setLabel=function(t){this.labels=t},_pChartJS.setDatasetData=function(t,e,i){this.datasets[t]||(this.datasets[t]={});var s=this.datasets[t];switch(e){case"label":s.label=i;break;case"data":s.data=i;break;case"bgcolor":s.backgroundColor=i;break;case"bdcolor":s.borderColor=i;break;case"bdwidth":s.borderWidth=i}},_pChartJS.getDatasetData=function(t){return this.datasets[idx]||(this.datasets[idx]={}),this.datasets[idx]},_pChartJS.clearDataset=function(t){this.datasets=null,this.datasets=[]},_pChartJS.setOption=function(t){this.options=t},_pChartJS.createCanvas=function(){return this.chartInfo=new Chart(this.canvas,{type:this.charttype,data:{labels:this.labels,datasets:this.datasets},options:this.options}),this.chartInfo}}var CryptoJS=CryptoJS||function(t,e){var i={},s=i.lib={},a=function(){},o=s.Base={extend:function(t){a.prototype=this;var e=new a;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,s=this.sigBytes;if(t=t.sigBytes,this.clamp(),s%4)for(var a=0;a<t;a++)e[s+a>>>2]|=(i[a>>>2]>>>24-a%4*8&255)<<24-(s+a)%4*8;else if(65535<i.length)for(a=0;a<t;a+=4)e[s+a>>>2]=i[a>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],s=0;s<e;s+=4)i.push(4294967296*t.random()|0);return new r.init(i,e)}}),n=i.enc={},h=n.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],s=0;s<t;s++){var a=e[s>>>2]>>>24-s%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],s=0;s<e;s+=2)i[s>>>3]|=parseInt(t.substr(s,2),16)<<24-s%8*4;return new r.init(i,e/2)}},l=n.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],s=0;s<t;s++)i.push(String.fromCharCode(e[s>>>2]>>>24-s%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],s=0;s<e;s++)i[s>>>2]|=(255&t.charCodeAt(s))<<24-s%4*8;return new r.init(i,e)}},c=n.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},x=s.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,s=i.words,a=i.sigBytes,o=this.blockSize,n=a/(4*o);if(e=(n=e?t.ceil(n):t.max((0|n)-this._minBufferSize,0))*o,a=t.min(4*e,a),e){for(var h=0;h<e;h+=o)this._doProcessBlock(s,h);h=s.splice(0,e),i.sigBytes-=a}return new r.init(h,a)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});s.Hasher=x.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}});var d=i.algo={};return i}(Math);if(function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,s=this._map;t.clamp(),t=[];for(var a=0;a<i;a+=3)for(var o=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,r=0;4>r&&a+.75*r<i;r++)t.push(s.charAt(o>>>6*(3-r)&63));if(e=s.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var i=t.length,s=this._map;(a=s.charAt(64))&&(-1!=(a=t.indexOf(a))&&(i=a));for(var a=[],o=0,r=0;r<i;r++)if(r%4){var n=s.indexOf(t.charAt(r-1))<<r%4*2,h=s.indexOf(t.charAt(r))>>>6-r%4*2;a[o>>>2]|=(n|h)<<24-o%4*8,o++}return e.create(a,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,i,s,a,o,r){return((t=t+(e&i|~e&s)+a+r)<<o|t>>>32-o)+e}function i(t,e,i,s,a,o,r){return((t=t+(e&s|i&~s)+a+r)<<o|t>>>32-o)+e}function s(t,e,i,s,a,o,r){return((t=t+(e^i^s)+a+r)<<o|t>>>32-o)+e}function a(t,e,i,s,a,o,r){return((t=t+(i^(e|~s))+a+r)<<o|t>>>32-o)+e}for(var o=CryptoJS,r=(h=o.lib).WordArray,n=h.Hasher,h=o.algo,l=[],c=0;64>c;c++)l[c]=4294967296*t.abs(t.sin(c+1))|0;h=h.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var r=0;16>r;r++){var n=t[x=o+r];t[x]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}r=this._hash.words;var h,c,x=t[o+0],d=(n=t[o+1],t[o+2]),u=t[o+3],g=t[o+4],p=t[o+5],f=t[o+6],m=t[o+7],b=t[o+8],C=t[o+9],y=t[o+10],v=t[o+11],D=t[o+12],S=t[o+13],k=t[o+14],w=t[o+15],_=r[0],T=a(T=a(T=a(T=a(T=s(T=s(T=s(T=s(T=i(T=i(T=i(T=i(T=e(T=e(T=e(T=e(T=r[1],c=e(c=r[2],h=e(h=r[3],_=e(_,T,c,h,x,7,l[0]),T,c,n,12,l[1]),_,T,d,17,l[2]),h,_,u,22,l[3]),c=e(c,h=e(h,_=e(_,T,c,h,g,7,l[4]),T,c,p,12,l[5]),_,T,f,17,l[6]),h,_,m,22,l[7]),c=e(c,h=e(h,_=e(_,T,c,h,b,7,l[8]),T,c,C,12,l[9]),_,T,y,17,l[10]),h,_,v,22,l[11]),c=e(c,h=e(h,_=e(_,T,c,h,D,7,l[12]),T,c,S,12,l[13]),_,T,k,17,l[14]),h,_,w,22,l[15]),c=i(c,h=i(h,_=i(_,T,c,h,n,5,l[16]),T,c,f,9,l[17]),_,T,v,14,l[18]),h,_,x,20,l[19]),c=i(c,h=i(h,_=i(_,T,c,h,p,5,l[20]),T,c,y,9,l[21]),_,T,w,14,l[22]),h,_,g,20,l[23]),c=i(c,h=i(h,_=i(_,T,c,h,C,5,l[24]),T,c,k,9,l[25]),_,T,u,14,l[26]),h,_,b,20,l[27]),c=i(c,h=i(h,_=i(_,T,c,h,S,5,l[28]),T,c,d,9,l[29]),_,T,m,14,l[30]),h,_,D,20,l[31]),c=s(c,h=s(h,_=s(_,T,c,h,p,4,l[32]),T,c,b,11,l[33]),_,T,v,16,l[34]),h,_,k,23,l[35]),c=s(c,h=s(h,_=s(_,T,c,h,n,4,l[36]),T,c,g,11,l[37]),_,T,m,16,l[38]),h,_,y,23,l[39]),c=s(c,h=s(h,_=s(_,T,c,h,S,4,l[40]),T,c,x,11,l[41]),_,T,u,16,l[42]),h,_,f,23,l[43]),c=s(c,h=s(h,_=s(_,T,c,h,C,4,l[44]),T,c,D,11,l[45]),_,T,w,16,l[46]),h,_,d,23,l[47]),c=a(c,h=a(h,_=a(_,T,c,h,x,6,l[48]),T,c,m,10,l[49]),_,T,k,15,l[50]),h,_,p,21,l[51]),c=a(c,h=a(h,_=a(_,T,c,h,D,6,l[52]),T,c,u,10,l[53]),_,T,y,15,l[54]),h,_,n,21,l[55]),c=a(c,h=a(h,_=a(_,T,c,h,b,6,l[56]),T,c,w,10,l[57]),_,T,f,15,l[58]),h,_,S,21,l[59]),c=a(c,h=a(h,_=a(_,T,c,h,g,6,l[60]),T,c,v,10,l[61]),_,T,d,15,l[62]),h,_,C,21,l[63]);r[0]=r[0]+_|0,r[1]=r[1]+T|0,r[2]=r[2]+c|0,r[3]=r[3]+h|0},_doFinalize:function(){var e=this._data,i=e.words,s=8*this._nDataBytes,a=8*e.sigBytes;i[a>>>5]|=128<<24-a%32;var o=t.floor(s/4294967296);for(i[15+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(a+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(i.length+1),this._process(),i=(e=this._hash).words,s=0;4>s;s++)a=i[s],i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);return e},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}}),o.MD5=n._createHelper(h),o.HmacMD5=n._createHmacHelper(h)}(Math),function(){var t,e=CryptoJS,i=(t=e.lib).Base,s=t.WordArray,a=(t=e.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=(n=this.cfg).hasher.create(),a=s.create(),o=a.words,r=n.keySize,n=n.iterations;o.length<r;){h&&i.update(h);var h=i.update(t).finalize(e);i.reset();for(var l=1;l<n;l++)h=i.finalize(h),i.reset();a.concat(h)}return a.sigBytes=4*r,a}});e.EvpKDF=function(t,e,i){return a.create(i).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=(u=CryptoJS).lib,i=e.Base,s=e.WordArray,a=e.BufferedBlockAlgorithm,o=u.enc.Base64,r=u.algo.EvpKDF,n=e.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,i,s){return("string"==typeof i?g:d).encrypt(t,e,i,s)},decrypt:function(e,i,s){return("string"==typeof i?g:d).decrypt(t,e,i,s)}}}});e.StreamCipher=n.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=u.mode={},l=function(t,e,i){var s=this._iv;s?this._iv=void 0:s=this._prevBlock;for(var a=0;a<i;a++)t[e+a]^=s[a]},c=(e.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();c.Encryptor=c.extend({processBlock:function(t,e){var i=this._cipher,s=i.blockSize;l.call(this,t,e,s),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+s)}}),c.Decryptor=c.extend({processBlock:function(t,e){var i=this._cipher,s=i.blockSize,a=t.slice(e,e+s);i.decryptBlock(t,e),l.call(this,t,e,s),this._prevBlock=a}}),h=h.CBC=c,c=(u.pad={}).Pkcs7={pad:function(t,e){for(var i,a=(i=(i=4*e)-t.sigBytes%i)<<24|i<<16|i<<8|i,o=[],r=0;r<i;r+=4)o.push(a);i=s.create(o,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=n.extend({cfg:n.cfg.extend({mode:h,padding:c}),reset:function(){n.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var x=e.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),d=(h=(u.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?s.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){var e=(t=o.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var i=s.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return x.create({ciphertext:t,salt:i})}},e.SerializableCipher=i.extend({cfg:i.extend({format:h}),encrypt:function(t,e,i,s){s=this.cfg.extend(s);var a=t.createEncryptor(i,s);return e=a.finalize(e),a=a.cfg,x.create({ciphertext:e,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:s.format})},decrypt:function(t,e,i,s){return s=this.cfg.extend(s),e=this._parse(e,s.format),t.createDecryptor(i,s).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),u=(u.kdf={}).OpenSSL={execute:function(t,e,i,a){return a||(a=s.random(8)),t=r.create({keySize:e+i}).compute(t,a),i=s.create(t.words.slice(e),4*i),t.sigBytes=4*e,x.create({key:t,iv:i,salt:a})}},g=e.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:u}),encrypt:function(t,e,i,s){return i=(s=this.cfg.extend(s)).kdf.execute(i,t.keySize,t.ivSize),s.iv=i.iv,(t=d.encrypt.call(this,t,e,i.key,s)).mixIn(i),t},decrypt:function(t,e,i,s){return s=this.cfg.extend(s),e=this._parse(e,s.format),i=s.kdf.execute(i,t.keySize,t.ivSize,e.salt),s.iv=i.iv,d.decrypt.call(this,t,e,i.key,s)}})}(),function(){for(var t=CryptoJS,e=t.lib.BlockCipher,i=t.algo,s=[],a=[],o=[],r=[],n=[],h=[],l=[],c=[],x=[],d=[],u=[],g=0;256>g;g++)u[g]=128>g?g<<1:g<<1^283;var p=0,f=0;for(g=0;256>g;g++){var m=(m=f^f<<1^f<<2^f<<3^f<<4)>>>8^255&m^99;s[p]=m,a[m]=p;var b=u[p],C=u[b],y=u[C],v=257*u[m]^16843008*m;o[p]=v<<24|v>>>8,r[p]=v<<16|v>>>16,n[p]=v<<8|v>>>24,h[p]=v,v=16843009*y^65537*C^257*b^16843008*p,l[m]=v<<24|v>>>8,c[m]=v<<16|v>>>16,x[m]=v<<8|v>>>24,d[m]=v,p?(p=b^u[u[u[y^b]]],f^=u[u[f]]):p=f=1}var D=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=e.extend({_doReset:function(){for(var t=(i=this._key).words,e=i.sigBytes/4,i=4*((this._nRounds=e+6)+1),a=this._keySchedule=[],o=0;o<i;o++)if(o<e)a[o]=t[o];else{var r=a[o-1];o%e?6<e&&4==o%e&&(r=s[r>>>24]<<24|s[r>>>16&255]<<16|s[r>>>8&255]<<8|s[255&r]):(r=s[(r=r<<8|r>>>24)>>>24]<<24|s[r>>>16&255]<<16|s[r>>>8&255]<<8|s[255&r],r^=D[o/e|0]<<24),a[o]=a[o-e]^r}for(t=this._invKeySchedule=[],e=0;e<i;e++)o=i-e,r=e%4?a[o]:a[o-4],t[e]=4>e||4>=o?r:l[s[r>>>24]]^c[s[r>>>16&255]]^x[s[r>>>8&255]]^d[s[255&r]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,r,n,h,s)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,c,x,d,a),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,s,a,o,r,n){for(var h=this._nRounds,l=t[e]^i[0],c=t[e+1]^i[1],x=t[e+2]^i[2],d=t[e+3]^i[3],u=4,g=1;g<h;g++){var p=s[l>>>24]^a[c>>>16&255]^o[x>>>8&255]^r[255&d]^i[u++],f=s[c>>>24]^a[x>>>16&255]^o[d>>>8&255]^r[255&l]^i[u++],m=s[x>>>24]^a[d>>>16&255]^o[l>>>8&255]^r[255&c]^i[u++];d=s[d>>>24]^a[l>>>16&255]^o[c>>>8&255]^r[255&x]^i[u++],l=p,c=f,x=m}p=(n[l>>>24]<<24|n[c>>>16&255]<<16|n[x>>>8&255]<<8|n[255&d])^i[u++],f=(n[c>>>24]<<24|n[x>>>16&255]<<16|n[d>>>8&255]<<8|n[255&l])^i[u++],m=(n[x>>>24]<<24|n[d>>>16&255]<<16|n[l>>>8&255]<<8|n[255&c])^i[u++],d=(n[d>>>24]<<24|n[l>>>16&255]<<16|n[c>>>8&255]<<8|n[255&x])^i[u++],t[e]=p,t[e+1]=f,t[e+2]=m,t[e+3]=d},keySize:8});t.AES=e._createHelper(i)}(),CryptoJS.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},window)window.DxChart=window.DxChart||{isDxChart:!0};else{var window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0};nexacro.DxChart||(nexacro.DxChart=DxChart);var document={}}if(function(win,doc,undefined){DxChart.Highlight={},DxChart.Registry={store:{oncefunc:[]}},DxChart._MouseDownFlag=!1,DxChart.Background={},DxChart.objects=[],DxChart.Resizing={},DxChart.events=[],DxChart.cursor=[],DxChart.Effects={},DxChart.cache=[],DxChart.QS={},DxChart.GET={__parts__:null},DxChart.REG={objects:{byUID:[],byCanvasID:[]}},DxChart.NOBGCACHE=!1,DxChart.PI=Math.PI,DxChart.HALFPI=Math.PI/2,DxChart.TWOPI=2*Math.PI;var ua=navigator.userAgent;DxChart.ISFF=-1!=ua.indexOf("Firefox"),DxChart.ISOPERA=-1!=ua.indexOf("Opera"),DxChart.ISCHROME=-1!=ua.indexOf("Chrome"),DxChart.ISSAFARI=-1!=ua.indexOf("Safari")&&ua.indexOf("Chrome")<0,DxChart.ISNEXA=-1!=ua.indexOf("nexacro"),DxChart.ISIE=ua.indexOf("Trident")>0||ua.indexOf("MSIE")>0,DxChart.cacheSeq=0,DxChart.selectColorSet=null,DxChart.selectFontStyle="Verdana,Arial",DxChart._ChartColorset||(DxChart._ChartColorset={},DxChart._ChartColorset.colorCategory=["ChartColorBasic","ChartColorful","ChartColorBlue","ChartColorGoogle","ChartColorPurple","ChartColorGreen","ChartColorRed","ChartColorDual","ChartColorGray","ChartColorWhite"],DxChart._ChartColorset.ChartColorBasic=["#FF6A8E","#FF9637","#FFDF51","#55D4D4","#42B0FF","#BA5EFF","#5DCA63","#C4C4C4"],DxChart._ChartColorset.ChartColorful=["#7774F9","#1CC4D1","#E165AB","#F48323","#5DA176","#F0C530","#9EE3693","#0077FF","#999999","#D195FF","#5EBCE5","#9B5FD6","#FB5D4A","#72E1B1","#5C7FEF"],DxChart._ChartColorset.ChartColorBlue=["#ADD8E6","#87CEFA","#87CEEB","#1E90FF","#00BFFF","#6495ED","#4682B4","#4169E1","#0000FF","#0000CD"],DxChart._ChartColorset.ChartColorGoogle=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],DxChart._ChartColorset.ChartColorPurple=["#451abf","#511abf","#5d1abf","#6a1abf","#771abf","#851abf","#931abf","#931abf","#b11bbf","#bf1b8e"],DxChart._ChartColorset.ChartColorGreen=["#1bc366","#27ca0f","#38cb0d","#49cc0b","#5bcd09","#6dce08","#80cf06","#93d004","#a7d102","#bcd200"],DxChart._ChartColorset.ChartColorRed=["#FFA07A","#E9967A","#F08080","#FF7F50","#FF6347","#CD5C5C","#FF0000","#DC143C","#B22222","#A52A2A"],DxChart._ChartColorset.ChartColorDual=["#C0392B","#E74C3C","#9B59B6","#8E44AD","#2980B9","#3498DB","#1ABC9C","#16A085","#27AE60","#2ECC71","#F1C40F","#F39C12","#E67E22","#D35400"],DxChart._ChartColorset.ChartColorGray=["#F5F5F5","#DCDCDC","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#696969","#000000"],DxChart._ChartColorset.ChartColorWhite=["#FFFAFA","#F0FFFF","#FFFFF0","#F0FFF0","#F8F8FF","#F0F8FF","#FFFAF0","#E6E6FA"],DxChart._ChartColorset.getColorCategory=function(){return DxChart._ChartColorset.colorCategory}),DxChart.genKey=function(){var t=new Uint8Array([84,79,66,69,83,79,70,84,49,50,51,52,53,54,55,56]),e=new Uint8Array([49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56]);t=String.fromCharCode.apply(null,t),e=String.fromCharCode.apply(null,e),DxChart.publicAESKey=CryptoJS.enc.Utf8.parse(t),DxChart.publicAESIV=CryptoJS.enc.Utf8.parse(e)},DxChart.encryptAES=function(t){var e=CryptoJS.mode.CBC,i=CryptoJS.pad.ZeroPadding;return CryptoJS.AES.encrypt(t,DxChart.publicAESKey,{iv:DxChart.publicAESIV,mode:e,padding:i}).toString()},DxChart.decryptAES=function(t){var e=CryptoJS.mode.CBC,i=CryptoJS.pad.ZeroPadding;return CryptoJS.AES.decrypt(t,DxChart.publicAESKey,{iv:DxChart.publicAESIV,mode:e,padding:i}).toString(CryptoJS.enc.Utf8)},DxChart.setFontface=function(t){DxChart.selectFontStyle=t},DxChart.setColorList=DxChart.colorSet=function(t){var e=DxChart._ChartColorset.getColorCategory(),i=e.indexOf(t);i<0?trace("_colorSet index -1"):DxChart.selectColorSet=DxChart._ChartColorset[e[i]]},DxChart.colorSet("ChartColorBasic"),DxChart.getArgs=function(t,e){var i={},s=0;if(e=e.trim().split(/ *, */),t&&t[0]&&1===t.length&&void 0!==t[0][e[0]]){for(var a=0;a<e.length;++a)void 0===t[0][e[a]]&&(t[0][e[a]]=null);return t[0]}for(var a in e)i[e[a]]=void 0===t[s]?null:t[s],s+=1;return i},DxChart.getScale=function(t){var e=t.object.properties,i="number"==typeof t.options["scale.labels.count"]?t.options["scale.labels.count"]:5,s="string"==typeof t.options["scale.units.pre"]?t.options["scale.units.pre"]:"",a="string"==typeof t.options["scale.units.post"]?t.options["scale.units.post"]:"",o=Number(t.options["scale.max"]),r="number"==typeof t.options["scale.min"]?t.options["scale.min"]:0,n=t.options["scale.strict"],h=Number(t.options["scale.decimals"]),l=t.options["scale.point"],c=t.options["scale.thousand"],x=o,d=t.options["scale.round"],u={max:1,labels:[],values:[]},g=t.options["scale.formatter"];if(prefix="hbar"===t.object.type||"heatmap"===t.object.type?"xaxis":"yaxis",prefix="odo"===t.object.type?"":prefix,o==undefined||null==o){o=1;for(var p=0;p<i;++p){var f=(((o-r)/i+r)*(p+1)).toFixed(h);u.labels.push(s+f+a),u.values.push(parseFloat(f))}}else if(o<=1&&!n){var m=[1,.5,.1,.05,.01,.005,.001,5e-4,1e-4,5e-5,1e-5,5e-6,1e-6,5e-7,1e-7,5e-8,1e-8,5e-9,1e-9,5e-10,1e-10,5e-11,1e-11,5e-12,1e-12,5e-13];for(p=0;p<m.length;++p)if(o>m[p]){p--;break}u.max=m[p],u.labels=[],u.values=[];for(var b=0;b<i;++b){var C=((m[p]-r)/i*(b+1)+r).toFixed(h);u.values.push(C),u.labels.push(DxChart.numberFormat({object:t.object,number:C,unitspre:s,unitspost:a,thousand:c,point:l,formatter:g,decimals:h}))}}else if(n){if("number"==typeof o&&n){for(p=0;p<i;++p)u.labels.push(DxChart.numberFormat({object:t.object,number:((p+1)/i*(o-r)+r).toFixed(h),unitspre:s,unitspost:a,thousand:c,point:l,formatter:g})),u.values.push(((p+1)/i*(o-r)+r).toFixed(h));u.max=o}}else{o=Math.ceil(o);for(var y=Math.pow(10,Math.max(1,Number(String(Number(o)-Number(r)).length-1))),v=y;v<o;)v+=y/2;Number(x)>Number(v)&&(v+=y/2),o<=10&&(v=Number(x)<=5?5:10),t.object&&"boolean"==typeof d&&d&&(v=10*y),u.max=v;var D=e[prefix+"ScalePoint"],S=e[prefix+"ScaleThousand"];t.object.set(prefix+"scaleThousand",c),t.object.set(prefix+"scalePoint",l);for(var p=0;p<i;++p)u.labels.push(DxChart.numberFormat({object:t.object,number:((p+1)/i*(v-r)+r).toFixed(h),unitspre:s,unitspost:a,point:l,thousand:c,formatter:g})),u.values.push(((p+1)/i*(v-r)+r).toFixed(h));t.object.set(prefix+"scaleThousand",S),t.object.set(prefix+"scalePoint",D)}u.units_pre=s,u.units_post=a,u.point=l,u.decimals=h,u.thousand=c,u.numlabels=i,u.round=Boolean(d),u.min=r,u.formatter=g;for(p=0;p<u.values.length;++p)u.values[p]=parseFloat(u.values[p]);return u},DxChart.arrayInvert=function(){for(var t=DxChart.getArgs(arguments,"array"),e=0,i=t.array.length;e<i;++e)t.array[e]=!t.array[e];return t.array},DxChart.arrayTrim=function(){for(var t=DxChart.getArgs(arguments,"array"),e=[],i=!1,s=0;s<t.array.length;s++)t.array[s]&&(i=!0),i&&e.push(t.array[s]);e=DxChart.arrayReverse(e);var a=[];for(i=!1,s=0;s<e.length;s++)e[s]&&(i=!0),i&&a.push(e[s]);return a=DxChart.arrayReverse(a)},DxChart.clone=DxChart.arrayClone=function(){var t=DxChart.getArgs(arguments,"array");return null===t.array||"object"!=typeof t.array?t.array:JSON.parse(JSON.stringify(t.array))},DxChart.arrayMax=function(){var t=DxChart.getArgs(arguments,"array,ignore"),e=null;if("number"==typeof t.array)return t.array;if(DxChart.isNull(t.array))return 0;for(var i=0,s=t.array.length;i<s;++i)if("number"==typeof t.array[i]&&!isNaN(t.array[i])){var a=t.ignore?Math.abs(t.array[i]):t.array[i];e="number"==typeof e?Math.max(e,a):a}return e},DxChart.arrayMin=function(t){t=DxChart.getArgs(arguments,"array,ignore");var e=null;Math;if("number"==typeof t.array)return t.array;if(DxChart.isNull(t.array))return 0;for(var i=0,s=t.array.length;i<s;++i)if("number"==typeof t.array[i]){var a=t.ignore?Math.abs(t.array[i]):t.array[i];e="number"==typeof e?Math.min(e,a):a}return e},DxChart.arrayPad=function(){var t=DxChart.getArgs(arguments,"array,length,value");if(t.array.length<t.length)for(var e=t.array.length;e<t.length;e+=1)t.array[e]=t.value;return t.array},DxChart.arraySum=function(){var t=DxChart.getArgs(arguments,"array");if("number"==typeof t.array)return t.array;if(DxChart.isNull(t.array))return 0;for(var e=t.array.length,i=0,s=0;i<e;s+=t.array[i++]||0);return s},DxChart.arrayLinearize=function(){for(var t=[],e=arguments,i=0,s=e.length;i<s;++i)if("object"==typeof e[i]&&e[i])for(var a=0,o=e[i].length;a<o;++a)for(var r=DxChart.arrayLinearize(e[i][a]),n=0,h=r.length;n<h;++n)t.push(r[n]);else t.push(e[i]);return t},DxChart.arrayLinearizeString=function(){for(var t=[],e=arguments,i=0,s=e.length;i<s;++i)if("object"==typeof e[i]&&e[i])for(var a=0,o=e[i].length;a<o;++a)for(var r=DxChart.arrayLinearize(e[i][a]),n=0,h=r.length;n<h;++n)t.push(""+r[n]);else t.push(""+e[i]);return t},DxChart.arrayShift=function(){for(var t=DxChart.getArgs(arguments,"array"),e=[],i=1,s=t.array.length;i<s;++i)e.push(t.array[i]);return e},DxChart.arrayReverse=function(){var t=DxChart.getArgs(arguments,"array");if(t.array){for(var e=[],i=t.array.length-1;i>=0;i-=1)e.push(t.array[i]);return e}},DxChart.abs=function(){var t=DxChart.getArgs(arguments,"value");if("string"==typeof t.value&&(t.value=parseFloat(t.value)||0),"number"==typeof t.value)return Math.abs(t.value);if("object"==typeof t.value){for(var e in t.value)"string"!=typeof t.value[e]&&"number"!=typeof t.value[e]&&"object"!=typeof t.value[e]||(t.value[e]=DxChart.abs(t.value[e]));return t.value}return 0},DxChart.clear=DxChart.Clear=function(t){var e,i=(t=DxChart.getArgs(arguments,"canvas,color")).canvas.__object__;if(t.canvas){e=t.canvas.getContext("2d");var s=t.color||i&&i.get("clearto");if(DxChart._fireEvent(i,"onbeforeclear"),DxChart.text.domNodeCache&&DxChart.text.domNodeCache[t.canvas.id])for(var a in DxChart.text.domNodeCache[t.canvas.id]){var o=DxChart.text.domNodeCache[t.canvas.id][a];o&&o.style&&(o.style.display="none")}if(!s||s&&"rgba(0,0,0,0)"===s||"transparent"===s?(e.clearRect(-100,-100,t.canvas.width+200,t.canvas.height+200),e.globalCompositeOperation="source-over",isNexacroRuntime&&e.setElementGlobalCompositeOperation(e.globalCompositeOperation)):s?i.path("fs % fr -100 -100 % %",s,t.canvas.width+200,t.canvas.height+200):i.path("fs % fr -100 -100 % %",i.get("clearto"),t.canvas.width+200,t.canvas.height+200),DxChart.Registry.get("background.image."+t.canvas.id)){var r=DxChart.Registry.get("background.image."+t.canvas.id);r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px"}DxChart.Registry.get("tooltip")&&i&&!i.get("tooltipsNohideonclear")&&DxChart.hideTooltip(t.canvas),isNexacroRuntime?t.canvas.cursor="default":t.canvas.style.cursor="default",DxChart._fireEvent(i,"onclear")}},DxChart.drawTitle=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object,i="center",s="center",a=(e.canvas.width-e.marginLeft-e.marginRight)/2+e.marginLeft,o=null;if(null!=e.properties.titleText&&""!=e.properties.titleText){var r=DxChart.getTextInfo({object:t.object,prefix:"title"});if(e.context.beginPath(),e.context.fillStyle=r.color,isNexacroRuntime&&e.context.setElementFillStyle(r.color),DxChart.isNumber(e.properties.titleFontStyleObj.size)||(r.size+=4),DxChart.isBoolean(e.properties.titleFontStyleObj.bold)||(r.bold=!0),o=e.properties.marginTop-r.size-5,"top"===e.properties.xaxisPosition&&(o=e.canvas.height-e.properties.marginBottom+r.size+5),e.properties.keyData&&e.properties.keyData.length&&e.properties.keyPosition&&"margin"!==e.properties.keyPosition)s="center";else if(e.properties.keyData&&e.properties.keyData.length&&e.properties.keyPosition&&"margin"===e.properties.keyPosition){s="bottom";var n=DxChart.measureText("Mg",e.properties.keyLabelsFontStyleObj.bold,e.properties.keyLabelsFontStyleObj.font,e.properties.keyLabelsFontStyleObj.size);o-=n[1],isNexacroRuntime&&(a+=2*n[1])}else s="center";DxChart.isNumber(e.properties.titleX)&&(a=e.properties.titleX),DxChart.isNumber(e.properties.titleY)&&(o=e.properties.titleY),DxChart.isString(e.properties.titleX)&&(a+=parseFloat(e.properties.titleX)),DxChart.isString(e.properties.titleY)&&(o+=parseFloat(e.properties.titleY)),DxChart.isNumber(e.properties.titleOffsetX)&&(a+=e.properties.titleOffsetX),DxChart.isNumber(e.properties.titleOffsetY)&&(o+=e.properties.titleOffsetY),s=DxChart.isString(e.properties.titleSubtitle)&&e.properties.titleSubtitle.length>0?"bottom":"center",DxChart.isString(e.properties.titleHalign)&&(i=e.properties.titleHalign),DxChart.isString(e.properties.titleValign)&&(s=e.properties.titleValign);var h=e.context.fillStyle;e.context.fillStyle=r.color?r.color:"black",isNexacroRuntime&&e.context.setElementFillStyle(e.context.fillStyle);DxChart.text({object:e,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:a,y:o,text:e.properties.titleText,valign:s,halign:i,tag:"title",marker:!1});if("string"==typeof e.properties.titleSubtitle&&e.properties.titleSubtitle.length){DxChart.isNull(e.properties.titleSubtitleFontStyleObj.size)&&(e.properties.titleSubtitleFontStyleObj.size=r.size-4);r=DxChart.getTextInfo({object:e,prefix:"titleSubtitle"}),DxChart.text({object:e,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:a+e.properties.titleSubtitleOffsetX,y:o+e.properties.titleSubtitleOffsetY,text:e.properties.titleSubtitle,valign:"top",halign:i,tag:"subtitle",marker:!1})}e.context.fillStyle=h,isNexacroRuntime&&e.context.setElementFillStyle(e.context.fillStyle)}},DxChart.getMouseXY=function(t){if(t.target){var e=t.target,i=e.style;i||(i={});var s,a,o=0,r=0,n=i&&parseInt(i.borderLeftWidth)||0,h=i&&parseInt(i.borderTopWidth)||0,l=i&&parseInt(i.paddingLeft)||0,c=i&&parseInt(i.paddingTop)||0,x=n+l,d=h+c;if("number"==typeof t.offsetX&&"number"==typeof t.offsetY)isNexacroRuntime?(s=t.pageX-n-l,a=t.pageY-h-c):DxChart.ISIE||DxChart.ISOPERA?DxChart.ISIE?(s=t.offsetX-l,a=t.offsetY-c):(s=t.offsetX,a=t.offsetY):(s=t.offsetX-n-l,a=t.offsetY-h-c);else{if(!isNexacroRuntime&&void 0!==e.offsetParent)do{o+=e.offsetLeft,r+=e.offsetTop}while(e=e.offsetParent);s=t.pageX-o-x,a=t.pageY-r-d,isNexacroRuntime||(s-=2*(parseInt(document.body.style.borderLeftWidth)||0),a-=2*(parseInt(document.body.style.borderTopWidth)||0))}return[s,a]}},DxChart.getCanvasXY=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return[e.x+i,e.y+s]}var a=0,o=0,r=t;if(isNexacroRuntime)return[a,o];do{a+=r.offsetLeft,o+=r.offsetTop,"table"==r.tagName.toLowerCase()&&(DxChart.ISCHROME||DxChart.ISSAFARI)&&(a+=parseInt(r.border)||0,o+=parseInt(r.border)||0),r=r.offsetParent}while(r&&"body"!=r.tagName.toLowerCase());var n=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,h=t.style.paddingTop?parseInt(t.style.paddingTop):0,l=t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0,c=t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(a+=parseInt(document.body.style.borderLeftWidth)||0,o+=parseInt(document.body.style.borderTopWidth)||0),[a+n+l,o+h+c]},DxChart.isFixed=function(){for(var t=DxChart.getArgs(arguments,"canvas");t.canvas&&"body"!=t.canvas.tagName.toLowerCase();){if("fixed"==t.canvas.style.position)return t.canvas;t.canvas=t.canvas.offsetParent}return!1},DxChart.register=function(){var t=DxChart.getArgs(arguments,"object");if("function"==typeof t.object){var e=t.object;t.object=new function(){this.id=null,this.isFunction=!0,this.canvas={id:null},this.getObjectByXY=function(){return!1},this.get=function(){},this.set=function(){},this.draw=function(){e()}}}t.object.get("noregister")||!1===t.object.get("register")||(DxChart.REG.add(t.object),t.object.set("register",!1))},DxChart.redraw=function(){var t=DxChart.getArgs(arguments,"color,cvs"),e=DxChart.REG.objects.byCanvasID;if("object"==typeof t.color&&t.color&&"function"==typeof t.color.toString&&"function"==typeof t.color.toString().indexOf&&t.color.toString().indexOf("HTMLCanvasElement")>-1)return DxChart.redrawCanvas(t.cvs,!0,t.color);if(isNexacroRuntime)for(var i=0,s=e.length;i<s;++i)e[i]&&DxChart.clear(e[i][1].canvas,t.color?t.color:null);else{var a=document.getElementsByTagName("canvas");for(i=0,s=a.length;i<s;++i)a[i]&&a[i].__object__&&a[i].__object__.isDxChart&&(a[i].noclear||(DxChart.clear(a[i],t.color?t.color:null),a[i].width=a[i].width,a[i].__initTranslated__=!1))}for(i=0,s=e.length;i<s;++i)if(e[i]){e[i][0];e[i][1].draw()}},DxChart._resizeCanvas=function(t){if(t){var e=DxChart.REG.getObjectsByCanvasID(t.id);if(t.__object__)for(var i=0,s=e.length;i<s;++i)e[i]&&e[i]&&e[i].isDxChart&&"function"==typeof e[i].initZoom&&e[i].initZoom()}},DxChart.redrawCanvas=function(t,e,i){if(t){var s=DxChart.REG.getObjectsByCanvasID(t.id);if(t.__object__){(DxChart.isNull(e)||"boolean"==typeof e&&!1!==e)&&(i=i||t.__object__.get("clearto")||"transparent",DxChart.clear(t,i));for(var a=0,o=s.length;a<o;++a)s[a]&&s[a]&&s[a].isDxChart&&s[a].draw()}}},DxChart.Background.draw=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=0,s=t.object.marginLeft,a=t.object.marginRight,o=t.object.marginTop,r=t.object.marginBottom,n=e.marginInner,h=e.variantValue;if(!1!==e.backgroundUse){"hbar"!=t.object.type&&"gantt"!=t.object.type||(n=0);var l=t.object.canvas.width-s-a,c=t.object.canvas.height-o-r;if(!(l<30||c<10)){if(n||(n=0),t.object.context.fillStyle=e.textColor,isNexacroRuntime&&t.object.context.setElementFillStyle(e.textColor),"3d"==h&&(t.object.context.save(),t.object.context.translate(e.variantThreedOffsetX,-1*e.variantThreedOffsetY)),"bar"!==t.object.type&&"heatmap"!==t.object.type&&"waterfall"!==t.object.type&&"hbar"!==t.object.type&&"line"!==t.object.type&&"gantt"!==t.object.type&&"scatter"!==t.object.type&&"string"==typeof e.xaxisTitle&&e.xaxisTitle.length){e.textFontStyleObj.size;var x=(t.object.canvas.width-s-a)/2+s,d=t.object.canvas.height-r+25;"number"==typeof e.xaxisTitlePos&&(d=t.object.canvas.height-r*e.xaxisTitlePos),"number"==typeof e.xaxisTitleX&&(x=e.xaxisTitleX),"number"==typeof e.xaxisTitleY&&(d=e.xaxisTitleY);var u=DxChart.getTextInfo({object:t.object,prefix:"xaxisTitle"});DxChart.text({object:t.object,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:x,y:d,text:e.xaxisTitle,halign:"center",valign:"top",tag:"xaxis.title"})}if("bar"!==t.object.type&&"heatmap"!==t.object.type&&"waterfall"!==t.object.type&&"hbar"!==t.object.type&&"line"!==t.object.type&&"gantt"!==t.object.type&&"scatter"!==t.object.type&&"string"==typeof e.yaxisTitle&&e.yaxisTitle.length){e.textFontStyleObj.size,e.textFontStyleObj.face,e.textFontStyleObj.italic;var g=270,p=(e.yaxisTitleBold,e.yaxisTitleColor);if("number"==typeof e.yaxisTitlePos)var f=e.yaxisTitlePos*s;else if("hbar"===t.object.type&&DxChart.isNull(e.yaxisTitlePos))"number"==typeof t.object.yaxisLabelsFontStyleObj.size?t.object.yaxisLabelsFontStyleObj.size:e.textFontStyleObj.size,f=e.marginLeft-t.object.yaxisLabelsFontStyleObj.size;else{if(t.object&&t.object.scale2)var m=DxChart.measureText({text:t.object.scale2.labels[t.object.scale2.labels.length-1],bold:"boolean"==typeof e.yaxisScaleBold?e.yaxisScaleBold:e.textFontStyleObj.bold,font:e.yaxisScaleFont||e.textFontStyleObj.face,size:"number"==typeof e.yaxisScaleSize?e.yaxisScaleSize:e.textFontStyleObj.size});else m=[0,0];f=e.marginLeft-m[0]-7}"number"==typeof e.yaxisTitleFontStyleObj.size&&e.yaxisTitleFontStyleObj.size,"boolean"==typeof e.yaxisTitleFontStyleObj.italic&&e.yaxisTitleFontStyleObj.italic,"string"==typeof e.yaxisTitleFontStyleObj.face&&e.yaxisTitleFontStyleObj.face,("right"==e.yaxisTitleAlign||"right"==e.yaxisTitlePosition||"hbar"===t.object.type&&"right"===e.yaxisPosition&&void 0===e.yaxisTitleAlign&&void 0===e.yaxisTitlePosition)&&(g=90,f="number"==typeof e.yaxisTitlePos?t.object.canvas.width-a+e.yaxisTitlePos*a:t.object.canvas.width-a+(e.yaxisLabelsFontStyleObj.size||e.textFontStyleObj.size)+10);var b=(t.object.canvas.height-o-r)/2+o;"number"==typeof e.yaxisTitleX&&(f=e.yaxisTitleX),"number"==typeof e.yaxisTitleY&&(b=e.yaxisTitleY),t.object.context.fillStyle=p,isNexacroRuntime&&t.object.context.setElementFillStyle(p);u=DxChart.getTextInfo({object:t.object,prefix:"yaxisTitle"});DxChart.text({object:t.object,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:f,y:b,valign:"bottom",halign:"center",angle:g,text:e.yaxisTitle,tag:"yaxis.title",accessible:!1})}var C=e.backgroundColor;C&&("map"==t.object.type?(t.object.context.fillStyle=DxChart.parseGradient(t.object,C,0,0,t.object.canvas.width,t.object.canvas.height),isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.fillRect(0,0,t.object.canvas.width,t.object.canvas.height)):(t.object.context.fillStyle=DxChart.parseGradient(t.object,C,s+.5,o+.5,t.object.canvas.width-s-a,t.object.canvas.height-o-r),isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.fillRect(s+.5,o+.5,t.object.canvas.width-s-a,t.object.canvas.height-o-r)));var y=e.yaxisLabelsCount||5;"number"==typeof e.backgroundBarsCount&&(y=e.backgroundBarsCount);var v=(t.object.canvas.height-r-o)/y,D=0;if(isNexacroRuntime&&(D=1),e.backgroundBarsColor1){t.object.context.beginPath(),t.object.context.fillStyle=e.backgroundBarsColor1,isNexacroRuntime&&t.object.context.setElementFillStyle(e.backgroundBarsColor1),t.object.context.strokeStyle=e.backgroundBarsColor1,isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),i=t.object.canvas.height-r;for(var S=0;S<y;S+=2)t.object.context.rect(s,S*v+o,t.object.canvas.width-s-a,v+D);t.object.context.fill()}if(e.backgroundBarsColor2){t.object.context.beginPath(),t.object.context.fillStyle=e.backgroundBarsColor2,isNexacroRuntime&&t.object.context.setElementFillStyle(e.backgroundBarsColor2),t.object.context.strokeStyle=e.backgroundBarsColor2,isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle);for(S=1;S<y;S+=2)t.object.context.rect(s,S*v+o,t.object.canvas.width-s-a,v+D);t.object.context.fill()}if(e.backgroundEffect&&""!=e.backgroundEffect){var k=t.object.canvas.width-t.object.marginLeft-t.object.marginRight,w=(i=t.object.canvas.height-t.object.marginTop-t.object.marginBottom,t.object.marginLeft+k/2),_=t.object.marginTop+i/2;if(t.object.adjustSpace={x:t.object.marginLeft,y:t.object.marginTop,r:t.object.marginLeft+k,b:t.object.marginTop+i},"WaterColor"==e.backgroundEffect){if(this.waterColorCnt=0,t.object.waterCoord){S=0;for(var T=t.object.waterCoord.length;S<T;S++)t.object.waterCoord[S]=null}t.object.waterCoord=[],t.object.waterColorSeq==undefined&&(t.object.waterColorSeq=0),t.object.waterColorSeq++,t.object.context.globalCompositeOperation="hard-light",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("hard-light");var P=t.object.context.globalAlpha;t.object.context.globalAlpha=e.backgroundEffectAlpha||.25,isNexacroRuntime&&t.object.context.setElementGlobalAlpha(t.object.context.globalAlpha);for(S=0,T=10;S<T;S++)t.object.waterCoord.push(new WaterColor({ctx:t.object.context,size:k*(.7+.1*Math.random()),x:w+Math.cos(S/T*DxChart.TWOPI)*w,y:_+Math.sin(S/T*DxChart.TWOPI)*_,minColor:e.backgroundMinColorCode||0,maxColor:e.backgroundMaxColorCode||255,parentNode:t.object,waterColorSeq:t.object.waterColorSeq}));t.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("source-over"),t.object.context.globalAlpha=P}else if("Lamp"==e.backgroundEffect){t.object.context.globalCompositeOperation="lighter",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("lighter");new BgLamp({context:t.object.context,canvas:t.object.canvas,radius:e.backgroundEffectLampRadius,count:e.backgroundEffectLampCount,blur:e.backgroundEffectLampBlur,backgroundColors:e.backgroundEffectLampBackgroundColors,colors:e.backgroundLampColors});t.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("source-over")}else if("Crystal"==e.backgroundEffect){t.object.context.globalCompositeOperation="lighter",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("lighter");new BgCrystal({context:t.object.context,canvas:t.object.canvas,color:e.backgroundEffectCrystalColor});t.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("source-over")}else if("Ball"==e.backgroundEffect){var R=[];t.object.context.globalCompositeOperation="lighten",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("lighten");var L;P=t.object.context.globalAlpha;if(t.object.context.globalAlpha=e.backgroundEffectAlpha||.25,isNexacroRuntime&&t.object.context.setElementGlobalAlpha(t.object.context.globalAlpha),t.object.Balls)for(S=0,T=t.object.Balls.length;S<T;S++)t.object.Balls[S]=null;t.object.Balls=[];for(let i=0;i<10;i++)L=new BgBall({ctx:t.object.context,startColor:e.backgroundEffectBallStartColor,endColor:e.backgroundEffectBallEndColor,parentNode:t.object}),R.push(L),L.draw();t.object.Balls=R,t.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&t.object.context.setElementGlobalCompositeOperation("source-over"),t.object.context.globalAlpha=P}else if("Wave"==e.backgroundEffect){P=t.object.context.globalAlpha;t.object.context.globalAlpha=e.backgroundEffectAlpha||.25,isNexacroRuntime&&t.object.context.setElementGlobalAlpha(t.object.context.globalAlpha),t.object.Waves&&(t.object.Waves=null),t.object.Waves=new BgWaves({canvas:t.object.canvas,ctx:t.object.context,waves:e.backgroundEffectWaveCount||3,hue:e.backgroundEffectWaveHue||[11,14],width:k,parentNode:t.object,alpha:e.backgroundEffectAlpha,background:e.backgroundEffectBackColorUse,backColor1:e.backgroundEffectColor1,backColor2:e.backgroundEffectColor2}),t.object.Waves.render(),t.object.context.globalAlpha=P}}t.object.context.beginPath();var j=function(h,l,c){if(e.backgroundGrid){if(e.backgroundGridHlinesCount+=1e-4,e.backgroundGridAutofit){e.backgroundGridAutofitAlign&&("hbar"===h.type&&h.set("backgroundGridHlinesCount",h.data.length),"line"===h.type?"number"==typeof e.backgroundGridVlinesCount||(e.xaxisLabels&&e.xaxisLabels.length?h.set("backgroundGridVlinesCount",e.xaxisLabels.length-1):h.set("backgroundGridVlinesCount",h.data[0].length>0?h.data[0].length-1:0)):"waterfall"===h.type?h.set("backgroundGridVlinesCount",h.data.length+(e.totalUse?1:0)):"bar"===h.type?h.set("backgroundGridVlinesCount",h.data.length):"scatter"===h.type?"number"!=typeof e.backgroundGridVlinesCount&&(DxChart.isArray(e.xaxisLabels)&&e.xaxisLabels.length?h.set("backgroundGridVlinesCount",e.xaxisLabels.length):h.set("backgroundGridVlinesCount",10)):"gantt"===h.type?("number"==typeof h.get("backgroundGridVlinesCount")||h.set("backgroundGridVlinesCount",e.xaxisScaleMax),h.set("backgroundGridHlinesCount",h.data.length)):"hbar"===h.type&&DxChart.isNull(e.backgroundGridHlinesCount)&&h.set("backgroundGridHlinesCount",h.data.length));var x=0;x="line"===h.type?(l.width-s-a-2*n)/e.backgroundGridVlinesCount:(l.width-s-a)/e.backgroundGridVlinesCount;var d=(l.height-o-r)/e.backgroundGridHlinesCount;h.set("backgroundGridVsize",x),h.set("backgroundGridHsize",d)}if(e.backgroundVBarsColor1&&e.backgroundVBarsColor2){var u=l.width-a,g=0,p=s;"line"===t.object.type&&(p=s+n);for(var f=p;Math.round(f)<=u&&!(f+x/2>u);f+=x)c.beginPath(),++g%2==1?(c.fillStyle=e.backgroundVBarsColor1,isNexacroRuntime&&c.setElementFillStyle(e.backgroundVBarsColor1)):(c.fillStyle=e.backgroundVBarsColor2,isNexacroRuntime&&c.setElementFillStyle(e.backgroundVBarsColor2)),c.rect(f,o,x,h.canvas.height-o-r),c.closePath(),c.fill()}if(c.beginPath(),c.lineWidth=e.backgroundGridLineWidth?e.backgroundGridLineWidth:1,isNexacroRuntime&&c.setElementLineWidth(c.lineWidth),c.strokeStyle=e.backgroundGridColor,isNexacroRuntime&&c.setElementStrokeStyle(c.strokeStyle),e.backgroundGridDashed&&(isNexacroRuntime?c.setElementLineStyle("dashed"):c.setLineDash([3,5])),e.backgroundGridDotted&&(isNexacroRuntime?c.setElementLineStyle("dotted"):c.setLineDash([1,3])),e.backgroundGridHlines){i=l.height-r;d=e.backgroundGridHsize;for(b=o;b<=i;b+=d)c.moveTo(s,parseInt(b)),c.lineTo(t.object.canvas.width-a,parseInt(b)),"3d"===t.object.properties.variantValue&&"bar"===t.object.type&&t.object.properties.backgroundGridThreedYaxis&&(c.moveTo(s,parseInt(b)),c.lineTo(s-t.object.properties.variantThreedOffsetX,parseInt(b)+t.object.properties.variantThreedOffsetY))}if(e.backgroundGridVlines){u=l.width-a,x=e.backgroundGridVsize,g=0;var m=[],C=[];if("line"===t.object.type)for(f=s+n;Math.round(f)<=u;f+=x)m.push([Math.round(f),o]),C.push([Math.round(f),h.canvas.height-r]);else for(f=s;Math.round(f)<=u;f+=x)m.push([Math.round(f),o]),C.push([Math.round(f),h.canvas.height-r]);var y=0,v=m.length;n>0&&(y=1,v-=1);for(f=y;f<v;f++)c.moveTo(m[f][0],m[f][1]),c.lineTo(C[f][0],C[f][1]);m=C=null}e.backgroundGridBorder&&(c.strokeStyle=e.backgroundGridColor,isNexacroRuntime&&c.setElementStrokeStyle(c.strokeStyle),c.strokeRect(Math.round(s),Math.round(o),h.canvas.width-s-a,h.canvas.height-o-r))}c.stroke(),c.beginPath(),c.closePath()};e.backgroundGrid&&(isNexacroRuntime?j(t.object,t.object.canvas,t.object.context):!0===e.backgroundNoCache?j(t.object,t.object.canvas,t.object.context):DxChart.cachedDraw(t.object,t.object.uid,j)),"3d"==h&&t.object.context.restore(),"function"==typeof t.object.context.setLineDash&&(isNexacroRuntime?t.object.context.setElementLineStyle("dash"):t.object.context.setLineDash([1,0])),t.object.context.stroke(),"string"==typeof t.object.properties.titleText&&DxChart.drawTitle(t.object)}}},DxChart.numberFormat=function(t){var e=t.unitspre?String(t.unitspre):"",i=t.unitspost?String(t.unitspost):"",s="",a="",o="string"==typeof t.point?t.point:".",r="string"==typeof t.thousand?t.thousand:",";if(RegExp.$1="","function"==typeof t.formatter)return t.formatter(t);if(String(t.number).indexOf("e")>0)return String(e+String(t.number)+i);if(t.number=String(t.number),t.number.indexOf(".")>0){var n=t.number;t.number=t.number.replace(/\.(.*)/,""),a=n.replace(/(.*)\.(.*)/,"$2")}for(var h=r,l=t.number.length-1,c=0;l>=0;c++,l--){c%3==0&&0!=c&&(s+=h),s+=t.number.charAt(l)}var x=s;s="";for(l=x.length-1;l>=0;l--)s+=x.charAt(l);return 0==s.indexOf("-"+t.thousand)&&(s="-"+s.substr(("-"+t.thousand).length)),a.length&&(s=s+o+a,a="",RegExp.$1=""),"-"==s.charAt(0)&&(s=s.replace(/-/,""),e="-"+e),e+(s=s.replace(/^,+/,""))+i},DxChart.drawBars=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=e.backgroundHbars;if(null!==i){t.object.context.beginPath();for(var s=0,a=i.length;s<a;++s){var o=i[s][0],r=i[s][1],n=i[s][2];DxChart.isNull(o)&&(o=t.object.scale2.max),o>t.object.scale2.max&&(o=t.object.scale2.max),DxChart.isNull(r)&&(r=t.object.scale2.max-o),o+r>t.object.scale2.max&&(r=t.object.scale2.max-o),o+r<-1*t.object.scale2.max&&(r=-1*t.object.scale2.max-o),"center"==e.xaxisPosition&&o==t.object.scale2.max&&r<-2*t.object.scale2.max&&(r=-2*t.object.scale2.max);var h=e.marginLeft,l=t.object.getYCoord(o),c=t.object.canvas.width-e.marginLeft-e.marginRight,x=t.object.getYCoord(o+r)-l;-1!=DxChart.ISOPERA&&"center"==e.xaxisPosition&&x<0&&(l-=x*=-1),"top"==e.xaxisPosition&&(l=t.object.canvas.height-l,x*=-1),t.object.context.fillStyle=DxChart.parseLinearGradientInfo(t.object,n,h,l,c,x),isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.fillRect(h,l,c,x)}}},DxChart.drawInGraphLabels=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=e.labelsIngraph,s=[];if(i){for(var a,o,r=DxChart.getTextInfo({object:t.object,prefix:"labelsIngraph"}),n=0,h=i.length;n<h;n+=1)if("number"==typeof i[n])for(var l=0;l<i[n];++l)s.push(null);else"string"==typeof i[n]||"object"==typeof i[n]?s.push(i[n]):s.push("");if(DxChart.noShadow(t.object),s&&s.length>0)for(n=0,h=s.length;n<h;n+=1)if(s[n]){var c=t.object.coords[n];if(c&&c.length>0){var x=("bar"==t.object.type?c[0]+c[2]/2:c[0])+(e.labelsIngraphOffsetX||0),d=("bar"==t.object.type?c[1]+c[3]/2:c[1])+(e.labelsIngraphOffsetY||0),u="number"==typeof s[n][4]?s[n][4]:25;if(t.object.context.beginPath(),t.object.context.fillStyle=e.labelsIngraphBackgroundColor||"black",isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.strokeStyle=e.labelsIngraphLineColor||"black",isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),"bar"===t.object.type)"top"==t.object.get("xaxisPosition")&&(u*=-1),"dot"==e.variantValue?(t.object.context.moveTo(Math.round(x),t.object.coords[n][1]-5),t.object.context.lineTo(Math.round(x),t.object.coords[n][1]-5-u),a=Math.round(x),o=t.object.coords[n][1]-5-u):"arrow"==e.variantValue?(t.object.context.moveTo(Math.round(x),t.object.coords[n][1]-5),t.object.context.lineTo(Math.round(x),t.object.coords[n][1]-5-u),a=Math.round(x),o=t.object.coords[n][1]-5-u):(t.object.context.arc(Math.round(x),d,2.5,0,6.28,0),!0===e.labelsIngraphLabelTop?(t.object.context.moveTo(Math.round(x),d),t.object.context.lineTo(Math.round(x),t.object.coords[n][1]-5-u),a=Math.round(x),o=t.object.coords[n][1]-5-u):(t.object.context.moveTo(Math.round(x),d),t.object.context.lineTo(Math.round(x),d-u),a=Math.round(x),o=d-u)),t.object.context.stroke(),t.object.context.fill();else{if("object"==typeof s[n]&&"number"==typeof s[n][3]&&-1==s[n][3]){f(x,d);var g="top";a=x,o=d+5+u}else{if(a=x,(o=d-5-u)<5&&("string"==typeof s[n]||void 0===s[n][3])){o=d+5+u;g="top"}"top"===g?f(x,d):m(x,d)}t.object.context.fill()}t.object.context.beginPath(),"object"==typeof s[n]&&"string"==typeof s[n][1]?t.object.context.fillStyle=s[n][1]:t.object.context.fillStyle=e.labelsIngraphColor,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle);var p=t.object.properties.labelsIngraphTextBound;null!=p&&p!=undefined||(p=!0),DxChart.text({object:t.object,font:r.font,size:r.size,color:t.object.context.fillStyle||r.color,bold:r.bold,italic:r.italic,x:a,y:o+(t.object.properties.textAccessible?2:0),text:"object"==typeof s[n]&&"string"==typeof s[n][0]?s[n][0]:s[n],valign:g||"bottom",halign:"center",bounding:p,"bounding.fill":"object"==typeof s[n]&&"string"==typeof s[n][2]?s[n][2]:"white",tag:"labels ingraph"}),t.object.context.fill()}function f(e,i){t.object.context.moveTo(Math.round(e),i+5),t.object.context.lineTo(Math.round(e),i+5+u),t.object.context.stroke(),t.object.context.beginPath(),t.object.context.moveTo(Math.round(e),i+5),t.object.context.lineTo(Math.round(e)-3,i+10),t.object.context.lineTo(Math.round(e)+3,i+10),t.object.context.closePath()}function m(e,i){t.object.context.moveTo(Math.round(e),i-5),t.object.context.lineTo(Math.round(e),i-5-u),t.object.context.stroke(),t.object.context.beginPath(),t.object.context.moveTo(Math.round(e),i-5),t.object.context.lineTo(Math.round(e)-3,i-10),t.object.context.lineTo(Math.round(e)+3,i-10),t.object.context.closePath()}g=undefined}}},DxChart.hideCrosshairCoords=function(){var t=DxChart.Registry.get("coordinates.coords.div");if(t&&(t.style&&1==t.style.opacity||1==t.opacity)&&t.__object__.get("crosshairsCoordsFadeout"))if(isNexacroRuntime)nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.9)},25),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.8)},50),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.7)},75),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.6)},100),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.5)},125),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.4)},150),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.3)},175),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.2)},200),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_opacity(.1)},225),nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_visible(!1)},275);else{var e=DxChart.Registry.get("coordinates.coords.div").style;setTimeout(function(){e.opacity=.9},25),setTimeout(function(){e.opacity=.8},50),setTimeout(function(){e.opacity=.7},75),setTimeout(function(){e.opacity=.6},100),setTimeout(function(){e.opacity=.5},125),setTimeout(function(){e.opacity=.4},150),setTimeout(function(){e.opacity=.3},175),setTimeout(function(){e.opacity=.2},200),setTimeout(function(){e.opacity=.1},225),setTimeout(function(){e.opacity=0},250),setTimeout(function(){e.display="none"},275)}else if(isNexacroRuntime)nexacro._OnceCallbackTimer.callonce(t._refform,function(){t.set_visible(!1)},275);else{e=DxChart.Registry.get("coordinates.coords.div").style;setTimeout(function(){e.display="none"},275)}},DxChart.draw3DAxes=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=t.object.marginLeft,s=t.object.marginRight,a=t.object.marginTop,o=t.object.marginBottom,r=e.xaxisPosition,n=(t.object.canvas.height-a-o)/2,h=e.variantThreedOffsetX,l=e.variantThreedOffsetY,c=e.variantThreedXaxis;if(e.variantThreedYaxis&&DxChart.draw3DYAxis(t.object),c)if("center"===r)t.object.path("b m % % l % % l % % l % % c s #aaa f %",i,a+n,i+h,a+n-l,t.object.canvas.width-s+h,a+n-l,t.object.canvas.width-s,a+n,e.variantThreedXaxisColor);else{if("hbar"===t.object.type)var x=t.object.canvas.height-t.object.properties.marginBottom;else x=t.object.getYCoord(0);t.object.path("m % % l % % l % % l % % c s #aaa f %",i,x,i+h,x-l,t.object.canvas.width-s+h,x-l,t.object.canvas.width-s,x,e.variantThreedXaxisColor)}},DxChart.draw3DYAxis=function(t){var e=(t=DxChart.getArgs(arguments,"object")).object.properties,i=t.object.marginLeft,s=t.object.marginRight,a=t.object.marginTop,o=t.object.marginBottom,r=(e.xaxisPosition,t.object.canvas.height,e.variantThreedOffsetX),n=e.variantThreedOffsetY;e.variantThreedYaxisColor;if("hbar"!==t.object.type&&"bar"!==t.object.type||"center"!==e.yaxisPosition)if("hbar"!==t.object.type&&"bar"!==t.object.type||"right"!==e.yaxisPosition)h=i;else var h=t.object.canvas.width-s;else var h=(t.object.canvas.width-i-s)/2+i;t.object.path("b m % % l % % l % % l % % s #aaa f % b",h,a,h+r,a-n,h+r,t.object.canvas.height-o-n,h,t.object.canvas.height-o,e.variantThreedYaxisColor)},DxChart.roundedRect=function(){var t=DxChart.getArgs(arguments,"context,x,y,width,height,radius,roundtl,roundtr,roundbl,roundbr"),e=t.radius&&t.radius,i=(e=Math.min(Math.min(t.width,t.height)/2,t.radius),!1!==t.roundtl),s=!1!==t.roundtr,a=!1!==t.roundbl,o=!1!==t.roundbr;t.context.beginPath(),t.context.moveTo(t.x,t.y+e),i?t.context.quadraticCurveTo(t.x,t.y,t.x+e,t.y):(t.context.lineTo(t.x,t.y),t.context.lineTo(t.x+e,t.y)),t.context.lineTo(t.x+t.width-e,t.y),s?t.context.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+e):(t.context.lineTo(t.x+t.width,t.y),t.context.lineTo(t.x+t.width,t.y+e)),t.context.lineTo(t.x+t.width,t.y+t.height-e),o?t.context.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-e,t.y+t.height):(t.context.lineTo(t.x+t.width,t.y+t.height),t.context.lineTo(t.x+t.width-e,t.y+t.height)),t.context.lineTo(t.x+e,t.y+t.height),a?t.context.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-e):(t.context.lineTo(t.x,t.y+t.height),t.context.lineTo(t.x,t.y+t.height-e)),t.context.closePath()},DxChart.addCustomEventListener=function(){var t=DxChart.getArgs(arguments,"object,name,func");return void 0===DxChart.events[t.object.uid]&&(DxChart.events[t.object.uid]=[]),"on"!==t.name.substr(0,2)&&(t.name="on"+t.name),DxChart.events[t.object.uid].push([t.object,t.name,t.func]),DxChart.events[t.object.uid].length-1},DxChart._fireEvent=function(){var t=DxChart.getArgs(arguments,"object,name");if(t.object&&t.object.isDxChart){t.object[t.name]&&t.object[t.name](t.object);var e=t.object.uid;if("string"==typeof e&&"object"==typeof DxChart.events&&"object"==typeof DxChart.events[e]&&DxChart.events[e].length>0)for(var i=0;i<DxChart.events[e].length;++i)DxChart.events[e][i]&&DxChart.events[e][i][1]===t.name&&DxChart.events[e][i][2](t.object)}},DxChart.removeAllCustomEventListeners=function(){var t=DxChart.getArgs(arguments,"uid");t.uid&&DxChart.events[t.uid]?DxChart.events[t.uid]=[]:(DxChart.events=[],DxChart.REG.iterate(function(t){t.onclick&&(t.onclick=null),t.onmousemove&&(t.onmousemove=null),t.onmouseover&&(t.onmouseover=null),t.onmouseout&&(t.onmouseout=null)}))},DxChart.removeCustomEventListener=function(){var t=DxChart.getArgs(arguments,"object,index");"object"==typeof DxChart.events&&"object"==typeof DxChart.events[t.object.uid]&&"object"==typeof DxChart.events[t.object.uid][t.index]&&(DxChart.events[t.object.uid][t.index]=null)},DxChart._drawBackgroundImageCallback=function(t,e){var i,s,a=t.properties,o=t.marginLeft||a.marginLeft,r=t.marginRight||a.marginRight,n=t.marginTop||a.marginTop,h=t.marginBottom||a.marginBottom,l=a.backgroundImageStretch,c=a.backgroundImageAlign;"string"==typeof c?(i=-1!=c.indexOf("right")?t.canvas.width-(a.backgroundImageW||e.width)-r:o,s=-1!=c.indexOf("bottom")?t.canvas.height-(a.backgroundImageH||e.height)-h:n):(i=o||25,s=n||25),i="number"==typeof a.backgroundImageX?a.backgroundImageX:i,s="number"==typeof a.backgroundImageY?a.backgroundImageY:s;var x=l?t.canvas.width-o-r:e.width,d=l?t.canvas.height-n-h:e.height;"number"==typeof a.backgroundImageW&&(x=a.backgroundImageW),"number"==typeof a.backgroundImageH&&(d=a.backgroundImageH);var u=t.context.globalAlpha;t.context.globalAlpha=a.backgroundImageAlpha,isNexacroRuntime&&t.context.setElementGlobalAlpha(t.context.globalAlpha),t.context.drawImage(e,i,s,x,d),t.context.globalAlpha=u,isNexacroRuntime&&t.context.setElementGlobalAlpha(t.context.globalAlpha)},DxChart.drawBackgroundImage=function(t){var e;if("string"==typeof(t=DxChart.getArgs(arguments,"object")).object.properties.backgroundImage){var i=t.object.get("backgroundImage");if(void 0===t.object.canvas.__DxChart_background_image__){if(isNexacroRuntime){e={},t.object.canvas._imgobj||(t.object.canvas._imgobj={});e.src=i,e.handle=nexacro._getImageObject(i,function(i,s,a,o){t.object.__DxChart_background_image_loaded__=!0,e.width=s,e.height=a,e.imagewidth=s,e.imageheight=a,DxChart._drawBackgroundImageCallback(t.object,e)},this,"",!1)}else{if(e=new Image,nexacro){if("url("==i.substring(0,4).toLowerCase()&&(i=i.substring(5,i.length-2)),!i||!i.length)return null;i=nexacro._getImageLocation(i)}e.src=i}e.__object__=t.object,e.__canvas__=t.object.canvas,e.__context__=t.object.context,t.object.canvas.__DxChart_background_image__=e}else e=t.object.canvas.__DxChart_background_image__;isNexacroRuntime||(e.onload=function(){t.object.__DxChart_background_image_loaded__=!0,DxChart.clear(t.object.canvas),DxChart.redrawCanvas(t.object.canvas)},DxChart._drawBackgroundImageCallback(t.object,e))}},DxChart.hasTooltips=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties;if("object"==typeof e.tooltipsData&&e.tooltipsData){for(var i=0,s=e.tooltipsData.length;i<s;++i)if(!DxChart.isNull(t.object.get("tooltips")[i]))return!0}else if("function"==typeof e.tooltipsData)return!0;return!1},DxChart.createUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},DxChart.REG.add=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.uid,i=t.object.canvas.id;DxChart.REG.objects.byUID[DxChart.REG.objects.byUID.length]=[e,t.object],DxChart.REG.objects.byCanvasID.push([i,t.object])},DxChart.REG.remove=function(){for(var t=DxChart.getArgs(arguments,"object"),e=(t.object.id,t.object.uid),i=0;i<DxChart.REG.objects.byUID.length;++i)DxChart.REG.objects.byUID[i]&&DxChart.REG.objects.byUID[i][1].uid==e&&(DxChart.REG.objects.byUID[i]=null);for(i=0;i<DxChart.REG.objects.byCanvasID.length;++i)DxChart.REG.objects.byCanvasID[i]&&DxChart.REG.objects.byCanvasID[i][1]&&DxChart.REG.objects.byCanvasID[i][1].uid==e&&(DxChart.REG.objects.byCanvasID[i]=null)},DxChart.REG.clear=function(){if("object"!=typeof arguments[0]||DxChart.isNull(arguments)||"object"!=typeof arguments[0].canvas&&"string"!=typeof arguments[0].id)if("string"==typeof arguments[0])t={id:arguments[0]};else{if("object"!=typeof arguments[0]||!arguments[0].getContext)return DxChart.REG.objects={},DxChart.REG.objects.byUID=[],void(DxChart.REG.objects.byCanvasID=[]);t={canvas:arguments[0]}}else var t=arguments[0];if(t.id||t.canvas){t.canvas&&(t.id=t.canvas.id);for(var e=DxChart.REG.getObjectsByCanvasID(t.id),i=0,s=e.length;i<s;++i)DxChart.REG.remove(e[i])}else DxChart.REG.objects={},DxChart.REG.objects.byUID=[],DxChart.REG.objects.byCanvasID=[]},DxChart.REG.list=function(){for(var t=DxChart.getArgs(arguments,"alert"),e=[],i=0,s=DxChart.REG.objects.byUID.length;i<s;++i)DxChart.REG.objects.byUID[i]&&e.push(DxChart.REG.objects.byUID[i][1].type);if(!t.alert)return e;$p(e)},DxChart.REG.clearByType=function(){for(var t=DxChart.getArgs(arguments,"type"),e=DxChart.REG.objects.byUID,i=0,s=e.length;i<s;++i)if(e[i]){e[i][0];var a=e[i][1];a&&a.type===t.type&&DxChart.REG.remove(a)}},DxChart.REG.iterate=function(){for(var t=DxChart.getArgs(arguments,"func,type"),e=DxChart.REG.objects.byUID,i=0,s=e.length;i<s;++i)if("string"==typeof t.type)for(var a=t.type.split(/,/),o=0,r=a.length;o<r;++o)a[o]==e[i][1].type&&t.func(e[i][1]);else t.func(e[i][1])},DxChart.REG.getObjectsByCanvasID=function(t){for(var e=DxChart.REG.objects.byCanvasID,i=[],s=0,a=e.length;s<a;++s)e[s]&&e[s][0]==t&&i.push(e[s][1]);return i},DxChart.REG.firstbyxy=DxChart.REG.getObjectByXY=DxChart.REG.getFirstObjectByXY=function(){for(var t=DxChart.getArgs(arguments,"event"),e=t.event.target,i=DxChart.REG.getObjectsByCanvasID(e.id),s=i.length-1;s>=0;--s){var a=i[s].getObjectByXY(t.event);if(a)return a}},DxChart.REG.getObjectsByXY=function(t){for(var e=t.target,i=[],s=DxChart.REG.getObjectsByCanvasID(e.id),a=s.length-1;a>=0;--a){var o=s[a].getObjectByXY(t);o&&i.push(o)}return i},DxChart.REG.get=DxChart.REG.getObjectByUID=function(){for(var t=DxChart.getArgs(arguments,"uid"),e=DxChart.REG.objects.byUID,i=0,s=e.length;i<s;++i)if(e[i]&&e[i][1].uid==t.uid)return e[i][1]},DxChart.REG.bringToFront=function(){var t=DxChart.getArgs(arguments,"object,redraw"),e=!!t.redraw||t.redraw;DxChart.REG.remove(t.object),DxChart.REG.add(t.object),e&&DxChart.redrawCanvas(t.object.canvas)},DxChart.REG.type=DxChart.REG.getObjectsByType=function(){var t=DxChart.getArgs(arguments,"type"),e=DxChart.REG.objects.byUID,i=[];for(var s in e)e[s]&&e[s][1]&&e[s][1].type&&e[s][1].type&&e[s][1].type==t.type&&i.push(e[s][1]);return i},DxChart.REG.first=DxChart.REG.getFirstObjectByType=function(){var t=DxChart.getArgs(arguments,"type"),e=DxChart.REG.objects.byUID;for(var i in e)if(e[i]&&e[i][1]&&e[i][1].type==t.type)return e[i][1];return null},DxChart.getAngleByXY=function(){var t=DxChart.getArgs(arguments,"cx,cy,x,y"),e=Math.atan((t.y-t.cy)/(t.x-t.cx));return e=Math.abs(e),t.x>=t.cx&&t.y>=t.cy?e+=DxChart.TWOPI:t.x>=t.cx&&t.y<t.cy?e=DxChart.HALFPI-e+(DxChart.PI+DxChart.HALFPI):t.x<t.cx&&t.y<t.cy?e+=DxChart.PI:e=DxChart.PI-e,e>DxChart.TWOPI&&(e-=DxChart.TWOPI),isNexacroRuntime&&(e-=DxChart.HALFPI),e},DxChart.getHypLength=function(){var t=DxChart.getArgs(arguments,"x1,y1,x2,y2");return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))},DxChart.getRadiusEndPoint=function(t,e,i,s){return[t+Math.cos(i)*s,e+Math.sin(i)*s]},DxChart.installEventListeners=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties;DxChart.installCanvasClickListener?(DxChart.installWindowMousedownListener(t.object),DxChart.installWindowMouseupListener(t.object),DxChart.installCanvasMousemoveListener(t.object),DxChart.installCanvasMouseupListener(t.object),DxChart.installCanvasMousedownListener(t.object),DxChart.installCanvasClickListener(t.object),nexacro||DxChart.installCanvasResizeListener(t.object),"org"!=t.object.type&&"tree"!=t.object.type&&"map"!=t.object.type||DxChart.installCanvasWheelListener(t.object)):(DxChart.hasTooltips(t.object)||e.changeableValue||e.annotationValue||e.contextmenu||e.keyInteractive||"function"==typeof t.object.onclick||"function"==typeof t.object.onmousemove||"function"==typeof t.object.onmouseout||"function"==typeof t.object.onmouseover)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: DxChart.common.dynamic.js")},DxChart.pr=function(t){var e=DxChart.getArgs(arguments,"object,alert,indent,counter"),i=e.indent?e.indent:"    ",s="",a="number"==typeof e.counter?e.counter:0;if(a>=3)return"";switch(typeof t){case"string":s+=e.object+" ("+typeof e.object+", "+e.object.length+")";break;case"number":case"boolean":s+=e.object+" ("+typeof e.object+")";break;case"function":s+="function () {}";break;case"undefined":s+="undefined";break;case"null":s+="null";break;case"object":if(DxChart.isNull(e.object))s+="null";else{for(var o in s+="Object {\n",t)s+=i+"    "+o+" => "+DxChart.pr(e.object[o],!0,i+"    ",a+1)+"\n";s+=i+"}"}break;default:s+="Unknown type: "+typeof e.object}return e.alert||alert(s),s},DxChart.dashedLine=function(){var t=DxChart.getArgs(arguments,"context,x1,y1,x2,y2,size"),e=t.x2-t.x1,i=t.y2-t.y1,s=Math.floor(Math.sqrt(e*e+i*i)/(t.size||3)),a=e/s,o=i/s,r=0;do{r%2==0&&r>0?t.context.lineTo(t.x1,t.y1):t.context.moveTo(t.x1,t.y1),t.x1+=a,t.y1+=o,r++}while(r<=s)},DxChart.getMaskString=function(t,e,i){t||(t="string");var s=new DxChartMask(t);s.setMask(e);i=s.applyMask(i);return s=null,i},DxChart.AJAX=function(){var t=DxChart.getArgs(arguments,"url,callback,scope"),e=t.url;if(nexacro){if("url("==e.substring(0,4).toLowerCase()&&(e=e.substring(5,e.length-2)),!e||!e.length)return null;e=nexacro._getImageLocation(e)}if(isNexacroRuntime){var i=new nexacro.DataObject;i.addEventHandler("onsuccess",function(e,i){t.scope?t.callback.call(t.scope,i.response):t.callback(i.response)},t.scope),i.set_url(e),i.load()}else{var s;window.XMLHttpRequest?s=new XMLHttpRequest:window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLHTTP")),s.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=t.callback,t.scope?t.callback.call(t.scope,this.responseText):this.__user_callback__(this.responseText))},s.open("GET",e,!0),s&&s.setRequestHeader&&s.setRequestHeader("Cache-Control","no-cache"),s.send()}},DxChart.AJAX.post=DxChart.AJAX.POST=function(){var t=DxChart.getArgs(arguments,"url,data,callback"),e=[];if(window.XMLHttpRequest)var i=new XMLHttpRequest;else if(window.ActiveXObject)i=new ActiveXObject("Microsoft.XMLHTTP");for(var s in i.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=t.callback,this.__user_callback__(this.responseText))},i.open("POST",t.url,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.data)"string"==typeof s&&e.push(s+"="+encodeURIComponent(t.data[s]));i.send(e.join("&"))},DxChart.AJAX.getNumber=function(){var t=DxChart.getArgs(arguments,"url,callback");DxChart.AJAX(t.url,function(){var e=parseFloat(this.responseText);t.callback(e)})},DxChart.AJAX.getString=function(){var t=DxChart.getArgs(arguments,"url,callback");DxChart.AJAX(t.url,function(){var e=String(this.responseText);t.callback(e)})},DxChart.AJAX.getJSON=function(){var args=DxChart.getArgs(arguments,"url,callback");DxChart.AJAX(args.url,function(){var json=eval("("+this.responseText+")");args.callback(json)})},DxChart.AJAX.getCSV=function(){var t=DxChart.getArgs(arguments,"url,callback,separator"),e=t.separator?t.separator:",";DxChart.AJAX(t.url,function(){for(var i=new RegExp(e),s=this.responseText.split(i),a=0,o=s.length;a<o;++a)s[a]=parseFloat(s[a]);t.callback(s)})},DxChart.rotateCanvas=function(){var t=DxChart.getArgs(arguments,"canvas,x,y,angle"),e=t.canvas.getContext("2d");e.translate(t.x,t.y),e.rotate(t.angle),e.translate(0-t.x,0-t.y)},DxChart.measureText=function(){var t=DxChart.getArgs(arguments,"text,bold,font,size");void 0===DxChart.measuretext_cache&&(DxChart.measuretext_cache=[]);var e=t.text+":"+t.bold+":"+t.font+":"+t.size;if("object"==typeof DxChart.measuretext_cache&&DxChart.measuretext_cache[e])return DxChart.measuretext_cache[e];if(isNexacroRuntime){var i,s=(t.bold?"bold ":"")+t.size+"px "+t.font;void 0===DxChart.measuretext_cache_fontobj&&(DxChart.measuretext_cache_fontobj=[]),DxChart.measuretext_cache_fontobj[s]?i=DxChart.measuretext_cache_fontobj[s]:(i=new nexacro.FontObject(s),DxChart.measuretext_cache_fontobj[s]=i);var a=nexacro._getTextSize(t.text,i);return i=null,DxChart.measuretext_cache[e]=[a[0],a[1]],[a[0],a[1]]}if(DxChart.measuretext_cache["text-div"]){if(DxChart.measuretext_cache["text-div"])for(var o=DxChart.measuretext_cache["text-div"];o.firstChild;)o.removeChild(o.firstChild)}else(o=document.createElement("DIV")).style.position="absolute",o.style.top="-100px",o.style.left="-100px",o.style.lineHeight=1.5*(t.size||12)+"px",document.body.appendChild(o),DxChart.measuretext_cache["text-div"]=o;return o.insertAdjacentHTML("afterbegin",String(t.text).replace(/\r?\n/g,"<br />")),o.style.fontFamily=t.font,o.style.fontWeight=t.bold?"bold":"normal",o.style.fontSize=(t.size||12)+"px",DxChart.measuretext_cache[e]=[o.offsetWidth,o.offsetHeight],[o.offsetWidth,o.offsetHeight]},DxChart.text=function(t){if(arguments[0]&&arguments[1]&&("string"==typeof arguments[1].text||"number"==typeof arguments[1].text)){var e=arguments[0];t=arguments[1]}else{e=t.object;"number"==typeof t.text&&(t.text=String(t.text))}for(var i in DxChart.text.defaults)"string"==typeof i&&void 0===t[i]&&(t[i]=DxChart.text.defaults[i]);function s(){-1!==String(t.size).toLowerCase().indexOf("italic")&&(t.size=t.size.replace(/ *italic +/,""),t.italic=!0);var i=Math.abs(parseInt(t.x))+"_"+Math.abs(parseInt(t.y))+"_"+String(t.text).replace(/[^a-zA-Z0-9]+/g,"_")+"_"+e.canvas.id;if(e.canvas.DxChart_domtext_wrapper)s=e.canvas.DxChart_domtext_wrapper;else{var s=document.createElement("div");s.id=e.canvas.id+"_DxChart_domtext_wrapper",s.className="DxChart_domtext_wrapper",s.style.overflow=0!=e.properties.textAccessibleOverflow&&"hidden"!=e.properties.textAccessibleOverflow?"visible":"hidden",s.style.width=e.canvas.offsetWidth+"px",s.style.height=e.canvas.offsetHeight+"px",s.style.cssFloat=e.canvas.style.cssFloat,s.style.display=e.canvas.style.display||"inline-block",s.style.position=e.canvas.style.position||"relative",s.style.left=e.canvas.style.left,s.style.right=e.canvas.style.right,s.style.top=e.canvas.style.top,s.style.bottom=e.canvas.style.bottom,s.style.width=e.canvas.width+"px",s.style.height=e.canvas.height+"px",s.style.lineHeight="initial",e.canvas.style.position="absolute",e.canvas.style.left=0,e.canvas.style.top=0,e.canvas.style.display="inline",e.canvas.style.cssFloat="none","bar"!==e.type&&"bipolar"!==e.type&&"hbar"!==e.type||"3d"!==e.properties.variantValue||(s.style.transform="skewY("+e.properties.variantThreedAngle+"rad)"),e.canvas.parentNode.insertBefore(s,e.canvas),e.canvas.parentNode.removeChild(e.canvas),s.appendChild(e.canvas),e.canvas.DxChart_domtext_wrapper=s}var a={size:12,font:"Arial",italic:"normal",bold:"normal",valign:"bottom",halign:"left",marker:!0,color:o.fillStyle,bounding:{enabled:!1,fill:"rgba(255,255,255,0.7)",stroke:"#666",lineWidth:1}};if(t.text=String(t.text).replace(/\r?\n/g,"[[RETURN]]"),void 0===DxChart.text.domNodeCache&&(DxChart.text.domNodeCache=new Array),void 0===DxChart.text.domNodeCache[e.id]&&(DxChart.text.domNodeCache[e.id]=new Array),void 0===DxChart.text.domNodeDimensionCache&&(DxChart.text.domNodeDimensionCache=new Array),void 0===DxChart.text.domNodeDimensionCache[e.id]&&(DxChart.text.domNodeDimensionCache[e.id]=new Array),DxChart.text.domNodeCache[e.id]&&DxChart.text.domNodeCache[e.id][i]){(r=DxChart.text.domNodeCache[e.id][i]).style.display="inline";l=DxChart.text.domNodeDimensionCache[e.id][i].width,c=DxChart.text.domNodeDimensionCache[e.id][i].height,x=DxChart.text.domNodeDimensionCache[e.id][i].top,d=DxChart.text.domNodeDimensionCache[e.id][i].left}else{var r=document.createElement("span");if(r.style.position="absolute",r.style.display="inline",r.className=" DxChart_accessible_text DxChart_accessible_text_"+e.id+" DxChart_accessible_text_"+(t.tag||"").replace(/\./,"_")+" DxChart_accessible_text_"+e.type+" "+(t.cssClass||""),r.style.left=t.x*(parseInt(e.canvas.offsetWidth)/parseInt(e.canvas.width))+"px",r.style.top=t.y*(parseInt(e.canvas.offsetHeight)/parseInt(e.canvas.height))+"px",r.style.color=t.color||a.color,r.style.fontFamily=t.font||a.font,r.style.fontWeight=t.bold?"bold":a.bold,r.style.fontStyle=t.italic?"italic":a.italic,r.style.fontSize=(t.size||a.size)+"pt",r.style.whiteSpace="nowrap",r.style.lineHeight=DxChart.ISIE?"normal":"initial",r.tag=t.tag,r.setAttribute("data-tag",t.tag),"number"==typeof t.angle&&0!==t.angle){var n,h;DxChart.measureText(t.text,t.bold,t.font,t.size);n="center"===t.halign?"50%":"right"===t.halign?"100%":"0%",h="center"===t.valign?"50%":"top"===t.valign?"0%":"100%",r.style.transformOrigin="{1} {2}".format(n,h),r.style.transform="rotate("+t.angle+"deg)"}r.style.textShadow="{1}px {2}px {3}px {4}".format(o.shadowOffsetX,o.shadowOffsetY,o.shadowBlur,o.shadowColor),t.bounding&&(r.style.border="1px solid "+(t["bounding.stroke"]||a.bounding.stroke),r.style.backgroundColor=t["bounding.fill"]||a.bounding.fill,r.style.borderWidth="number"==typeof t["bounding.lineWidth"]?t["bounding.lineWidth"]:a.bounding.lineWidth),void 0!==e.properties.textAccessiblePointerevents&&!e.properties.textAccessiblePointerevents||"none"===e.properties.textAccessiblePointerevents?r.style.pointerEvents="none":r.style.pointerEvents="auto",r.style.padding=t.bounding?"2px":null,r.__text__=t.text,r.insertAdjacentHTML("afterbegin",t.text.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace(/\[\[RETURN\]\]/g,"<br />")),s.appendChild(r),t.halign=t.halign||"left",t.valign=t.valign||"bottom","right"===t.halign?(r.style.left=parseFloat(r.style.left)-r.offsetWidth+"px",r.style.textAlign="right"):"center"===t.halign&&(r.style.left=parseFloat(r.style.left)-r.offsetWidth/2+"px",r.style.textAlign="center"),"top"===t.valign||("center"===t.valign?r.style.top=parseFloat(r.style.top)-r.offsetHeight/2+"px":r.style.top=parseFloat(r.style.top)-r.offsetHeight+"px");var l=parseFloat(r.offsetWidth),c=parseFloat(r.offsetHeight),x=parseFloat(r.style.top),d=parseFloat(r.style.left);DxChart.text.domNodeCache[e.id][i]=r,DxChart.text.domNodeDimensionCache[e.id][i]={left:d,top:x,width:l,height:c},r.id=i}t.marker&&e.path("b m % % l % % m % % l % % s",t.x-5,t.y,t.x+5,t.y,t.x,t.y-5,t.x,t.y+5),"drawing.text"===e.type&&e.properties.tooltipsData&&r.addEventListener(-1!==e.properties.tooltipsEvent.indexOf("mousemove")?"mousemove":"click",function(i){DxChart.Registry.get("tooltip")&&0===DxChart.Registry.get("tooltip").__index__&&DxChart.Registry.get("tooltip").__object__.uid==e.uid||(DxChart.hideTooltip(),DxChart.redraw(),DxChart.tooltip(e,e.properties.tooltipsData[0],t.x,t.y,0,i))},!1);var u={};return u.x=d,u.y=x,u.width=l,u.height=c,u.object=e,u.text=t.text,u.tag=t.tag,DxChart.text.domNodeCache.reset=function(){if(arguments[0]){if("string"==typeof arguments[0])var t=document.getElementById(arguments[0]);else t=arguments[0];var e=DxChart.text.domNodeCache[t.id];for(var i in e){var s=DxChart.text.domNodeCache[t.id][i];s&&s.parentNode&&s.parentNode.removeChild(s)}DxChart.text.domNodeCache[t.id]=[],DxChart.text.domNodeDimensionCache[t.id]=[]}else{for(var a in DxChart.text.domNodeCache)for(var i in DxChart.text.domNodeCache[a])DxChart.text.domNodeCache[a][i]&&DxChart.text.domNodeCache[a][i].parentNode&&DxChart.text.domNodeCache[a][i].parentNode.removeChild(DxChart.text.domNodeCache[a][i]);DxChart.text.domNodeCache=[],DxChart.text.domNodeDimensionCache=[]}},DxChart.text.find=function(t){var e,i=[];if(t.object&&t.object.isDxChart)var s=t.object.id;else{if(!t.id)return alert("[RGRAPH] You Must give either an object or an ID to the DxChart.text.find() function"),!1;s="string"==typeof t.id?t.id:t.object.id;t.object=document.getElementById(s).__object__}for(var a in DxChart.text.domNodeCache[s])if(e=DxChart.text.domNodeCache[s][a],"string"!=typeof t.tag||t.tag!==e.tag){if("object"==typeof t.tag&&t.tag.constructor.toString().indexOf("RegExp"))if(new RegExp(t.tag).test(e.tag)){i.push(e);continue}if("string"!=typeof t.text||t.text!==e.__text__){if("object"==typeof t.text&&t.text.constructor.toString().indexOf("RegExp"))if(new RegExp(t.text).test(e.__text__)){i.push(e);continue}}else i.push(e)}else i.push(e);return"function"==typeof t.callback&&t.callback({nodes:i,object:t.object}),i},u.node=r,e&&e.isDxChart&&e.coordsText&&e.coordsText.push(u),u}if(e&&e.isDxChart)var a=(e=e).canvas,o=e.context;else if("string"==typeof e)o=(a=document.getElementById(e)).getContext("2d"),e=a.__object__;else if("function"==typeof e.getContext)o=(a=e).getContext("2d"),e=a.__object__;if("string"==typeof t.boundingFill&&(t["bounding.fill"]=t.boundingFill),"string"==typeof t.boundingStroke&&(t["bounding.stroke"]=t.boundingStroke),"number"==typeof t.boundingLineWidth&&(t["bounding.lineWidth"]=t.boundingLineWidth),"string"==typeof t.textInfoPrefix&&t.textInfoPrefix.length){var r=DxChart.getTextInfo({object:e,prefix:t.textInfoPrefix,idx:t.idx});t.font=r.font,t.size=r.size,t.color&&""!=t.color||(t.color=r.color),t.bold=r.bold,t.italic=r.italic}if(void 0===t.accessible){if(e&&e.properties.textAccessible)return s()}else if("boolean"==typeof t.accessible&&t.accessible)return s();var n=t.x,h=t.y,l=n,c=h,x=t.text;x&&"undefined"!==x||(x=""),nexacro&&(x=nexacro.replaceAll(x,"\\n","\n"));var d="string"==typeof x?x.split(/\r?\n/g):"",u=d.length,g=t.font?t.font:"Arial",p=t.size?t.size:10,f=1.5*p,m=t.bold,b=t.italic,C=t.halign?t.halign:"left",y=t.valign?t.valign:"bottom",v="string"==typeof t.tag&&t.tag.length>0?t.tag:"",D=(t.marker,t.angle||0);"number"==typeof x&&(x=String(x));var S=t.bounding,k=t["bounding.stroke"]?t["bounding.stroke"]:"black",w=t["bounding.fill"]?t["bounding.fill"]:"rgba(255,255,255,0.7)",_=t["bounding.shadow"],T=t["bounding.shadow.color"]||"#ccc",P=t["bounding.shadow.blur"]||3,R=t["bounding.shadow.offsetx"]||3,L=t["bounding.shadow.offsety"]||3,j="number"==typeof t["bounding.lineWidth"]?t["bounding.lineWidth"]:1,F={};if("string"==typeof t.color){var E=o.fillStyle;o.fillStyle=t.color,isNexacroRuntime&&o.setElementFillStyle(o.fillStyle)}if("string"==typeof x){if(isNexacroRuntime){var O=(b?"italic ":"")+(m?"bold ":"")+p+"px "+g,I=new nexacro.FontObject(O);o.setElementFont(I)}else o.font=(b?"italic ":"")+(m?"bold ":"")+p+"px "+g;var A=0;for(i=0;i<u;++i)A=Math.max(A,DxChart.measureText(d[i],m,g,p)[0]);if(0!=D){if(o.save(),isNexacroRuntime){var N=n+Math.cos(D/180*Math.PI)*(A/2),M=h+Math.sin(D/180*Math.PI)*(A/2)*.5;A<p&&(N=n,M=h),o.translate(N,M),o.rotate(D)}else o.translate(n,h),o.rotate(Math.PI/180*D);n=0,h=0}var W=f*u;if(t.marker){var B=o.strokeStyle;o.beginPath(),o.strokeStyle="red",isNexacroRuntime&&o.setElementStrokeStyle(o.strokeStyle),o.moveTo(n,h-10),o.lineTo(n,h+10),o.moveTo(n-10,h),o.lineTo(n+10,h),o.stroke(),o.strokeStyle=B,isNexacroRuntime&&o.setElementStrokeStyle(o.strokeStyle)}if("center"==C){o.textAlign="center";var G=n-2-A/2;isNexacroRuntime&&o.setElementTextAlign("center")}else if("right"==C){o.textAlign="right";G=n-2-A;isNexacroRuntime&&o.setElementTextAlign("end")}else{o.textAlign="left";G=n-2;isNexacroRuntime&&o.setElementTextAlign("start")}if("center"==y){o.textBaseline="middle",h-=1;var H=(h-=(u-1)/2*f)-f/2-2}else if("top"==y){o.textBaseline="top";H=h-2}else if("alphabetic"==y){o.textBaseline="alphabetic";H=h-f+5}else{o.textBaseline="bottom",u>1&&(h-=(u-1)*f);H=h-f-2}isNexacroRuntime&&o.setElementTextBaseline(o.textBaseline);var Y=A+4,z=W+4;if(S){var X=o.lineWidth,V=o.strokeStyle,U=o.fillStyle,q=o.shadowColor,K=o.shadowBlur,J=o.shadowOffsetX,$=o.shadowOffsetY;o.lineWidth=j||.001,isNexacroRuntime&&o.setElementLineWidth(j||.001),_&&(o.shadowColor=T,o.shadowBlur=P,o.shadowOffsetX=R,o.shadowOffsetY=L,isNexacroRuntime&&(o.setElementShadowColor(o.shadowColor),o.setElementShadowBlur(o.shadowBlur),o.setElementShadowOffsetX(o.shadowOffsetX),o.setElementShadowOffsetY(o.shadowOffsetY))),isNexacroRuntime&&(G-=3,Y+=4),o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w),o.fillRect(G,H,Y,z),o.strokeStyle=k,isNexacroRuntime&&o.setElementStrokeStyle(k),o.strokeRect(G,H,Y,z),o.lineWidth=X,isNexacroRuntime&&o.setElementLineWidth(X),o.strokeStyle=V,isNexacroRuntime&&o.setElementStrokeStyle(V),o.fillStyle=U,isNexacroRuntime&&o.setElementFillStyle(t.color),o.shadowColor=q,o.shadowBlur=K,o.shadowOffsetX=J,o.shadowOffsetY=$,isNexacroRuntime&&o.setElementShadowColor(o.shadowColor),isNexacroRuntime&&o.setElementShadowBlur(o.shadowBlur),isNexacroRuntime&&o.setElementShadowOffsetX(o.shadowOffsetX),isNexacroRuntime&&o.setElementShadowOffsetY(o.shadowOffsetY)}if(u>1)for(i=0;i<u;++i)S&&isNexacroRuntime?o.fillText(d[i],n+5,h+f*i):o.fillText(d[i],n,h+f*i);else o.fillText(x,n+.5,h+.5);return 0!=D&&(90==D?"left"==C?("bottom"==y&&(G=l-2,H=c-2,Y=W+4,z=A+4),"center"==y&&(G=l-W/2-2,H=c-2,Y=W+4,z=A+4),"top"==y&&(G=l-W-2,H=c-2,Y=W+4,z=A+4)):"center"==C?("bottom"==y&&(G=l-2,H=c-A/2-2,Y=W+4,z=A+4),"center"==y&&(G=l-W/2-2,H=c-A/2-2,Y=W+4,z=A+4),"top"==y&&(G=l-W-2,H=c-A/2-2,Y=W+4,z=A+4)):"right"==C&&("bottom"==y&&(G=l-2,H=c-A-2,Y=W+4,z=A+4),"center"==y&&(G=l-W/2-2,H=c-A-2,Y=W+4,z=A+4),"top"==y&&(G=l-W-2,H=c-A-2,Y=W+4,z=A+4)):180==D?"left"==C?("bottom"==y&&(G=l-A-2,H=c-2,Y=A+4,z=W+4),"center"==y&&(G=l-A-2,H=c-W/2-2,Y=A+4,z=W+4),"top"==y&&(G=l-A-2,H=c-W-2,Y=A+4,z=W+4)):"center"==C?("bottom"==y&&(G=l-A/2-2,H=c-2,Y=A+4,z=W+4),"center"==y&&(G=l-A/2-2,H=c-W/2-2,Y=A+4,z=W+4),"top"==y&&(G=l-A/2-2,H=c-W-2,Y=A+4,z=W+4)):"right"==C&&("bottom"==y&&(G=l-2,H=c-2,Y=A+4,z=W+4),"center"==y&&(G=l-2,H=c-W/2-2,Y=A+4,z=W+4),"top"==y&&(G=l-2,H=c-W-2,Y=A+4,z=W+4)):270==D&&("left"==C?("bottom"==y&&(G=l-W-2,H=c-A-2,Y=W+4,z=A+4),"center"==y&&(G=l-W/2-4,H=c-A-2,Y=W+4,z=A+4),"top"==y&&(G=l-2,H=c-A-2,Y=W+4,z=A+4)):"center"==C?("bottom"==y&&(G=l-W-2,H=c-A/2-2,Y=W+4,z=A+4),"center"==y&&(G=l-W/2-4,H=c-A/2-2,Y=W+4,z=A+4),"top"==y&&(G=l-2,H=c-A/2-2,Y=W+4,z=A+4)):"right"==C&&("bottom"==y&&(G=l-W-2,H=c-2,Y=W+4,z=A+4),"center"==y&&(G=l-W/2-2,H=c-2,Y=W+4,z=A+4),"top"==y&&(G=l-2,H=c-2,Y=W+4,z=A+4))),o.restore()),o.textBaseline="alphabetic",isNexacroRuntime&&o.setElementTextBaseline(o.textBaseline),o.textAlign="left",isNexacroRuntime&&o.setElementTextAlign(o.textAlign),F.x=G,F.y=H,F.width=Y,F.height=z,F.object=e,F.text=x,F.tag=v,e&&e.isDxChart&&e.coordsText&&e.coordsText.push(F),"string"==typeof E&&(o.fillStyle=E,isNexacroRuntime&&o.setElementFillStyle(o.fillStyle)),F}},DxChart.text.defaults={},DxChart.addCustomText=function(t){if(DxChart.isArray(t.properties.text)&&t.properties.text.length)for(var e=0;e<t.properties.text.length;++e){var i=t.properties.text[e];i.object=t,"string"==typeof i.color&&i.color.length||(i.color="black"),DxChart.text(i)}},DxChart.sequentialIndexToGrouped=function(){for(var t=DxChart.getArgs(arguments,"index,data"),e=0,i=0;--t.index>=0;)DxChart.isNull(t.data[e])?(e++,i=0):"number"!=typeof t.data[e]?++i>=t.data[e].length&&(e++,i=0):(e++,i=0);return[e,i]},DxChart.groupedIndexToSequential=function(){for(var t=DxChart.getArgs(arguments,"object,dataset,index"),e=0,i=0;e<=t.dataset;++e)for(var s=0;s<t.object.data[t.dataset].length;++s){if(e===t.dataset&&s===t.index)return i;i++}return i},DxChart.Highlight.rect=function(){var t=DxChart.getArgs(arguments,"object,shape"),e=t.object.properties;e.tooltipsHighlight&&(t.object.context.lineWidth=1,isNexacroRuntime&&t.object.context.setElementLineWidth(t.object.context.lineWidth),t.object.context.beginPath(),t.object.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=e.highlightFill,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.rect(t.shape.x-.5,t.shape.y-.5,t.shape.width+1,t.shape.height+1),t.object.context.stroke(),t.object.context.fill())},DxChart.Highlight.point=function(){var t=DxChart.getArgs(arguments,"object,shape"),e=t.object.properties;if(e.tooltipsHighlight){t.object.context.beginPath(),t.object.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=e.highlightFill,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle);var i=e.highlightPointRadius||2;t.object.context.arc(t.shape.x,t.shape.y,i,0,DxChart.TWOPI,0),t.object.context.stroke(),t.object.context.fill()}},DxChart.parseDate=function(){var t=DxChart.getArgs(arguments,"str");t.str.match(/^\d\d\d\d-\d\d-\d\d(t|T)\d\d:\d\d(:\d\d)?$/)&&(t.str=t.str.toUpperCase().replace(/T/," "));for(var e=new Date,i={seconds:"00",minutes:"00",hours:"00",date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()},s=["january","february","march","april","may","june","july","august","september","october","november","december"],a=s.join("|"),o=0;o<s.length;++o)s[s[o]]=o,s[s[o].substring(0,3)]=o,a=a+"|"+s[o].substring(0,3);for(var r="[-./_=+~#:;,]+",n=t.str.split(/ +/),h=(o=0,n.length);o<h;++o)if(n[o]){n[o].match(/^\d\d\d\d$/)&&(i.year=n[o]);var l=c(n[o]);"number"==typeof l&&(i.month=l+1),n[o].match(/^\d?\d(?:st|nd|rd|th)?$/)&&(i.date=parseInt(n[o])),n[o].match(/^(\d\d):(\d\d):?(?:(\d\d))?$/)&&(i.hours=parseInt(RegExp.$1),i.minutes=parseInt(RegExp.$2),RegExp.$3&&(i.seconds=parseInt(RegExp.$3))),n[o].match(new RegExp("^(\\d\\d\\d\\d)"+r+"(\\d\\d)"+r+"(\\d\\d)$","i"))&&(i.date=parseInt(RegExp.$3),i.month=parseInt(RegExp.$2),i.year=parseInt(RegExp.$1)),n[o].match(new RegExp("^(\\d\\d)"+r+"(\\d\\d)"+r+"(\\d\\d\\d\\d)$","i"))&&(i.date=parseInt(RegExp.$1),i.month=parseInt(RegExp.$2),i.year=parseInt(RegExp.$3))}return t.str="{1}/{2}/{3} {4}:{5}:{6}".format(i.year,1===String(i.month).length?"0"+i.month:i.month,1===String(i.date).length?"0"+i.date:i.date,1===String(i.hours).length?"0"+i.hours:i.hours,1===String(i.minutes).length?"0"+i.minutes:i.minutes,1===String(i.seconds).length?"0"+i.seconds:i.seconds),Date.parse(t.str);function c(t){var e=t.toLowerCase().match(a);return!!e&&s[e[0]]}},DxChart._getMatchedCount=function(t,e){var i=0;if(t.length.length<=0||e.length<=0)return i;var s=t.match(RegExp("["+e+"]","g"));return s&&(i=s.length),i},DxChart._parseGradientColorStop=function(t){t=t.replace(/:/g,",");for(var e,i=/\s*((?:\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})|(?:rgb)\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)|(?:rgba)\(\s*(?:[0-9]{1,3}\s*,\s*){3}(0|0\.\d+|1)\s*\)|[_A-Za-z-][_A-Za-z0-9-]*))(?:\s+((?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?))?(?:\s*,\s*\s*)?/gi,s=[],a=i.exec(t);null!==a;)e={color:a[1]},a[3]?e.percents=parseFloat((a[3]+"").replace("%",""))/100:a[2]&&t.indexOf("rgba")<0&&(e.percents=parseFloat(a[2])/100),s.push(e),a=i.exec(t);for(var o=0,r=0,n=0,h=s.length,l=0;l<h;l++){var c=s[l];c.percents||(c.percents=0==l?0:l==h-1?1:-1);var x=0;if(c.percents>0){x=((r=c.percents)-o)/n;for(var d=1;d<n;d++)s[l-d].percents=r-x*d;o=r,n=0}n++}return s},DxChart.parseLinearGradientInfo=function(t,e,i,s,a,o){var r=e,n=t.context;if(e.toLowerCase().indexOf("linear-gradient")>=0){var h=t.canvas.width,l=t.canvas.height;i||(i=0),s||(s=0),a!==undefined&&null!==a||(a=h),o!==undefined&&null!==o||(o=l),"linear";var c=e.indexOf("("),x=e.substring(c+1,e.length-1);"to"==x.substring(0,2)&&(c=x.indexOf(","),angle=x.substring(0,c).trim(),x=x.substring(c+1).trim());var d=DxChart._parseGradientColorStop(x);(r=n.createLinearGradient(i,s,a,o))._fitstColor=d[0].color;for(var u=0;u<d.length;u++){var g=d[u];r.addColorStop(g.percents,DxChart._rgba2hex(g.color)[0])}}return r},DxChart._shadeColor=function(t,e){if("transparent"==t||""==t||t&&t.indexOf("gradient")>=0)return t;if(nexacro._xreNamedColorList[t]&&(t=nexacro._xreNamedColorList[t]),"#"!=t.substring(0,1))return t;if(t.length<7)return t;function i(t){return t>255?t=255:t<0&&(t=0),t}var s=parseInt(t.substring(1,3),16),a=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16),r=parseInt(e,10),n=0,h=0;return n=s,r<0?(a<n&&(n=a),o<n&&(n=o),"#"+i(s+(h=parseInt(Math.abs(r)/100*(255-n),10))).toString(16).padLeft(2,"0")+i(a+h).toString(16).padLeft(2,"0")+i(o+h).toString(16).padLeft(2,"0")):(a>n&&(n=a),o>n&&(n=o),"#"+i(s-(h=parseInt(r/100*n,10))).toString(16).padLeft(2,"0")+i(a-h).toString(16).padLeft(2,"0")+i(o-h).toString(16).padLeft(2,"0"))},DxChart.parseRadialGradientInfo=function(t,e,i,s,a,o,r,n){var h=e,l=t.context;if(e.toLowerCase().indexOf("radial-gradient")>=0){"radial";var c=e.indexOf("("),x=e.substring(c+1,e.length-1),d=DxChart._parseGradientColorStop(x);isNexacroRuntime&&(i=parseInt(i),s=parseInt(s),a=parseInt(a),n=parseInt(n)),h=l.createRadialGradient(i,s,a,o,r,n);DxChart._rgba2hex(d[d.length-1].color)[0];for(var u=0;u<d.length;u++){t=d[u];var g=DxChart._rgba2hex(t.color)[0];h.addColorStop(t.percents,g)}isNexacroRuntime&&(h._lastColor=d[d.length-1].color)}return h},DxChart.parseDateOld=function(){var t=DxChart.getArgs(arguments,"str");if(t.str=DxChart.trim(t.str),"now"===t.str&&(t.str=(new Date).toString()),t.str.match(/^(\d\d)(?:-|\/)(\d\d)(?:-|\/)(\d\d\d\d)(.*)$/)&&(t.str="{1}/{2}/{3}{4}".format(RegExp.$3,RegExp.$2,RegExp.$1,RegExp.$4)),t.str.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(t.str=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),t.str.match(/^\d\d\d\d-\d\d-\d\d$/)&&(t.str=t.str.replace(/-/g,"/")),t.str.match(/^\d\d:\d\d:\d\d$/)){var e=new Date,i=e.getDate(),s=e.getMonth()+1,a=e.getFullYear();1===String(s).length&&(s="0"+s),1===String(i).length&&(i="0"+i),t.str=a+"/"+s+"/"+i+" "+t.str}return Date.parse(t.str)},DxChart.resetColorsToOriginalValues=function(){var t=DxChart.getArgs(arguments,"object");if(t.object.original_colors)for(var e in t.object.original_colors)"string"==typeof e&&(t.object.properties[e]=DxChart.arrayClone(t.object.original_colors[e]));"function"==typeof t.object.resetColorsToOriginalValues&&t.object.resetColorsToOriginalValues(),t.object.colorsParsed=!1},DxChart.linearGradient=function(){for(var t=arguments[0],e=t.object.context.createLinearGradient(t.x1,t.y1,t.x2,t.y2),i=t.colors.length,s=0;s<t.colors.length;++s){var a=t.colors[s],o=s/(i-1);e.addColorStop(o,a)}return e},DxChart.radialGradient=function(){for(var t=arguments[0],e=t.object.context.createRadialGradient(t.x1,t.y1,t.r1,t.x2,t.y2,t.r2),i=t.colors.length,s=0;s<t.colors.length;++s)e.addColorStop(s/(i-1),t.colors[s]);return e},DxChart.clearEventListeners=function(){var t=DxChart.getArgs(arguments,"id");if(t.id&&"window"===t.id)window.removeEventListener("mousedown",DxChart.window_mousedown_event_listener,!1),window.removeEventListener("mouseup",DxChart.window_mouseup_event_listener,!1);else{var e=document.getElementById(t.id);e.removeEventListener("mouseup",e.DxChart_mouseup_event_listener,!1),e.removeEventListener("mousemove",e.DxChart_mousemove_event_listener,!1),e.removeEventListener("mousedown",e.DxChart_mousedown_event_listener,!1),e.removeEventListener("click",e.DxChart_click_event_listener,!1)}},DxChart.hidePalette=function(){var t=DxChart.Registry.get("palette");"object"==typeof t&&t&&(t.style.visibility="hidden",t.style.display="none",DxChart.Registry.set("palette",null))},DxChart.random=function(){var t=DxChart.getArgs(arguments,"min,max,decimals"),e=t.decimals?t.decimals:0,i=Math.random();return Number(((t.max-t.min)*i+t.min).toFixed(e))},DxChart.arrayRandom=function(){for(var t=DxChart.getArgs(arguments,"count,min,max,decimals"),e=0,i=[];e<t.count;e+=1)i.push(DxChart.random(t.min,t.max,t.decimals));return i},DxChart.noShadow=function(){var t=DxChart.getArgs(arguments,"object");t.object.context.shadowColor="rgba(0,0,0,0)",t.object.context.shadowBlur=0,t.object.context.shadowOffsetX=0,t.object.context.shadowOffsetY=0,isNexacroRuntime&&(t.object.context.setElementShadowColor(t.object.context.shadowColor),t.object.context.setElementShadowBlur(t.object.context.shadowBlur),t.object.context.setElementShadowOffsetX(t.object.context.shadowOffsetX),t.object.context.setElementShadowOffsetY(t.object.context.shadowOffsetY))},DxChart.setShadow=function(){if("object"==typeof arguments[0]&&"object"==typeof arguments[0].object&&(arguments[0].object.isDxChart,1)&&"string"==typeof arguments[0].prefix){var t=arguments[0];t.object.context.shadowColor=t.object.properties[t.prefix+"StyleObj"].color,t.object.context.shadowOffsetX=t.object.properties[t.prefix+"StyleObj"].offsetx,t.object.context.shadowOffsetY=t.object.properties[t.prefix+"StyleObj"].offsety,t.object.context.shadowBlur=t.object.properties[t.prefix+"StyleObj"].blur,isNexacroRuntime&&t.object.context.setElementShadowColor(t.object.context.shadowColor),isNexacroRuntime&&t.object.context.setElementShadowBlur(t.object.context.shadowBlur),isNexacroRuntime&&t.object.context.setElementShadowOffsetX(t.object.context.shadowOffsetX),isNexacroRuntime&&t.object.context.setElementShadowOffsetY(t.object.context.shadowOffsetY)}else if(1===arguments.length&&"object"==typeof arguments[0]&&(arguments[0].isDxChart,1)){(e=arguments[0]).context.shadowColor="rgba(0,0,0,0)",e.context.shadowOffsetX=0,e.context.shadowOffsetY=0,e.context.shadowBlur=0,isNexacroRuntime&&(e.context.setElementShadowColor(e.context.shadowColor),e.context.setElementShadowBlur(e.context.shadowBlur),e.context.setElementShadowOffsetX(e.context.shadowOffsetX),e.context.setElementShadowOffsetY(e.context.shadowOffsetY))}else{var e;(e=arguments[0]).context.shadowColor=arguments[1],e.context.shadowOffsetX=arguments[2],e.context.shadowOffsetY=arguments[3],e.context.shadowBlur=arguments[4],isNexacroRuntime&&e.context.setElementShadowColor(e.context.shadowColor),isNexacroRuntime&&e.context.setElementShadowBlur(e.context.shadowBlur),isNexacroRuntime&&e.context.setElementShadowOffsetX(e.context.shadowOffsetX),isNexacroRuntime&&e.context.setElementShadowOffsetY(e.context.shadowOffsetY)}},DxChart.Registry.set=function(t,e){return t=t.replace(/([A-Z])/g,function(t){return"."+String(RegExp.$1).toLowerCase()}),DxChart.Registry.store[t]=e,e},DxChart.Registry.get=function(t){return t=t.replace(/([A-Z])/g,function(t){return"."+String(RegExp.$1).toLowerCase()}),DxChart.Registry.store[t]},DxChart.toRadians=function(){return DxChart.getArgs(arguments,"degrees").degrees*(DxChart.PI/180)},DxChart.toDegrees=function(){return DxChart.getArgs(arguments,"radians").radians*(180/Math.PI)},DxChart.log=function(){var t=DxChart.getArgs(arguments,"number,base");return Math.log(t.number)/(t.base?Math.log(t.base):1)},DxChart.isArray=function(){var t=DxChart.getArgs(arguments,"object");if(!t.object||!t.object.constructor)return!1;var e=t.object.constructor.toString().indexOf("Array");return null!=t.object&&"number"==typeof e&&e>0&&e<20},DxChart.trim=function(){var t=DxChart.getArgs(arguments,"str");return DxChart.ltrim(DxChart.rtrim(t.str))},DxChart.ltrim=function(){return DxChart.getArgs(arguments,"str").str.replace(/^(\s|\0)+/,"")},DxChart.rtrim=function(){return DxChart.getArgs(arguments,"str").str.replace(/(\s|\0)+$/,"")},DxChart.isNull=function(){var t=DxChart.getArgs(arguments,"arg");return"object"==typeof t.arg&&!t.arg},DxChart.async=function(){var t=DxChart.getArgs(arguments,"func,delay");return setTimeout(t.func,t.delay?t.delay:1)},DxChart.reset=function(){var t=DxChart.getArgs(arguments,"canvas");"string"==typeof t.canvas&&(t.canvas=document.getElementById(t.canvas)),isNexacroRuntime?t.canvas.set_width(t.canvas.width):t.canvas.width=t.canvas.width,DxChart.clear(t.canvas),t.canvas.__initTranslated__=!1,DxChart.cache[t.canvas.uid]&&(DxChart.cache[t.canvas.uid].canvas.oldw=1),DxChart.REG.clear(t.canvas),t.canvas.__DxChart_background_image__&&(delete t.canvas.__DxChart_background_image__.__object__,delete t.canvas.__DxChart_background_image__.__canvas__,delete t.canvas.__DxChart_background_image__.__context__),delete t.canvas.__object__,delete t.canvas.__DxChart_background_image__,DxChart.text.domNodeCache&&DxChart.text.domNodeCache.reset&&DxChart.text.domNodeCache.reset(t.canvas),DxChart.text.domNodeCache||(DxChart.text.domNodeCache=[]),DxChart.text.domNodeDimensionCache||(DxChart.text.domNodeDimensionCache=[]),DxChart.text.domNodeCache[t.canvas.uid]=[],DxChart.text.domNodeDimensionCache[t.canvas.uid]=[]},DxChart.Effects.updateCanvas=function(){var t=DxChart.getArgs(arguments,"func,cvs");if(isNexacroRuntime){if(t.cvs._refform&&t.func){var e=.25;t.val&&(e=t.val),nexacro._OnceCallbackTimer.callonce(t.cvs._refform,t.func,e)}}else window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){setTimeout(t,16.666)},window.requestAnimationFrame(t.func)},DxChart.Effects.userRequestedStop=function(t){var e=!1;return t.stopAnimationRequested&&(e=!0,t.stopAnimationRequested=!1),e},DxChart.Effects.getEasingMultiplier=function(){var t=DxChart.getArgs(arguments,"frames,frame");return Math.pow(Math.sin(t.frame/t.frames*DxChart.HALFPI),3)},DxChart.str2num=function(){var t=DxChart.getArgs(arguments,"string,separator"),e=t.separator||",";if("string"==typeof t.string&&t.string.trim().match(/^\[ *\d+$/)&&(t.string=t.string.replace("[","")),"number"==typeof t.string)return t.string;if("string"==typeof t.string&&(-1!=t.string.indexOf(e)?t.string=t.string.split(e):(t.string=parseFloat(t.string),isNaN(t.string)&&(t.string=null))),"object"==typeof t.string&&!DxChart.isNull(t.string))for(var i=0,s=t.string.length;i<s;i+=1)t.string[i]=DxChart.str2num(t.string[i],t.separator);return t.string},DxChart.createCanvas=function(t){var e,i="background_cached_canvas"+t.id;return isNexacroRuntime?((e=t.parent[i])||((e=new nexacro.CanvasComponent(i,0,0,t.width,t.height)).set_name(i),e.id=i,t.parent.addChild(i,e),e.show(),e.sendToBack()),e.set_visible(!0)):(e=document.getElementById(i))||((e=document.createElement("canvas")).setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("id",i)),e},DxChart.cachedDraw=function(){var t=DxChart.getArgs(arguments,"object,id,function");if(DxChart.cache[t.id]){var e=DxChart.cache[t.id].canvas.oldw,i=DxChart.cache[t.id].canvas.oldh;DxChart.cache[t.id].canvas.isclear;e==t.object.canvas.width&&i==t.object.canvas.height||(isNexacroRuntime?(DxChart.cache[t.id].canvas.set_width(t.object.canvas.width),DxChart.cache[t.id].canvas.set_height(t.object.canvas.height)):(DxChart.cache[t.id].canvas.setAttribute("width",t.object.canvas.width),DxChart.cache[t.id].canvas.setAttribute("height",t.object.canvas.height)),DxChart.cache[t.id].context.clearRect(0,0,t.object.canvas.width+.5,t.object.canvas.height+.5),DxChart.cache[t.id].context.translate(.5,.5),t.function(t.object,DxChart.cache[t.id].canvas,DxChart.cache[t.id].context),DxChart.cache[t.id].canvas.oldw=t.object.canvas.width,DxChart.cache[t.id].canvas.oldh=t.object.canvas.height,DxChart.NOBGCACHE=!1,DxChart.cache[t.id].canvas.isclear=!1)}else{DxChart.cache[t.id]={},DxChart.cache[t.id].object=t.object,DxChart.cache[t.id].canvas=DxChart.createCanvas(t.object.canvas,t.id),DxChart.cache[t.id].canvas.isclear=!1,DxChart.cache[t.id].canvas.__object__=t.object,DxChart.cache[t.id].context=DxChart.cache[t.id].canvas.getContext("2d"),DxChart.cache[t.id].canvas.oldw=t.object.canvas.width,DxChart.cache[t.id].canvas.oldh=t.object.canvas.height,DxChart.cache[t.id].context.translate(.5,.5);var s=t.object.context.changSetTransform;s&&DxChart.cache[t.id].context.setTransform(s.a,s.b,s.c,s.d,s.e,s.f),t.function(t.object,DxChart.cache[t.id].canvas,DxChart.cache[t.id].context)}t.object.context.drawImage(DxChart.cache[t.id].canvas,-.5,-.5)},DxChart.parseJsonDataset=function(t,e){if(e==undefined||null==e)return[e];var i=t.binddataset;if(!i)return[e];for(var s=e.split(","),a=[],o=[],r=0,n=s.length;r<n;r++){var h=s[r].split("bind:")[1].split("=");a.push(nexacro.trim(h[0])),h[1]?o.push(nexacro.trim(h[1])):o.push(nexacro.trim(h[0]))}var l,c,x=[],d=a.length,u=!1,g=Number.POSITIVE_INFINITY,p=0;for(r=0,n=i.rowcount;r<n;r++){for(var f={},m=0;m<d;m++)if(l=i.getColumn(r,a[m]),c=o[m],null===l||l===undefined)f[c]=null;else if(nexacro&&l instanceof nexacro.Decimal){var b=l.valueOf();f[c]=b}else if(l.constructor==Date||nexacro&&l instanceof nexacro.Date){u=!0;var C=l.getTime();"end"==c&&"DATE"==i.getColumnInfo(a[m]).type&&(C+=86399e3),f[c]=C,f[c+"_org"]=l}else f[c]="number"==typeof l?parseFloat(l):l;x.push(f)}if(u){p=0,g=Number.POSITIVE_INFINITY;for(r=0,n=x.length;r<n;r++){var y=(b=x[r]).end-b.start;p=Math.max(b.end,p),g=Math.min(b.start,g),b.gap=y/864e5,b.duration=y}}else{p=0,g=Number.POSITIVE_INFINITY;for(r=0,n=x.length;r<n;r++){(b=x[r]).duration=b.end-b.start}}var v=[];for(r=0,n=x.length;r<n;r++){b=x[r];var D=x[r+1];if(D&&b.label==D.label){var S=[];S.push(b);for(m=r+1;m<n;m++){var k=x[m];if(k.label!=b.label){r=m-1,b=S;break}S.push(k)}}v.push(b)}return[v,p,g,u]},DxChart.parseDataset=function(t,e,i,s){if(e==undefined||null==e)return e;var a,o=t.binddataset;if(!o)return e;var r=null;if(e[0]&&e[0].indexOf("^")>=0){var n=e[0].split("^");e[0]=n[0],r=parseInt(n[1])}return a="line"==t.type||"tooltipsData"==s||i?DxChart.convertDataset(o,e,r,"linear"):DxChart.convertDataset(o,e,r),"tooltipsData"==s?DxChart.arrayLinearize(a):a},DxChart._parsePropertiesSet=function(t,e,i){e.indexOf("FontStyle")>=0?(t.set(e+"Obj",DxChart._parseFontInfo(i)),t.set(e,i)):e.indexOf("ShadowStyle")>=0?(t.set(e+"Obj",DxChart._parseShadowInfo(i)),t.set(e,i)):e.indexOf("BorderStyle")>=0?(t.set(e+"Obj",DxChart._parseBorderInfo(i)),t.set(e,i)):"shadowStyle"==e?(t.set(e+"Obj",DxChart._parseShadowInfo(i)),t.set(e,i)):("xaxisLabels"==e||"labelsData"==e||"tooltipsData"==e||"keyData"==e||"colors"==e||"exploded"==e||"CustomData"==e||"labelsIngraph"==e||"labelsIngraphSpecific"==e||"labelsCenterSpecific"==e||"labelsSpecific"==e||"labelsAboveSpecific"==e||"labelsAboveImageUrl"==e||"tooltipsFormattedKeyLabels"==e||"yaxisLabels"==e?i&&(i.toString().indexOf("bind:")>=0||i.toString().indexOf("expr:")>=0)&&(t.__labels__={value:i,key:e},i=DxChart.parseDataset(t,i,!1,e)):e.indexOf("margin")>=0&&("string"==typeof i&&i.indexOf("%")>0?(t.set(e+"_org",i),e.indexOf("Left")>=0||e.indexOf("Center")>=0||e.indexOf("Right")>=0?i=parseInt(t.canvas.width*(parseFloat(i.replace("%"))/100)):(e.indexOf("Top")>=0||e.indexOf("Bottom")>=0)&&(i=parseInt(t.canvas.height*(parseFloat(i.replace("%"))/100)))):"string"==typeof i&&(i=parseInt(i))),(!isNexacroRuntime||"meter"!=t.type||"anglesStart"!=e&&"anglesEnd"!=e)&&(!isNexacroRuntime||"semicircle"!=t.type||"anglesStart"!=e&&"anglesEnd"!=e)?t.set(e,i):t.set(e,i-DxChart.HALFPI))},DxChart.parseProperties=function(){var t=DxChart.getArgs(arguments,"object,config");for(var e in t.config)if("string"==typeof e){var i=t.config[e];if("object"==typeof i&&0==Array.isArray(i))for(var s in i)"string"==typeof s&&DxChart._parsePropertiesSet(t.object,e+s,i[s]);else DxChart._parsePropertiesSet(t.object,e,t.config[e])}},DxChart.path=function(args){var arguments=Array.prototype.slice.call(arguments);if(1===arguments.length&&args.object&&args.path)var context=args.object.context,p=args.path,args=args.args;else if(1===arguments.length&&args.context&&args.path)var context=args.context,p=args.path,args=args.args;else if(arguments.length>=2&&arguments[0].isDxChart&&arguments[0].context)var context=arguments[0].context,p=arguments[1],args=arguments.length>2?arguments.slice(2):[];else if(arguments.length>=2&&arguments[0].toString().indexOf("Context"))var context=arguments[0],p=arguments[1],args=arguments.length>2?arguments.slice(2):[];"string"==typeof p&&(p=splitstring(p)),DxChart.path.last=DxChart.arrayClone(p);for(var i=0,len=p.length;i<len;i+=1)switch(p[i]){case"b":context.beginPath();break;case"c":context.closePath();break;case"m":context.moveTo(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"l":context.lineTo(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"s":p[i+1]&&(context.strokeStyle=p[i+1],isNexacroRuntime&&context.setElementStrokeStyle(context.strokeStyle)),context.stroke(),i++;break;case"f":p[i+1]&&(context.fillStyle=p[i+1],isNexacroRuntime&&context.setElementFillStyle(context.fillStyle)),context.fill(),i++;break;case"fo":p[i+1]&&(context.fillStyle=p[i+1],isNexacroRuntime&&context.setElementFillStyle(context.fillStyle)),i++;break;case"fi":context.fill(),i++;break;case"qc":context.quadraticCurveTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"bc":context.bezierCurveTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"r":context.rect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"a":context.arc(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),"true"===p[i+6]||!0===p[i+6]||1===p[i+6]||"1"===p[i+6]),i+=6;break;case"at":context.arcTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5])),i+=5;break;case"lw":context.lineWidth=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementLineWidth(context.lineWidth),i++;break;case"e":context.ellipse(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6]),parseFloat(p[i+7]),"true"===p[i+8]),i+=8;break;case"lj":context.lineJoin=p[i+1],isNexacroRuntime&&context.setElementLineJoin(context.lineJoin),i++;break;case"lc":context.lineCap=p[i+1],isNexacroRuntime&&context.setElementLineCap(context.lineCap),i++;break;case"sc":context.shadowColor=p[i+1],isNexacroRuntime&&context.setElementShadowColor(context.shadowColor),i++;break;case"sb":context.shadowBlur=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementShadowBlur(context.shadowBlur),i++;break;case"sx":context.shadowOffsetX=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementShadowOffsetX(context.shadowOffsetX),i++;break;case"sy":context.shadowOffsetY=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementShadowOffsetY(context.shadowOffsetY),i++;break;case"fs":context.fillStyle=p[i+1],isNexacroRuntime&&context.setElementFillStyle(context.fillStyle),i++;break;case"ss":context.strokeStyle=p[i+1],isNexacroRuntime&&context.setElementStrokeStyle(context.strokeStyle),i++;break;case"fr":context.fillRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"sr":context.strokeRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"cl":context.clip();break;case"sa":context.save();break;case"rs":context.restore();break;case"tr":context.translate(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"sl":context.scale(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"ro":context.rotate(parseFloat(p[i+1])),i++;break;case"tf":context.transform(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"stf":context.setTransform(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"cr":context.clearRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"ld":var parts=eval(p[i+1]);isNexacroRuntime?context.setElementLineStyle("dotted"):context.setLineDash(parts),i+=1;break;case"ldo":context.lineDashOffset=p[i+1],i++;break;case"fo":context.font=p[i+1],isNexacroRuntime&&context.setElementFont(context.font),i++;break;case"ft":context.fillText(p[i+1],parseFloat(p[i+2]),parseFloat(p[i+3])),i+=3;break;case"st":context.strokeText(p[i+1],parseFloat(p[i+2]),parseFloat(p[i+3])),i+=3;break;case"ta":context.textAlign=p[i+1],isNexacroRuntime&&context.setElementTextAlign(context.textAlign),i++;break;case"tbl":context.textBaseline=p[i+1],isNexacroRuntime&&context.setElementTextBaseline(context.textBaseline),i++;break;case"ga":context.globalAlpha=parseFloat(p[i+1]),isNexacroRuntime&&(context.setElementGlobalAlpha(context.globalAlpha),context._globalAlphaFill=context.globalAlpha,context._globalAlphaStroke=context.globalAlpha),i++;break;case"gco":context.globalCompositeOperation=p[i+1],isNexacroRuntime&&context.setElementGlobalCompositeOperation(context.globalCompositeOperation),i++;break;case"fu":p[i+1](context.canvas.__object__),i++;break;case"":break;default:console.log("[ERROR] Unknown option: "+p[i])}function splitstring(t){for(var e=[],i="",s=!1,a=0,o=0;o<t.length;o+=1){var r=t[o];r.match(/ /)?s?i+=r:('"'!==i[0]&&"'"!==i[0]||(i=i.substr(1,i.length-2)),"%"===i.trim()&&void 0!==args[a]&&(i=args[a++]),e.push(i),i=""):("'"!==r&&'"'!==r||(s=!s),i+=r)}return"%"===i.trim()&&args[a]&&(i=args[a++]),e.push(i),e}},DxChart.getTextInfo=function(t){var e=t.object.properties,i=t.prefix,s=t.idx,a=i+"FontStyleObj",o="string"==typeof e[a].face?e[a].face:e.textFontStyleObj.face,r="number"==typeof e[a].size?e[a].size:e.textFontStyleObj.size,n=DxChart.isNull(e[a].bold)?e.textFontStyleObj.bold:e[a].bold,h=DxChart.isNull(e[a].italic)?e.textFontStyleObj.italic:e[a].italic;return{font:o,size:r,color:"string"==typeof e[i+"Color"]?e[i+"Color"]:DxChart.isArray(e[i+"Color"])&&DxChart.isNumber(s)?e[i+"Color"][s]:e.textColor,bold:n,italic:h}},DxChart._getColumnDataset=function(t,e){if(t instanceof nexacro.NormalDataset||t instanceof nexacro.Dataset){if(DxChart.isArray(e))return DxChart.convertDataset(t,e);if((e+"").indexOf("bind:")>=0){e=e.replace("bind:","");for(var i=[],s=0,a=t.rowcount;s<a;s++){var o=t.getColumn(s,e);o instanceof nexacro.Decimal?i.push(o.valueOf()):i.push(parseFloat(o))}return i}return e}return e},DxChart.convertDataset=function(t,e,i,s){var a=e.toString();if(a.indexOf("bind")<0&&a.indexOf("expr")<0)return e;if("string"==typeof e){var o=e;(e=[]).push(o)}var r,n=t.rowcount,h=[],l=1;if(i||(i=0),i>0&&(l=parseInt(n/i)),"linear"==s&&e.length>1)for(var c=0,x=e.length;c<x;c++)h[c]=[];var d=0;for(n=t.rowcount;d<n;d++){var u=[];if(0===parseInt(d%l)){for(c=0,x=e.length;c<x;c++){if(e[c].indexOf("expr:")>=0){var g=t._createExprFunc(e[c].replace("expr:",""));"function"==typeof g?r=g.call(this,d,d,this,t,t._viewRecords,t._viewRecords[d],[]):trace("Expression Error==========="+e[c])}else r=t.getColumn(d,e[c].replace("bind:","").trim());r instanceof nexacro.Decimal&&(r=r.valueOf()),"linear"==s&&x>1?h[c].push(r):u.push(r)}"linear"==s&&1!=e.length||(1==e.length?h.push(u[0]):h.push(u))}}return h},DxChart.responsive=function(t){var e=this;t.sort(function(t,e){var i=DxChart.isNull(t.maxWidth),s=DxChart.isNull(e.maxWidth);return i&&s?0:i&&!s?-1:!i&&s?1:e.maxWidth-t.maxWidth});for(var i=0;i<t.length;++i)t[i+1]&&"number"==typeof t[i+1].maxWidth?t[i].minWidth=t[i+1].maxWidth:t[i+1]||(t[i].minWidth=0);for(i=0;i<t.length;++i){t[i].minWidth=DxChart.isNull(t[i].minWidth)?0:t[i].minWidth,t[i].maxWidth=DxChart.isNull(t[i].maxWidth)?1e5:t[i].maxWidth;var s="screen and (min-width: %1px) and (max-width: %2px)".format(t[i].minWidth,t[i].maxWidth);if(!isNexacroRuntime){var a=window.matchMedia(s);!function(e){a.addListener(function(i){i.matches&&o(t[e])})}(i),document.documentElement.clientWidth>=t[i].minWidth&&document.documentElement.clientWidth<t[i].maxWidth&&o(t[i])}}function o(t){if("number"==typeof t.width&&(e.get("textAccessible")&&(e.canvas.parentNode.style.width=t.width+"px"),e.canvas.width=t.width,e.canvas.__initTranslated__=!1),"number"==typeof t.height&&(e.get("textAccessible")&&(e.canvas.parentNode.style.height=t.height+"px"),e.canvas.height=t.height,e.canvas.__initTranslated__=!1),"object"==typeof t.options)for(var i in t.options)"string"==typeof i&&e.set(i,t.options[i]);var s=function(t,e,i){for(var s=[["float","cssFloat"]],a=0;a<s.length;++a)e===s[a][0]&&(e=s[a][1]);t.style[e]=i};if("object"==typeof t.css)for(var i in t.css)"string"==typeof i&&(e.get("textAccessible")?s(e.canvas.parentNode,i,t.css[i]):s(e.canvas,i,t.css[i]));if("object"==typeof t.parentCss)for(var i in t.parentCss)"string"==typeof i&&(e.get("textAccessible")?s(e.canvas.parentNode.parentNode,i,t.parentCss[i]):s(e.canvas.parentNode,i,t.parentCss[i]));DxChart.cache=[],DxChart.resetColorsToOriginalValues(e),e.get("textAccessible")&&DxChart.text.domNodeCache&&DxChart.text.domNodeCache.reset&&DxChart.text.domNodeCache.reset(e.canvas),DxChart.redraw(e.canvas),"function"==typeof t.callback&&t.callback(e)}return e},DxChart.responsive_old=function(t){var e=arguments[1]||{},i=this,s=null;e.delay="number"==typeof e.delay?e.delay:200;var a=function(){for(var e=!1,s=0;s<t.length;++s)if(!e&&(document.documentElement.clientWidth<=t[s].maxWidth||DxChart.isNull(t[s].maxWidth))){if(e=!0,"number"==typeof t[s].width&&(i.get("textAccessible")&&(i.canvas.parentNode.style.width=t[s].width+"px"),i.canvas.width=t[s].width,i.canvas.__initTranslated__=!1),"number"==typeof t[s].height&&(i.get("textAccessible")&&(i.canvas.parentNode.style.height=t[s].height+"px"),i.canvas.height=t[s].height,i.canvas.__initTranslated__=!1),"object"==typeof t[s].options&&"object"==typeof t[s].options)for(var a in t[s].options)"string"==typeof a&&i.set(a,t[s].options[a]);var o=function(t,e,i){for(var s=[["float","cssFloat"]],a=0;a<s.length;++a)e===s[a][0]&&(e=s[a][1]);t.style[e]=i};if("object"==typeof t[s].css)for(var a in t[s].css)"string"==typeof a&&(i.get("textAccessible")?o(i.canvas.parentNode,a,t[s].css[a]):o(i.canvas,a,t[s].css[a]));if("object"==typeof t[s].parentCss)for(var a in t[s].parentCss)"string"==typeof a&&(i.get("textAccessible")?o(i.canvas.parentNode.parentNode,a,t[s].parentCss[a]):o(i.canvas.parentNode,a,t[s].parentCss[a]));DxChart.cache=[],DxChart.resetColorsToOriginalValues(i),i.get("textAccessible")&&DxChart.text.domNodeCache.reset(i.canvas),DxChart.redraw(),"function"==typeof t[s].callback&&t[s].callback(i)}};return DxChart.responsive.window_resize_event_listener=function(){e.delay>0?(clearTimeout(s),s=setTimeout(a,e.delay)):a()},window.addEventListener("resize",DxChart.responsive.window_resize_event_listener,!1),a(),i},DxChart.pathObjectFunction=function(){if(1===arguments.length&&"object"==typeof arguments[0]){var t=DxChart.getArgs(arguments,"path,args");DxChart.path({object:this,path:t.path,args:t.args})}else{t=Array.prototype.slice.call(arguments,1);DxChart.path({object:this,path:arguments[0],args:t})}},DxChart.drawXAxis=function(t){var e=t.properties,i=(t.context,"number"==typeof e.xaxisTickmarksLength?e.xaxisTickmarksLength:3),s="bar"===t.type&&"sketch"===e.variantValue,a=e.xaxisAddLineSize||0;if("object"==typeof e.xaxisLabels&&!DxChart.isNull(e.xaxisLabels)&&e.xaxisLabels.length)for(var o=0;o<e.xaxisLabels.length;++o)void 0!==e.xaxisLabels[o]&&null!==e.xaxisLabels[o]||(e.xaxisLabels[o]="");var r=t.canvas.width-e.marginRight;if(m="hbar"!==t.type&&"gantt"!==t.type&&"heatmap"!==t.type||"bottom"!==e.xaxisPosition?"hbar"!==t.type&&"gantt"!==t.type||"top"!==e.xaxisPosition?t.getYCoord(e.yaxisScaleMin>0?e.yaxisScaleMin:0):e.marginTop:t.canvas.height-e.marginBottom,"line"===t.type&&e.yaxisScaleInvert&&0===e.yaxisScaleMin&&(m=t.getYCoord(t.scale2.max)),"scatter"===t.type&&e.yaxisScaleInvert&&e.yaxisScaleMin>=0&&(m=t.getYCoord(t.scale2.max)),"drawing.xaxis"===t.type&&(m="center"===e.xaxisPosition?(t.canvas.height-e.marginTop-e.marginBottom)/2+e.marginTop:t.y),e.xaxisUse){var n;if(e.xaxisColor&&t.path("lw % b m % % l % % s %",e.xaxisLineWidth,e.marginLeft-(s?5:0)-("left"==e.yaxisPosition?a:0),m-(s?2:0),t.canvas.width-e.marginRight+(s?7:0),m+(s?2:0)+("left"!=e.yaxisPosition?a:0),e.xaxisColor),!s){if(e.xaxisTickmarks?"number"==typeof e.xaxisTickmarksCount?n=e.xaxisTickmarksCount:"bar"===t.type?n=t.data.length||10:"hbar"===t.type?n=e.xaxisLabelsCount||5:"gantt"===t.type&&e.xaxisLabels.length&&e.xaxisLabels.length>0?(n=e.xaxisLabels.length||5,"edge"==e.xaxisLabelsPosition&&(n=e.xaxisLabels.length-1||5)):n="line"===t.type?t.data[0].length>0?t.data[0].length-1:10:"scatter"===t.type&&e.scale?5:"scatter"===t.type&&e.xaxisLabels?e.xaxisLabels.length:"scatter"===t.type?5:"waterfall"===t.type?t.data.length+(e.totalUse?1:0):"drawing.xaxis"===t.type?e.scale?e.xaxisScaleLabelsCount:e.xaxisLabels&&e.xaxisLabels.length?e.xaxisLabels.length:5:5:e.xaxisTickmarksCount=0,"center"===e.xaxisPosition&&e.yaxisScaleMin>=0)if(e.yaxisScaleInvert)var h=t.getYCoord(e.yaxisScaleMax)-i,l=t.getYCoord(e.yaxisScaleMax)+i;else h=t.getYCoord(e.yaxisScaleMin)-i,l=t.getYCoord(e.yaxisScaleMin)+i;else if("center"===e.xaxisPosition||e.yaxisScaleMin<0){if(e.yaxisScaleInvert)h=t.getYCoord(t.scale2.max)-i,l=t.getYCoord(t.scale2.max)+i;else h=t.getYCoord(0)-i,l=t.getYCoord(0)+i;if(e.yaxisScaleMin<0&&e.yaxisScaleMax>0)h=t.getYCoord(0)-i,l=t.getYCoord(0)+i}else if("top"===e.xaxisPosition)if(t.getYCoord)h=t.getYCoord(0)-i,l=t.getYCoord(0);else h=e.marginTop-i,l=e.marginTop;else if(t.getYCoord)if("line"===t.type&&e.yaxisScaleInvert)h=t.getYCoord(t.scale2.max),l=t.getYCoord(t.scale2.max)+i;else if("scatter"===t.type&&e.yaxisScaleInvert)h=t.getYCoord(t.scale2.max),l=t.getYCoord(t.scale2.max)+i;else if("drawing.xaxis"===t.type)h=t.y,l=t.y+i;else h=t.getYCoord(e.yaxisScaleMin),l=t.getYCoord(e.yaxisScaleMin)+i;else h=t.canvas.height-e.marginBottom,l=t.canvas.height-e.marginBottom+i;("bar"==t.type||"line"==t.type)&&e.marginInner&&e.marginInner>0&&(e.xaxisTickmarksLastLeft=!0);for(o=0;o<n;o++){if(DxChart.isNull(e.xaxisTickmarksLastLeft)){if(0===o&&e.yaxisUse&&"left"===e.yaxisPosition&&!(e.xaxisScaleMax>0&&e.xaxisScaleMin<0))continue}else if(0===o&&!e.xaxisTickmarksLastLeft)continue;if(DxChart.isNull(e.xaxisTickmarksLastRight)){if(o===n&&e.yaxisUse&&"right"===e.yaxisPosition)continue}else if(o===n&&!e.xaxisTickmarksLastRight)continue;if(f="line"===t.type?(t.canvas.width-e.marginLeft-e.marginRight-2*(e.marginInner||0))/n*o+e.marginLeft+(e.marginInner||0):(t.canvas.width-e.marginLeft-e.marginRight)/n*o+e.marginLeft,"hbar"===t.type){if("center"===e.yaxisPosition&&f>t.getXCoord(0)-2&&f<t.getXCoord(0)+2)continue;if("left"===e.yaxisPosition&&e.xaxisScaleMin<0&&e.xaxisScaleMax>0&&f>t.getXCoord(0)-2&&f<t.getXCoord(0)+2)continue}t.path("lw % b m % % l % % s %",e.xaxisTickmarksLineWidth||e.xaxisLineWidth,f,h,f,l,e.xaxisTickmarksColor||e.xaxisColor)}}t.path("lw 1")}if(0!=e.xaxisLabelsAngle){var c="center",x="right",d=0-e.xaxisLabelsAngle;if("top"===e.xaxisPosition)d=e.xaxisLabelsAngle}else c="top",x="center",d=0;if(e.xaxisScale){var u=t.scale2;if("scatter"===t.type)u=t.xscale2;else if("heatmap"===t.type)u=DxChart.getScale({object:t,options:{"scale.max":e.xaxisScaleMax,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisScaleLabelsCount,"scale.strict":!1}});else if("drawing.xaxis"===t.type&&e.xaxisScale){u=DxChart.getScale({object:t,options:{"scale.max":e.xaxisScaleMax,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisScaleLabelsCount,"scale.strict":!0}});for(o=0;o<=e.xaxisScaleLabelsCount;++o){var g=(e.xaxisScaleMax-e.xaxisScaleMin)/e.xaxisScaleLabelsCount*o+e.xaxisScaleMin;e.marginInner;if("function"==typeof e.xaxisScaleFormatter)e.xaxisScaleFormatter(this,g);else DxChart.numberFormat({object:t,number:g.toFixed(0===g?0:e.xaxisScaleDecimals),unitspre:e.xaxisScaleUnitsPre,unitspost:e.xaxisScaleUnitsPost,point:e.xaxisScalePoint,thousand:e.xaxisScaleThousand})}}for(o=0;o<u.labels.length;++o){var p=(t.canvas.width-e.marginLeft-e.marginRight)/u.labels.length;if("right"===e.yaxisPosition)var f=e.marginLeft+p*o;else if("center"===e.yaxisPosition){p/=2;f=t.getXCoord(0)+p+p*o}else f=e.marginLeft+p*o+p;var m="top"===e.xaxisPosition?t.marginTop-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY-5:t.canvas.height-e.marginBottom+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5;"drawing.xaxis"===t.type&&(m="top"===e.xaxisPosition?t.y-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY:t.y+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5),r<f+e.xaxisLabelsOffsetX||(DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:f+e.xaxisLabelsOffsetX,y:m,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter({object:t,number:u.values[o]}):"right"===e.yaxisPosition?String(u.labels[u.labels.length-1-o]):String(u.labels[o]),valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":c,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:x,marker:!1,angle:d,tag:"xaxis.labels"}),"hbar"===t.type&&"center"===e.yaxisPosition&&(f=t.getXCoord(0)-p-p*o,DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:f+e.xaxisLabelsOffsetX,y:"top"===e.xaxisPosition?t.marginTop-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY-5:t.canvas.height-e.marginBottom+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter({object:t,number:u.values[o]}):"-"+String(u.labels[o]),valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":c,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:x,marker:!1,angle:d,tag:"xaxis.labels"})))}var b=(e.xaxisScaleUnitsPre||"")+(e.xaxisScaleMin||0).toFixed(e.xaxisScaleDecimals).replace(/\./,e.xaxisScalePoint)+(e.xaxisScaleUnitsPost||"");b=b.replace(/^(.+)-(\d)/,"-$1$2"),DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:"right"===e.yaxisPosition?t.canvas.width-e.marginRight+e.xaxisLabelsOffsetX:"center"===e.yaxisPosition?t.getXCoord(0)+e.xaxisLabelsOffsetX:e.marginLeft+e.xaxisLabelsOffsetX,y:m,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter({object:t,number:0}):b,valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":c,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:x,marker:!1,angle:d,tag:"xaxis.labels"})}else if(e.xaxisLabels&&e.xaxisLabels.length&&("section"===e.xaxisLabelsPosition||"edge"===e.xaxisLabelsPosition)){var C=!1,y=1,v=0,D=e.xaxisLabels.length;"hbar"!=t.type&&"number"==typeof e.xaxisLabelsCount&&e.xaxisLabels.length>e.xaxisLabelsCount&&(D=e.xaxisLabelsCount,C=!0,y=parseInt(e.xaxisLabels.length/e.xaxisLabelsCount),v=parseInt(y/2)),p="edge"===e.xaxisLabelsPosition?"gantt"==t.type||"hbar"==t.type?(t.canvas.width-e.marginLeft-e.marginRight)/(D-1):(t.canvas.width-e.marginLeft-e.marginRight-(e.marginInner||0)-(e.marginInner||0))/(D-1):(t.canvas.width-e.marginLeft-e.marginRight)/D;var S=e.marginInner;"hbar"!=t.type&&"gantt"!=t.type||(S=0);var k=-1;for(o=0;o<e.xaxisLabels.length;++o){if(C){if("section"===e.xaxisLabelsPosition){if(o%y!=v)continue}else if(o%y!=0)continue;k++}if(f="edge"===e.xaxisLabelsPosition?e.marginLeft+(S||0)+p*(C?k:o):e.marginLeft+p*(C?k:o)+p/2,"object"==typeof e.xaxisLabels[o]&&"scatter"===t.type){var w=0,_="left"===e.xaxisLabelsSpecificAlign?"left":"center";x="center";w=e.xaxisLabels[o+1]&&"number"==typeof e.xaxisLabels[o+1][1]?e.xaxisLabels[o+1][1]:e.xaxisScaleMax;var T=e.xaxisLabels[o][1];f=(t.getXCoord(w)-t.getXCoord(T))/2+t.getXCoord(T);if("left"===_&&(f=t.getXCoord(T),x="left"),DxChart.isNull(f))continue;"drawing.xaxis"===t.type&&(m="top"===e.xaxisPosition?t.y-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY:t.y+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5);var P=String(e.xaxisLabels[o][0]);if(e.xaxisLabelsMask)(R=new DxChartMask(e.xaxisLabelsMaskType||"string")).setMask(e.xaxisLabelsMask),P=R.applyMask(P);if(r<f+5+e.xaxisLabelsOffsetX)continue;DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:f+5+e.xaxisLabelsOffsetX,y:m+5+e.xaxisLabelsOffsetY,valign:c,halign:0!=d?"right":x,text:P,angle:d,marker:!1,tag:"labels.specific",cssClass:DxChart.getLabelsCSSClassName({object:t,name:"xaxisLabelsClass",index:o})});t.path("b m % % l % % s #bbb",Math.round(e.marginLeft+(e.xaxisLabels[o][1]-e.xaxisScaleMin)/(e.xaxisScaleMax-e.xaxisScaleMin)*(t.canvas.width-e.marginLeft-e.marginRight)),t.canvas.height-e.marginBottom,Math.round(e.marginLeft+(e.xaxisLabels[o][1]-e.xaxisScaleMin)/(e.xaxisScaleMax-e.xaxisScaleMin)*(t.canvas.width-e.marginLeft-e.marginRight)),t.canvas.height-e.marginBottom+20),(o===e.xaxisLabels.length-1||C&&k===D-1)&&t.path("b m % % l % % s #bbbbbb",t.canvas.width-e.marginRight,t.canvas.height-e.marginBottom,t.canvas.width-e.marginRight,t.canvas.height-e.marginBottom+20)}else{m="top"===e.xaxisPosition?e.marginTop+e.xaxisLabelsOffsetY-5:t.canvas.height-e.marginBottom+e.xaxisLabelsOffsetY+5;"drawing.xaxis"===t.type&&"drawing.xaxis"===t.type&&(m="top"===e.xaxisPosition?t.y-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY:t.y+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5);var R;P=String(e.xaxisLabels[o]);if(e.xaxisLabelsMask)(R=new DxChartMask(e.xaxisLabelsMaskType||"string")).setMask(e.xaxisLabelsMask),P=R.applyMask(P);if(r<f+e.xaxisLabelsOffsetX)continue;DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:f+e.xaxisLabelsOffsetX,y:m+e.xaxisLabelsOffsetY,text:P,valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":c,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:x,marker:!1,angle:d,tag:"xaxis.labels",cssClass:DxChart.getLabelsCSSClassName({object:t,name:"xaxisLabelsClass",index:o})})}}}if(e.xaxisTitle){f=e.marginLeft+(t.canvas.width-e.marginLeft-e.marginRight)/2+e.xaxisTitleOffsetX,m="top"===e.xaxisPosition?e.marginTop-7+e.xaxisTitleOffsetY-e.xaxisTickmarksLength:t.canvas.height-e.marginBottom+7+e.xaxisTitleOffsetY+e.xaxisTickmarksLength;if("drawing.xaxis"===t.type&&(m=t.y+7+e.xaxisTitleOffsetY+e.xaxisTickmarksLength),e.xaxisScale||e.xaxisLabels&&e.xaxisLabels.length){var L=DxChart.getTextInfo({object:t,prefix:"xaxisLabels"});"top"===e.xaxisPosition?m-=1.5*L.size:m+=1.5*L.size}"number"==typeof e.xaxisTitlePos&&(m="top"===e.xaxisPosition?e.marginTop*e.xaxisTitlePos:t.canvas.height-e.marginBottom+e.marginBottom*e.xaxisTitlePos),"number"==typeof e.xaxisTitleX&&(f=e.xaxisTitleX),"number"==typeof e.xaxisTitleY&&(m=e.xaxisTitleY),DxChart.text({object:t,textInfoPrefix:"xaxisTitle",x:f,y:m,text:e.xaxisTitle.toString(),valign:"top"===e.xaxisPosition?e.xaxisTitleValign||"bottom":e.xaxisTitleValign||"top",halign:e.xaxisTitleHalign||"center",marker:!1,tag:"xaxis.title"})}},DxChart.drawYAxis=function(t){var e=t.properties,i=(t.context,"bar"===t.type&&"sketch"===e.variantValue);tickmarksLength="number"==typeof e.yaxisTickmarksLength?e.yaxisTickmarksLength:3;var s,a=e.yaxisAddLineSize||0,o=0;if(("hbar"===t.type&&(e.yaxisLabelsSpecific=e.yaxisLabels),"hbar"!==t.type&&"gantt"!==t.type||"left"!==e.yaxisPosition?"hbar"!==t.type&&"gantt"!==t.type||"right"!==e.yaxisPosition?"drawing.yaxis"===t.type?(o=t.x,"right"==e.yaxisPosition&&(o=t.canvas.width-o)):o="right"===e.yaxisPosition?t.canvas.width-e.marginRight:"hbar"===t.type?t.getXCoord(0):e.marginLeft:o=t.canvas.width-e.marginRight:(o=t.getXCoord(0),"hbar"===t.type&&e.xaxisScaleMin>0&&e.xaxisScaleMax>e.xaxisScaleMin&&(o=t.getXCoord(e.xaxisScaleMin))),e.yaxisUse)&&(e.yaxisColor&&t.path("lw % b m % % l % % s %",e.yaxisLineWidth,o-(i?5:0),e.marginTop-(i?2:0)-("top"==e.xaxisPosition?a:0),o+(i?7:0),t.canvas.height-e.marginBottom+(i?2:0)+("bottom"==e.xaxisPosition?a:0),e.yaxisColor),!i)){if(e.yaxisTickmarks?s="number"==typeof e.yaxisTickmarksCount?e.yaxisTickmarksCount:"bar"===t.type?e.yaxisLabelsSpecific?e.yaxisLabelsSpecific.length-1:e.yaxisLabelsCount:"hbar"===t.type?t.data.length||5:"line"===t.type?e.yaxisLabelsSpecific?e.yaxisLabelsSpecific.length-1:e.yaxisLabelsCount:"scatter"===t.type?e.yaxisLabelsCount:"waterfall"===t.type?e.yaxisLabelsCount:5:e.yaxisTickmarksCount=0,"right"===e.yaxisPosition)var r=o,n=o+tickmarksLength;else r=o,n=o-tickmarksLength;if("hbar"===t.type&&e.xaxisScaleMin<0&&e.xaxisScaleMax>0)r=t.getXCoord(0)-tickmarksLength,n=t.getXCoord(0)+tickmarksLength;for(var h=0;h<s;h++){if(DxChart.isNull(e.yaxisTickmarksLastTop)){if(0===h&&e.xaxis&&"top"===e.xaxisPosition)continue}else if(0===h&&!e.yaxisTickmarksLastTop)continue;if(DxChart.isNull(e.yaxisTickmarksLastBottom)){if(h===s&&e.xaxis&&"bottom"===e.xaxisPosition)continue}else if(h===s&&!e.yaxisTickmarksLastBottom)continue;var l=(t.canvas.height-e.marginTop-e.marginBottom)/s*h+e.marginTop;if(t.getYCoord)var c=t.getYCoord(0);else if(t.getXCoord)c=t.getXCoord(0);else c=t.marginTop;e.xaxisUse&&("center"===e.xaxisPosition&&!e.yaxisCenterContinue||"bottom"===e.xaxisPosition&&e.yaxisScaleMin<0&&e.yaxisScaleMax>0)&&l>c-1&&l<c+1||(t.path("lw % b m % % l % % s %",e.yaxisTickmarksLineWidth||e.yaxisLineWidth,r,l,n,l,e.yaxisTickmarksColor||e.yaxisColor),e.yaxisScaleMin<0&&e.yaxisScaleMax>0&&t.path("lw % b m % % l % % s %",e.yaxisTickmarksLineWidth||e.yaxisLineWidth,r,t.canvas.height-e.marginBottom,n,t.canvas.height-e.marginBottom,e.yaxisTickmarksColor||e.yaxisColor),"scatter"===t.type&&"center"===e.xaxisPosition&&e.yaxisScaleInvert&&t.path("lw % b m % % l % % s %",e.yaxisTickmarksLineWidth||e.yaxisLineWidth,r,e.marginTop,n,e.marginTop,e.yaxisColor))}t.path("lw 1")}var x="center",d="right",u=e.yaxisAddLineSize||0;if(e.yaxisScale&&!e.yaxisLabelsSpecific){if("drawing.yaxis"===t.type&&e.yaxisScale){t.scale2=DxChart.getScale({object:t,options:{"scale.max":e.yaxisScaleMax,"scale.min":e.yaxisScaleMin,"scale.decimals":Number(e.yaxisScaleDecimals),"scale.point":e.yaxisScalePoint,"scale.thousand":e.yaxisScaleThousand,"scale.round":e.yaxisScaleRound,"scale.units.pre":e.yaxisScaleUnitsPre,"scale.units.post":e.yaxisScaleUnitsPost,"scale.labels.count":e.yaxisScaleLabelsCount,"scale.strict":!0}});for(h=0;h<=e.yaxisScaleLabelsCount;++h){var g=(e.yaxisScaleMax-e.yaxisScaleMin)/e.yaxisScaleLabelsCount*h+e.yaxisScaleMin;e.marginInner;T="function"==typeof e.yaxisScaleFormatter?e.yaxisScaleFormatter(this,g):DxChart.numberFormat({object:t,number:g.toFixed(0===g?0:e.yaxisScaleDecimals),unitspre:e.yaxisScaleUnitsPre,unitspost:e.yaxisScaleUnitsPost,point:e.yaxisScalePoint,thousand:e.yaxisScaleThousand})}}var p=t.scale2;if("heatmap"==t.type&&(p=DxChart.getScale({object:t,options:{"scale.max":e.yaxisScaleMax,"scale.min":e.yaxisScaleMin,"scale.decimals":Number(e.yaxisScaleDecimals),"scale.point":e.yaxisScalePoint,"scale.thousand":e.yaxisScaleThousand,"scale.round":e.yaxisScaleRound,"scale.units.pre":e.yaxisScaleUnitsPre,"scale.units.post":e.yaxisScaleUnitsPost,"scale.labels.count":e.yaxisScaleLabelsCount,"scale.strict":!1}}),t.scale2=p),t.maxLabelLength=Math.max(t.maxLabelLength,t.context.measureText(t.scale2.labels[4]).width),"center"===e.xaxisPosition){var f=(t.canvas.height-e.marginTop-e.marginBottom)/2;for(h=0;h<p.labels.length;++h){var m=(t.canvas.height-e.marginTop-e.marginBottom)/(2*p.labels.length),b=(l=e.marginTop+m*h,String(p.labels[p.labels.length-1-h]));if(e.yaxisLabelsMask)(_=new DxChartMask(e.yaxisLabelsMaskType||"string")).setMask(e.yaxisLabelsMask),b=_.applyMask(b);DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+5+u:o-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-5-u,y:e.yaxisScaleInvert?f+e.marginTop-m*h+e.yaxisLabelsOffsetY:e.marginTop+m*h+e.yaxisLabelsOffsetY,text:String(p.labels[p.labels.length-1-h]),valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}for(h=0;h<p.labels.length;++h)if(0!==h||!e.yaxisScaleInvert){m=(t.canvas.height-e.marginTop-e.marginBottom)/(2*p.labels.length),l=e.marginTop+(t.canvas.height-e.marginTop-e.marginBottom)/2+m*h+m,b=e.yaxisScaleInvert?String(p.labels[p.labels.length-h-1]):String(p.labels[h]);if(e.yaxisLabelsMask)(_=new DxChartMask(e.yaxisLabelsMaskType||"string")).setMask(e.yaxisLabelsMask),b=_.applyMask(b);DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+5+u:o-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-5-u,y:e.yaxisScaleInvert?f+e.marginTop+m*h:l+e.yaxisLabelsOffsetY,text:"-"+b,valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+5+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+u:o-5-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-u,y:e.yaxisScaleInvert?e.marginTop+e.yaxisLabelsOffsetY:e.marginTop+(t.canvas.height-e.marginBottom-e.marginTop)/2+e.yaxisLabelsOffsetY,text:"function"==typeof e.yaxisScaleFormatter?e.yaxisScaleFormatter({object:this,number:0,unitspre:e.yaxisScaleUnitsPre,unitspost:e.yaxisScaleUnitsPost,point:e.yaxisScalePoint,thousand:e.yaxisScaleThousand,formatter:e.yaxisScaleFormatter}):(e.yaxisScaleUnitsPre||"")+e.yaxisScaleMin.toFixed(e.yaxisScaleDecimals).replace(/\./,e.yaxisScalePoint)+(e.yaxisScaleUnitsPost||""),valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"}),e.yaxisScaleInvert&&DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+5+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+u:o-5-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-u,y:t.canvas.height-e.marginBottom+e.yaxisLabelsOffsetY,text:"function"==typeof e.yaxisScaleFormatter?e.yaxisScaleFormatter({object:this,number:0,unitspre:e.yaxisScaleUnitsPre,unitspost:e.yaxisScaleUnitsPost,point:e.yaxisScalePoint,thousand:e.yaxisScaleThousand,formatter:e.yaxisScaleFormatter}):(e.yaxisScaleUnitsPre||"")+e.yaxisScaleMin.toFixed(e.yaxisScaleDecimals).replace(/\./,e.yaxisScalePoint)+(e.yaxisScaleUnitsPost||""),valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}else if("top"===e.xaxisPosition){for(h=0;h<p.labels.length;++h){m=(t.canvas.height-e.marginTop-e.marginBottom)/p.labels.length;l=e.yaxisScaleInvert?t.canvas.height-e.marginBottom-m*h-m-m:e.marginTop+m*h;b=String(p.labels[h]);if(e.yaxisLabelsMask)(_=new DxChartMask(e.yaxisLabelsMaskType||"string")).setMask(e.yaxisLabelsMask),b=_.applyMask(b);DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+5+u:o-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-5-u,y:l+m+e.yaxisLabelsOffsetY,text:"-"+b,valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+5+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+u:o-5-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-u,y:e.yaxisScaleInvert?t.canvas.height-e.marginBottom+e.yaxisLabelsOffsetY:e.marginTop+e.yaxisLabelsOffsetY,text:"function"==typeof e.yaxisScaleFormatter?e.yaxisScaleFormatter({object:this,number:0,unitspre:e.yaxisScaleUnitsPre,unitspost:e.yaxisScaleUnitsPost,point:e.yaxisScalePoint,thousand:e.yaxisScaleThousand,formatter:e.yaxisScaleFormatter}):(e.yaxisScaleUnitsPre||"")+e.yaxisScaleMin.toFixed(e.yaxisScaleDecimals).replace(/\./,e.yaxisScalePoint)+(e.yaxisScaleUnitsPost||""),valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}else{for(h=0;h<p.labels.length;++h){m=(t.canvas.height-e.marginTop-e.marginBottom)/p.labels.length,l=e.marginTop+m*(h+(e.yaxisScaleInvert?1:0)),b=String(e.yaxisScaleInvert?p.labels[h]:p.labels[p.labels.length-1-h]);if(e.yaxisLabelsMask)(_=new DxChartMask(e.yaxisLabelsMaskType||"string")).setMask(e.yaxisLabelsMask),b=_.applyMask(b);DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+5+u:o-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-5-u,y:l+e.yaxisLabelsOffsetY,text:b,valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}var C=DxChart.numberFormat({object:t,number:e.yaxisScaleMin.toFixed(e.yaxisScaleDecimals),unitspre:e.yaxisScaleUnitsPre,unitspost:e.yaxisScaleUnitsPost,point:e.yaxisScalePoint,thousand:e.yaxisScaleThousand});DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:"right"===e.yaxisPosition?o+5+(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX+u:o-5-(e.yaxisTickmarksLength||0)+e.yaxisLabelsOffsetX-u,y:e.yaxisScaleInvert?e.marginTop:t.canvas.height-e.marginBottom+e.yaxisLabelsOffsetY,text:"function"==typeof e.yaxisScaleFormatter?e.yaxisScaleFormatter({object:this,number:0,unitspre:e.yaxisScaleUnitsPre,unitspost:e.yaxisScaleUnitsPost,point:e.yaxisScalePoint,thousand:e.yaxisScaleThousand,formatter:e.yaxisScaleFormatter}):C,valign:"string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:x,halign:"string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}}else if(e.yaxisLabelsSpecific&&e.yaxisLabelsSpecific.length&&("section"===e.yaxisLabelsPosition||"edge"===e.yaxisLabelsPosition)){m=(t.canvas.height-e.marginTop-e.marginBottom)/(e.yaxisLabelsSpecific.length-("section"===e.yaxisLabelsPosition?0:1));t.maxLabelLength=0;var y=DxChart.getTextInfo({object:t,prefix:"yaxisLabels"}),v=(x="string"==typeof e.yaxisLabelsValign?e.yaxisLabelsValign:"center",d="string"==typeof e.yaxisLabelsHalign?e.yaxisLabelsHalign:"right"===e.yaxisPosition?"left":"right"),D=!1;isNexacroRuntime&&"right"==d&&(D=!0);var S=!1,k=1,w=0;"heatmap"==t.type&&"number"==typeof e.yaxisLabelsCount&&e.yaxisLabelsSpecific.length>e.yaxisLabelsCount&&(S=!0,k=e.yaxisLabelsCount,w=parseInt(k/2));for(h=0;h<e.yaxisLabelsSpecific.length;++h){if(S)if("section"===e.yaxisLabelsPosition){if(h%k!=w)continue}else if(h%k!=0)continue;var _,T=String(e.yaxisLabelsSpecific[h]||"");if(e.yaxisLabelsMask)(_=new DxChartMask(e.yaxisLabelsMaskType||"string")).setMask(e.yaxisLabelsMask),T=_.applyMask(T);var P="drawing.yaxis"===t.type?"right"===e.yaxisPosition?t.x+7+e.yaxisLabelsOffsetX:t.x-5+e.yaxisLabelsOffsetX+u:"right"===e.yaxisPosition?o+e.yaxisLabelsOffsetX+5+u:e.marginLeft-5+e.yaxisLabelsOffsetX-u;if(isNexacroRuntime&&D){var R=DxChart.measureText(T,y.bold,y.font,y.size);if((T.indexOf("\\n")>-1||T.indexOf("\\r")>-1)&&(T=T.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\r\\n/g,"\r\n")),(T.match(/\r|\n/g)||[]).length>0){for(var L=T.split(/\n|\r\n?/),j=0,F=0,E=0;E<L.length;E++)L[E].length>F&&(j=DxChart.measureText(L[E],y.bold,y.font,y.size)[0],F=L[E].length);P=o-j-5,d="left"}else P="right"===v?e.marginLeft-5+e.yaxisLabelsOffsetX-u-R[0]:o-R[0],d="left"}l=e.marginTop+m*h+("section"===e.yaxisLabelsPosition?m/2:0),DxChart.text({object:t,textInfoPrefix:"yaxisLabels",x:P,y:l+e.yaxisLabelsOffsetY,text:T,valign:x,halign:d,marker:!1,idx:h,tag:"yaxis.labels",cssClass:DxChart.getLabelsCSSClassName({object:t,name:"yaxisLabelsClass",index:h})});t.maxLabelLength=Math.max(t.maxLabelLength,2*t.context.measureText(String(e.yaxisLabelsSpecific[h])).width)}}if(e.yaxisTitle){if("gantt"===t.type){h=0;for(var O=0;h<e.yaxisLabels.length;++h){y=DxChart.getTextInfo({object:t,prefix:"yaxisLabels"});O=Math.max(O,DxChart.measureText(e.yaxisLabels[h],y.bold,y.font,y.size)[0])}}else if(t.scale2&&t.scale2.labels)y=DxChart.getTextInfo({object:t,prefix:"yaxisLabels"}),O=DxChart.measureText(t.scale2.labels[t.scale2.labels.length-1],y.bold,y.font,y.size)[0];("hbar"===t.type&&e.yaxisLabels&&e.yaxisLabels.length||"drawing.yaxis"===t.type&&e.yaxisLabelsSpecific&&e.yaxisLabelsSpecific.length)&&(O=function(e){for(var i=DxChart.getTextInfo({object:t,prefix:"yaxisLabels"}),s=0,a=0;s<e.length;++s){var o=DxChart.measureText(e[s],i.bold,i.font,i.size);a=Math.max(a,o[0])}return a}("drawing.yaxis"===t.type?e.yaxisLabelsSpecific:e.yaxisLabels));o="right"===e.yaxisPosition?t.canvas.width-e.marginRight+5+O+10:e.marginLeft-5-O-10,l=(t.canvas.height-e.marginTop-e.marginBottom)/2+e.marginTop;if("drawing.yaxis"===t.type)o="right"===e.yaxisPosition?t.x+5+O+10:t.x-5-O-10;"number"==typeof e.yaxisTitlePos&&(o="right"===e.yaxisPosition?t.canvas.width-e.marginRight*e.yaxisTitlePos:e.marginLeft*e.yaxisTitlePos),"number"==typeof e.yaxisTitleOffsetX&&(o+=e.yaxisTitleOffsetX),"number"==typeof e.yaxisTitleOffsetY&&(l+=e.yaxisTitleOffsetY),"number"==typeof e.yaxisTitleX&&(o=e.yaxisTitleX),"number"==typeof e.yaxisTitleY&&(l=e.yaxisTitleY),DxChart.text({object:t,textInfoPrefix:"yaxisTitle",x:o,y:l,text:e.yaxisTitle.toString(),valign:e.yaxisTitleValign||"bottom",halign:e.yaxisTitleHalign||"center",marker:!1,accessible:"boolean"==typeof e.yaxisTitleAccessible?e.yaxisTitleAccessible:undefined,angle:"right"===e.yaxisPosition?90:-90,tag:"yaxis.title"})}},DxChart.getLabelsCSSClassName=function(){var t=DxChart.getArgs(arguments,"object,name,index"),e=t.object.properties,i="";return"string"==typeof e[t.name]?i=e[t.name]:"object"==typeof e[t.name]&&"string"==typeof e[t.name][t.index]&&(i=e[t.name][t.index]),i},DxChart.setCSS=function(t,e){for(var i in"string"==typeof t&&(t=document.getElementById(t)),e)"string"==typeof i&&(t.style[i]=e[i])},DxChart.labelSubstitution=function(args){var text=String(args.text);if(!text.match(/%{.*?}/))return text;var text=text.replace(/%%/g,"___--PERCENT--___");text=text.replace(/%{index}/g,args.index);for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2);text=args.object.properties[property]?text.replace(reg,args.object.properties[property][index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{value(?:_formatted)?}/i);){var value=args.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?DxChart.numberFormat({object:args.object,number:value.toFixed(args.decimals),thousand:args.thousand||",",point:args.point||".",unitspre:args.unitsPre||"",unitspost:args.unitsPost||""}):null):text.replace("%{value}",value)}for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)[index]?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");DxChart.Registry.set("label-templates-function-object",args.object);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text=text.replace(/\|CR\|/,"\r"),text=text.replace(/\|LF\|/,"\n"),text.toString()},DxChart.splitString=function(t){var e=new RegExp("([\"'a-z0-9]+) *= *","ig");return t=(t=(t=(t=(t=(t=t.replace(e,'"$1":')).replace(/""/g,'"')).replace(/''/g,'"')).replace(/:'/g,':"')).replace(/' *,/g,'",')).trim().replace(/,$/,""),JSON.parse("{"+t+"}")},DxChart.GET.raw=function(){return location.search},DxChart.GET.parse=function(){if(!DxChart.isNull(DxChart.GET.__parts__))return DxChart.GET.__parts__;for(var t=DxChart.GET.raw().replace(/^\?/,"").split(/\&/),e=0;e<t.length;++e){var i=t[e].split("=");t[i[0]]=decodeURI(i[1])}return DxChart.GET.__parts__=t,t},DxChart.GET.text=DxChart.GET.string=function(t){var e=DxChart.GET.parse();return e[t]?String(e[t]):null},DxChart.GET.number=function(t){var e=DxChart.GET.parse();return e[t]?Number(e[t]):null},DxChart.GET.json=DxChart.GET.object=function(t){var e=DxChart.GET.parse();return e[t]?JSON.parse(e[t]):null},DxChart.GET.list=DxChart.GET.array=function(t){var e=DxChart.GET.parse();if(!e[t])return null;if(arguments[1])i=arguments[1];else var i=",";var s=e[t].split(i);s[0]=s[0].replace(/^\[/,""),s[s.length-1]=s[s.length-1].replace(/\]$/,"");for(var a=0;a<s.length;++a)s[a]=s[a].replace(/^('|")/,""),s[a]=s[a].replace(/('|")$/,""),Number(s[a])&&(s[a]=Number(s[a]));return s},DxChart.clipTo={},DxChart.clipTo.start=function(){var t=DxChart.getArgs(arguments,"object,dimensions");if(DxChart.clipTo.object=t.object,DxChart.clipTo.__initTranslated__=t.object.canvas.__initTranslated__,"string"==typeof t.dimensions)if("tophalf"===t.dimensions)t.object.path("sa b r % % % % cl",0,0,t.object.canvas.width,t.object.canvas.height/2);else if("bottomhalf"===t.dimensions)t.object.path("sa b r % % % % cl",0,t.object.canvas.height/2,t.object.canvas.width,t.object.canvas.height/2);else if("lefthalf"===t.dimensions)t.object.path("sa b r % % % % cl",0,0,t.object.canvas.width/2,t.object.canvas.height);else if("righthalf"===t.dimensions)t.object.path("sa b r % % % % cl",t.object.canvas.width/2,0,t.object.canvas.width/2,t.object.canvas.height);else if("tophalf.margins"===t.dimensions)t.object.path("sa b r % % % % cl",0,0,t.object.canvas.width,(t.object.canvas.height-t.object.properties.marginTop-t.object.properties.marginBottom)/2+t.object.properties.marginTop);else if("bottomhalf.margins"===t.dimensions){t.object.canvas.height,t.object.properties.marginTop,t.object.properties.marginBottom;t.object.path("sa b r % % % % cl",0,(t.object.canvas.height-t.object.properties.marginTop-t.object.properties.marginBottom)/2+t.object.properties.marginTop,t.object.canvas.width,t.object.canvas.height)}else if("lefthalf.margins"===t.dimensions)t.object.path("sa b r % % % % cl",0,0,t.object.properties.marginLeft+(t.object.canvas.width-t.object.properties.marginLeft-t.object.properties.marginRight)/2,t.object.canvas.height);else if("righthalf.margins"===t.dimensions)t.object.path("sa b r % % % % cl",t.object.properties.marginLeft+(t.object.canvas.width-t.object.properties.marginLeft-t.object.properties.marginRight)/2,0,(t.object.canvas.width-t.object.properties.marginLeft-t.object.properties.marginRight)/2,t.object.canvas.height);else if(t.dimensions.match(/^((?:h|v)bar) +([-.0-9]+) ?- ?([-.0-9]+)$/i)){var e=RegExp.$1.toLowerCase(),i=parseFloat(RegExp.$2),s=parseFloat(RegExp.$3),a=t.object.properties.marginTop,o=t.object.properties.marginBottom,r=t.object.properties.marginLeft,n=t.object.properties.marginRight,h=t.object.canvas.width-r-n,l=t.object.canvas.height-a-o;"hbar"===e?t.object.path("sa b r % % % % cl",0,a+l*i,t.object.canvas.width,(s-i)*(t.object.canvas.height-a-o)):"vbar"===e&&t.object.path("sa b r % % % % cl",r+h*i,0,(s-i)*(t.object.canvas.width-r-n),t.object.canvas.height)}else t.object.path("sa"),t.object.path(t.dimensions),t.object.path("cl");else if(DxChart.isArray(t.dimensions)&&DxChart.isArray(t.dimensions[0])){for(var c=0,x=[];c<t.dimensions.length;++c)x.push("%1 %2 %3".format(0===c?"m":"l",t.dimensions[c][0],t.dimensions[c][1]));x="sa b "+x.join(" ")+" cl",t.object.path(x)}else DxChart.isArray(t.dimensions)&&t.object.path("sa b r % % % % cl",t.dimensions[0],t.dimensions[1],t.dimensions[2],t.dimensions[3])},DxChart.clipTo.end=function(){DxChart.clipTo.object.canvas.__initTranslated__=DxChart.clipTo.__initTranslated__,DxChart.path(DxChart.clipTo.object,"rs")},DxChart.parseConfigString=function(){var t=DxChart.getArgs(arguments,"string,separator");t.separator=",";var e=!1,i=[],s=[],a={};t.string.split("").forEach(function(a){'"'===a||"'"===a?e=!e:a!==t.separator||e?s.push(a):(i.push(s.join("")),s=[])}),i.push(s.join(""));for(let t=0;t<i.length;++t){var o=i[t].indexOf("="),r=i[t].substr(0,o),n=i[t].substr(o+1);DxChart.isNumeric(n)&&(n=Number(n)),a[r]=n}return a},DxChart.drawHorizontalLines=function(t){var e,i,s,a,o,r=t.properties.horizontalLines;if(r){var n={dotted:!1,dashed:!0,color:"#666666",lineWidth:1,label:"Average (%{value})",labelPosition:"top right",labelColor:"#666666",labelValueDecimals:2,labelOffsetX:0,labelOffsetY:0};for(let v=0;v<t.properties.horizontalLines.length;++v){var h=r[v],l=DxChart._parseFontInfo(h.labelFontStyle),c=l.face||t.properties.textFontStyleObj.face,x=h.labelColor||n.labelColor,d=l.size||t.properties.textFontStyleObj.size-4,u="boolean"==typeof l.bold?h.labelBold:t.properties.textFontStyleObj.bold,g="boolean"==typeof l.italic?h.labelItalic:t.properties.textFontStyleObj.italic;switch(t.type){case"line":"number"==typeof h.value?i=t.getYCoord(h.value):"average"===h.value&&(e=DxChart.arraySum(t.orgData[0])/t.orgData[0].length,i=t.getYCoord(e));break;case"bar":if("number"==typeof h.value)i=t.getYCoord(h.value);else if("average"===h.value){for(var p=0,f=0,m=t.data.length;f<m;f++)DxChart.isNumber(t.data[f])?p+=t.data[f]:DxChart.isArray(t.data[f])&&(p+=DxChart.arraySum(t.data[f]));var b=0;for(let e=0;e<t.data.length;++e)"grouped"===t.properties.grouping?b+=DxChart.isArray(t.data[e])?t.data[e].length:1:"stacked"===t.properties.grouping&&++b;e=p/b,i=t.getYCoord(e)}break;case"scatter":if("number"==typeof h.value)i=t.getYCoord(h.value);else if("average"===h.value){var C=0,y=t.data[0];if(y)for(f=0,m=y.length;f<m;f++)C+=parseFloat(y[f][1]);e=C/t.data[0].length,i=t.getYCoord(e)}}linedash="[1,1]",!0===h.dotted&&(linedash="[1,3]"),(!0===h.dashed||void 0===h.dashed&&void 0===h.dotted)&&(linedash="[6,6]"),t.path("lw % ld % b m % % l % % s %","number"==typeof h.lineWidth?h.lineWidth:n.lineWidth,linedash,t.properties.marginLeft,i,t.canvas.width-t.properties.marginRight,i,h.color||n.color),"bar"!=t.type&&"line"!=t.type&&"scatter"!=t.type||(h.labelPosition||(h.labelPosition=n.labelPosition),"string"==typeof h.labelPosition&&h.labelPosition.indexOf("left")>=0?(textX=t.marginLeft+10,s="left"):"string"==typeof h.labelPosition&&h.labelPosition.indexOf("center")>=0?(textX=(t.canvas.width-t.properties.marginLeft-t.properties.marginRight)/2+t.properties.marginLeft,s="center"):"string"==typeof h.labelPosition&&"right-margin"===h.labelPosition?(textX=t.canvas.width-t.properties.marginRight+10,s="left"):"string"==typeof h.labelPosition&&"left-margin"===h.labelPosition?(textX=t.properties.marginLeft-10,s="right"):(textX=t.canvas.width-t.marginRight-10,s="right"),"string"==typeof h.labelPosition&&h.labelPosition.indexOf("bottom")>=0?(textY=i+5,a="top"):"string"==typeof h.labelPosition&&"right-margin"===h.labelPosition?(textY=i,a="center"):"string"==typeof h.labelPosition&&"left-margin"===h.labelPosition?(textY=i,a="center"):(textY=i-5,a="bottom")),o="number"==typeof h.lineWidth?h.lineWidth:n.lineWidth;b=DxChart.numberFormat({object:t,number:("number"==typeof h.value?h.value:e).toFixed("number"==typeof h.labelValueDecimals?h.labelValueDecimals:n.labelValueDecimals),unitspre:h.labelValueUnitsPre,unitspost:h.labelValueUnitsPost,thousand:h.labelValueThousand,point:h.labelValuePoint,formatter:h.labelValueFormatter,decimals:h.labelValueDecimals});DxChart.text({object:t,text:("string"==typeof h.label?h.label:n.label).replace("%{value}",b),x:textX+parseFloat(h.labelOffsetX||n.labelOffsetX),y:textY-o/2+parseFloat((-1!==h.labelPosition.indexOf("top")?-1*h.labelOffsetY:h.labelOffsetY)||n.labelOffsetY),valign:a,halign:s,size:d,font:c,color:x,italic:g,bold:u,bounding:!0,boundingFill:"rgba(255,255,255,0.75)",boundingStroke:"transparent"})}}},DxChart.runOnce=function(t,e){if(!DxChart.Registry.get("oncefunc")[t])return DxChart.Registry.get("oncefunc")[t]=e,e()},DxChart._parseFontInfo=function(t){if(!t||""==t)return{face:null,size:null,italic:null,bold:null,underline:null,strikeout:null,antialias:null,type:null};var e={face:null,size:null,italic:null,bold:null,underline:null,strikeout:null,antialias:null,type:null},i=t,s=i.indexOf('"');if(s>=0){for(var a="",o=0;o<i.length;o++){var r=i.charAt(o);o>s&&" "==r&&(r="#"),a+=r}i=a}for(var n,h=i.split(/\s+/),l=[],c=0,x=!0,d=[],u=(o=0,h.length);o<u&&x;o++)switch(n=h[o]){case"bold":e.bold=!0,d.push(n);break;case"italic":e.italic=!0,d.push(n);break;case"underline":e.underline=!0,d.push(n);break;case"strikeout":e.strikeout=!0,d.push(n);break;case"antialias":e.antialias=!0,d.push(n);break;case"normal":e.normal=!0,d.push(n);break;default:var g=parseInt(n);if(g!=g)0==c?x=!1:(n=n.replace(/#/gi," "),l.push(n));else{var p;if((p=n.indexOf("/"))>=0){p++;var f=n.substring(p,n.length);f.search(/px|pt|cm|em|%/i)>=0&&(e.lineheight=parseInt(f))}c=g}}if(x)e.face=l.length>0?l.join(","):"Arial,Verdana,sans-serif",e.size=c>0?c:12;else if((h=t.split(",")).length>=2&&(e.face=h[0],d=[],e.size=0|parseInt(h[1]),h[2])){var m=h[2].split(/\s+/);for(o=0,u=m.length;o<u;o++)switch(n=m[o]){case"bold":e._bold=!0,d.push(n);break;case"italic":e._italic=!0,d.push(n);break;case"underline":e._underline=!0,d.push(n);break;case"strikeout":e._strikeout=!0,d.push(n);break;case"antialias":e._antialias=!0,d.push(n);break;case"normal":e._normal=!0,d.push(n)}}return e.type=d.join(","),e},DxChart._hexstr=function(t){t=nexacro.toNumber(t);var e=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),i=15&t;return""+e[t>>4&15]+e[i]},DxChart._hex2rgb=function(t,e){var i,s,a,o;if(t&&0!=t.length)return"object"==typeof t?(i=t[0],s=t[1],a=t[2],t[3]?"rgba("+i+", "+s+", "+a+", "+o+")":"rgb("+i+", "+s+", "+a+")"):t.indexOf("rgb")>=0?t:"#"==t.substr(0,1)?(i=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16),7==String(t).length&&"number"==typeof e?"rgba("+i+", "+s+", "+a+", "+e+")":String(t).length>7?"rgba("+i+", "+s+", "+a+", "+(o=(parseInt(t.slice(7,9),16)/255).toString())+")":"rgb("+i+", "+s+", "+a+")"):t},DxChart._rgba2hex=function(t){if(t.toLowerCase().indexOf("rgb")<0)return[t,1];var e=t.split("(")[1].split(")")[0].split(","),i=DxChart._hexstr(e[0]);return i+=DxChart._hexstr(e[1]),i+=DxChart._hexstr(e[2]),null!=e[3]&&e[3]!==undefined&&(i+=this._hexstr(255*e[3])),["#"+i,e[3]]},DxChart.appendAxis=function(t,e){if("y"==e.axisType){var i=new DxChartYAxis({id:t.id,elem:t.canvas,x:e.x,xPosPercent:e.xPosPercent,options:e.options});t.properties.yaxisAppenObject.push(i)}else"x"==e.type&&t.properties.xaxisAppenObject.push(e)},DxChart._parseShadowInfo=function(t){var e={value:t,offsetx:2,offsety:2,blur:3,color:"rgba(128,128,128,0.5)"};if(t&&"string"==typeof t){var i=t.trim();if(i){e.value=i;var s=i.split(" ");4==s.length&&(e.offsetx=parseInt(s[0].replace("px")),e.offsety=parseInt(s[1].replace("px")),e.offsetX=e.offsetx,e.offsetY=e.offsety,e.blur=parseInt(s[2].replace("px")),e.color=s[3])}}return e},DxChart.setDefaultProperties=function(t,e){var i={};switch(e){case"margin":i={Default:5,InnerGrouped:1,Left:35,LeftAuto:!0,Right:35,Top:35,Bottom:35,Inner:0,Center:0,CenterAuto:!0};break;case"shadow":i={Use:!1,Style:"2px 2px 3px rgba(128,128,128,0.5)",StyleObj:{},InnerUse:!1,InnerStyle:"3px 3px 6px black",InnerStyleObj:{},OuterUse:!1,OuterStyle:"3px 3px 6px black",OuterStyleObj:{}};break;case"animation":i={Factor:1,UnfoldX:!1,UnfoldY:!0,UnfoldInitial:2,TraceClip:1,TraceCenter:!1};break;case"crosshairs":i={Use:!1,Color:"#333333",Hline:!0,Vline:!0,LineWidth:1,Coords:!1,CoordsFixed:!0,CoordsLabelsX:"X",CoordsLabelsY:"Y",CoordsFormatterX:null,CoordsFormatterY:null};break;case"highlight":i={Value:!0,Radius:3,Style:null,StyleTwodFill:"rgba(255,255,255,0.7)",StyleTwodStroke:"rgba(255,255,255,0.7)",StyleTwodLineWidth:0,StyleOutlineWidth:null,StyleInvertStroke:"transparent",StyleInvertFill:"rgba(255,255,255,0.7)",Stroke:"gray",Fill:"white",PointRadius:2};break;case"line":i={Above:!1,Width:2.001,WidthSegments:0,Cap:"round",join:"round",Curve:!1,Close:!1,Colors:["black"],ShadowUse:!1,ShadowStyle:"3px 3px 2px black",ShadowStyleObj:{},Dotted:!1,Dashed:!1,Stepped:!1,Visible:[]};break;case"trendLine":i={Value:!1,Colors:["#666666"],LineWidth:1,Margin:25,Dashed:!1,Dotted:!1,DashArray:null,Clip:!0};break;case"bubble":i={Min:0,Max:null,Width:null,Data:null,LineWidth:1,ShadowUse:!1,ShadowStyle:"2px 2px 3px #aaaaaa",ShadowStyleObj:{}};break;case"background":i={BarsCount:null,BarsColor1:null,BarsColor2:null,VBarsColor1:null,VBarsColor2:null,Color:null,Circles:!0,CirclesCount:null,CirclesColor:"#dddddd",CirclesPoly:!0,CirclesSpokes:24,Grid:1,GridAlign:!0,GridAutofit:!0,GridAutofitAlign:!0,GridBorder:!0,GridColor:"#dddddd",GridCircles:!0,GridCirclesCount:5,GridDashed:!1,GridDotted:!1,GridLineWidth:1,GridHlines:!0,GridHlinesCount:5,GridHsize:25,GridVsize:25,GridSize:null,GridRadials:!0,GridRadialsCount:null,GridRadialsOffset:0,GridVlines:!0,GridVlinesCount:null,GridThreedYaxis:!0,Hbars:null,Image:null,ImageAlpha:1,ImageAlign:null,ImageStretch:!0,ImageX:null,ImageY:null,ImageW:null,ImageH:null,Rings:!0,RingsColors:null,RingsAlpha:.5,Vbars:[],Hbars:[]};break;case"xaxis":i={Use:!0,LineWidth:1,Color:"black",Labels:null,LabelsAngle:0,LabelsFontStyle:null,LabelsFontStyleObj:{},LabelsColor:null,LabelsFormattedDecimals:0,LabelsFormattedPoint:".",LabelsFormattedThousand:",",LabelsFormattedUnitsPre:"",LabelsFormattedUnitsPost:"",LabelsOffsetX:0,LabelsOffsetY:0,LabelsHalign:null,LabelsValign:null,LabelsPosition:"edge",LabelsSpecificAlign:"left",Scale:null,ScaleUnitsPre:"",ScaleUnitsPost:"",ScaleMin:0,ScaleMax:0,ScalePoint:".",ScaleThousand:",",ScaleDecimals:null,ScaleZerostart:null,AddLineSize:0,Position:"bottom",Tickmarks:!0,TickmarksLength:3,TickmarksLastLeft:null,TickmarksLastRight:null,TickmarksCount:null,TickmarksInterval:null,TickmarksLineWidth:1,TickmarksColor:null,Title:"",TitleFontStyle:null,TitleFontStyleObj:{},TitleColor:null,TitlePos:null,TitleOffsetX:0,TitleOffsetY:0,TitleX:null,TitleY:null,TitleHalign:"center",TitleValign:"top",AppenObject:[]};break;case"yaxis":i={AddLineSize:0,Use:!0,LineWidth:1,Color:"black",CenterContinue:!1,Tickmarks:!0,TickmarksLineWidth:1,TickmarksCount:null,TickmarksLastTop:null,TickmarksLastBottom:null,TickmarksLength:3,TickmarksColor:"black",Scale:!0,ScaleMin:0,ScaleMax:null,ScaleUnitsPre:"",ScaleUnitsPost:"",ScaleDecimals:0,ScalePoint:".",ScaleThousand:",",ScaleRound:!1,ScaleFormatter:null,ScaleInvert:!1,Labels:null,LabelsSpecific:null,LabelsCount:5,LabelsOffsetX:0,LabelsOffsetY:0,LabelsHalign:null,LabelsValign:null,LabelsFontStyle:null,LabelsFontStyleObj:{},LabelsColor:null,LabelsPosition:"edge",LabelsFormattedDecimals:0,LabelsFormattedPoint:".",LabelsFormattedThousand:",",LabelsFormattedUnitsPre:"",LabelsFormattedUnitsPost:"",Position:"left",Title:"",TitleFontStyle:null,TitleFontStyleObj:{},TitleColor:null,TitlePos:null,TitleX:null,TitleY:null,TitleOffsetX:0,TitleOffsetY:0,TitleHalign:null,TitleValign:null,TitleAccessible:null,AppenObject:[]};break;case"labels":i={Above:!1,AboveBorder:!1,AboveBorderStyle:null,AboveBorderStyleObj:{},AboveDecimals:0,AboveFontStyle:null,AboveFontStyleObj:{},AboveColor:null,AbovePoint:".",AboveThousand:",",AboveBackground:"rgba(0,0,0,0)",AboveAngle:null,AboveOffset:null,AboveOffsetX:0,AboveOffsetY:0,AboveSpecific:null,AboveUnitsPre:"",AboveUnitsPost:"",AboveFormatter:null,AboveLastFontStyle:null,AboveLastFontStyleObj:{},AboveLastColor:null,Angled:!1,AngledSpecific:null,AngledAccessible:null,AngledFontStyle:null,AngledFontStyleObj:{},AngledColor:null,AngledUpFontStyle:null,AngledUpFontStyleObj:{},AngledUpColor:null,AngledDownFontStyle:null,AngledDownFontStyleObj:{},AngledDownColor:null,AngledLevelFontStyle:null,AngledLevelFontStyleObj:{},AngledLevelColor:null,Axes:"",AxesFontStyle:null,AxesFontStyleObj:null,AxesColor:null,AxesBoxed:null,AxesBoxedZero:!0,AxesBoxedBackground:"rgba(255,255,255,0.7)",AxesSpecific:null,AxesCount:5,AxesOffsetX:0,AxesOffsetY:0,BackgroundFill:"white",Boxed:!1,Center:null,CenterFontStyle:null,CenterFontStyleObj:{},CenterColor:null,CenterIndex:0,CenterSize:50,CenterOffsetX:0,CenterOffsetY:0,CenterUnitsPre:"",CenterUnitsPost:"",CenterDecimals:0,CenterPoint:".",CenterThousand:",",CenterSpecific:null,CenterSpecificFormattedDecimals:0,CenterSpecificFormattedPoint:".",CenterSpecificFormattedThousand:",",CenterSpecificFormattedUnitsPre:"",CenterSpecificFormattedUnitsPost:"",CenterBackground:!0,CenterBackgroundFill:"rgba(255,255,255,0.75)",CenterBackgroundStroke:"rgba(0,0,0,0)",Color:null,Complete:!0,CompleteFontStyle:null,CompleteFontStyleObj:null,CompleteColor:null,CompleteOffsetX:0,CompleteOffsetY:0,Count:null,Data:[],FontStyle:"13px "+DxChart.selectFontStyle,FontColor:null,FontStyleObj:{},FormattedDecimals:0,FormattedPoint:".",FormattedThousand:",",FormattedUnitsPre:"",FormattedUnitsPost:"",Full:"F",FullOffsetX:0,FullOffsetY:0,FullOffsetRadius:0,Empty:"E",EmptyOffsetX:0,EmptyOffsetY:0,EmptyOffsetRadius:0,Inbar:!1,InbarAlign:"left",InbarAbove:!1,InbarHalign:"center",InbarValign:"center",InbarFontStyle:null,InbarFontStyleObj:null,InbarColor:null,InbarBackground:null,InbarBackgroundPadding:0,InbarUnitsPre:null,InbarUnitsPost:null,InbarPoint:null,InbarThousand:null,InbarFormatter:null,InbarDecimals:null,InbarOffsetX:0,InbarOffsetY:0,InbarSpecific:null,InbarFormatter:null,Ingraph:null,IngraphBounding:!0,IngraphBoundingFill:"rgba(255,255,255,0.85)",IngraphBoundingStroke:"rgba(0,0,0,0)",IngraphDecimals:0,IngraphFontStyle:null,IngraphFontStyleObj:{},IngraphColor:null,IngraphOffsetX:0,IngraphOffsetY:0,IngraphSpecific:null,IngraphUnitsPre:"",IngraphUnitsPost:"",IngraphPoint:".",IngraphThousand:",",IngraphRadius:null,IngraphRadiusOffset:0,IngraphUndrawn:null,IngraphUndrawnAsLabels:null,Inner:!1,InnerFont:null,InnerSize:null,InnerColor:null,InnerBold:null,InnerItalic:null,InnerOffsetX:0,InnerOffsetY:0,InnerDecimals:0,InnerBackgroundFill:"rgba(255,255,255,0.7)",InnerBorder:!0,InnerBorderLineWidth:1,InnerBorderColor:"#ccc",InnerScalePoint:null,InnerScaleThousand:null,InnerUnitsPre:"",InnerUnitsPost:"",InnerSpecific:null,OffsetX:0,OffsetY:0,OffsetRadius:0,Position:null,RadiusOffset:0,Sticks:!1,SticksLength:7,SticksColors:null,SticksLineWidth:1,SticksHlength:5,Specific:null,SpecificFormattedDecimals:0,SpecificFormattedPoint:".",SpecificFormattedThousand:",",SpecificFormattedUnitsPre:"",SpecificFormattedUnitsPost:"",List:!0,ListLeftOffsetX:0,ListLeftOffsetY:0,ListRightOffsetX:0,ListRightOffsetY:0,Margin:35,Value:!1,ValueFontStyle:null,ValueFontStyleObj:{},ValueColor:null,ValueDecimals:0,ValuePoint:".",ValueThousand:",",ValueUnitsPre:"",ValueUnitsPost:"",ValueBackground:!0,ValueBackgroundFill:"rgba(255,255,255,0.75)",ValueBackgroundStroke:"rgba(0,0,0,0)",ValueSpecific:null,ValueAccessible:!0,ValueOffsetX:0,ValueOffsetY:0};break;case"tickmarks":i={LineWidth:null,Color:null,Inner:!1,InnerColor:"#999999",InnerCount:0,Outer:!0,OuterColor:"#999999",OuterCount:0,Highlighted:!0,LargeColor:"#999999",Type:"cross",Size:3,Style:"none",StyleDotStroke:"white",StyleDotFill:null,StyleDotLineWidth:3,StyleImage:null,StyleImageHalign:"center",StyleImageValign:"center",StyleImageOffsetX:0,StyleInnerColor:null,StyleImageOffsetY:0};break;case"key":i={Data:null,Background:"white",Position:"graph",Halign:null,Shadow:!1,ShadowStyle:"2px 2px 3px #666666",ShadowStyleObj:{},PositionMarginBoxed:!1,PositionMarginHSpace:0,PositionGutterBoxed:!1,PositionX:null,PositionY:null,ColorShape:"square",Rounded:!0,LineWidth:1,Colors:null,Interactive:!1,InteractiveArray:null,InteractiveHighlightChartStroke:"rgba(255,0,0,0.3)",InteractiveHighlightChartFill:"rgba(255,255,255,0.7)",InteractiveHighlightLabel:"rgba(255,0,0,0.2)",LabelsFontStyle:"12px Tahoma",LabelsFontStyleObj:{},LabelsColor:null,LabelsOffsetX:0,LabelsOffsetY:0};break;case"title":i={Text:"",FontStyle:"bold 20px "+DxChart.selectFontStyle,FontStyleObj:{},Color:null,X:null,Y:null,Halign:null,Valign:null,OffsetX:0,OffsetY:0,Side:null,SideFontStyle:null,SideFontStyleObj:{},SideColor:null,SideOffsetX:0,SideOffsetY:0,Subtitle:"",SubtitleFontStyle:null,SubtitleFontStyleObj:{},SubtitleColor:"#aaa",SubtitleOffsetX:0,SubtitleOffsetY:0,Top:"",TopFontStyle:null,TopFontStyleObj:null,TopColor:"black",TopPos:null,TopOffsetX:0,TopOffsetY:0,TopSubtitle:null,TopSubtitleFontStyle:null,TopSubtitleFontStyleObj:null,TopSubtitleColor:"#666666",TopSubtitlePos:null,TopSubtitleOffsetX:0,TopSubtitleOffsetY:0,Bottom:"",BottomFontStyle:null,BottomFontStyleObj:null,BottomColor:null,BottomPos:null,BottomOffsetX:0,BottomOffsetY:0,Left:"",LeftFontStyle:null,LeftFontStyleObj:null,LeftColor:null,LeftOffsetX:0,LeftOffsetY:0,Right:"",RightFontStyle:null,RightFontStyleObj:null,RightColor:null,RightOffsetX:0,RightOffsetY:0};break;case"tooltips":i={CoordsPage:!1,CssClass:"DxChart_tooltip",Css:null,Data:null,Dataset:null,DatasetEvent:"click",Effect:"slide",Event:"onmousemove",FormattedThousand:",",FormattedPoint:".",FormattedDecimals:0,FormattedUnitsPre:"",FormattedUnitsPost:"",FormattedKeyColors:null,FormattedKeyColorsShape:"square",FormattedKeyLabels:[],FormattedListType:"ul",FormattedListItems:null,FormattedTableHeaders:null,FormattedTableData:null,HotspotXonly:!1,HotspotSize:5,Highlight:!0,Pointer:!0,PointerCss:null,PositionStatic:!0,SameSeriesBackground:!1};break;case"filled":i={Accumulative:!0,Colors:null,Range:!1,RangeThreshold:null,RangeThresholdColors:DxChart.selectColorSet,Use:!1,Click:null,Mousemove:null,Tooltips:null,HighlightFill:"rgba(255,255,255,0.7)",HighlightStroke:"rgba(0,0,0,0)",MousemoveRedraw:!1};break;case"text":i={Value:null,FontStyle:"11px "+DxChart.selectFontStyle,FontStyleObj:{},Color:"black",Valign:"center",Accessible:!1,AccessibleOverflow:"visible",AccessiblePointerevents:!1};break;case"clip":i={Value:null,beforeValue:null,beforeProperties:null};break;case"scale":i={Visible:!1,Decimals:0,Formatter:null,UnitsPre:"",UnitsPost:"",Point:".",Round:!1,Thousand:",",LabelsCount:5,Min:0,Max:null,LabelsFontStyle:null,LabelsFontStyleObj:{},LabelsColor:null,LabelsOffsetR:0,LabelsOffsetX:0,LabelsOffsetY:0,Zerostart:!1};break;case"changeable":i={Value:!1,Only:null,Xonly:!1};break;case"segment":i={Highlight:!1,HighlightCount:null,HighlightFill:"rgba(0,255,0,0.5)",HighlightStroke:"rgba(0,0,0,0)"};break;case"annotation":i={Value:!1,Color:"black",LineWidth:1};break;case"backdrop":i={Value:!1,Size:30,Alpha:.2};break;case"combined":i={Effect:null,EffectOptions:null,EffectCallback:null};break;case"ends":i={Radius:null,Color:null};break;case"errorbars":i={Value:!1,Color:"black",Capped:!0,CappedWidth:12,LineWidth:1};break;case"null":i={Bridge:!1,BridgeLineWidth:null,BridgeColors:null,BridgeDashArray:[5,5]};break;case"border":i={Use:!1,Color:"rgba(255,255,255,0.5)",ColorArray:["#BEBCB0","#F0EFEA","#BEBCB0"],Outer:!1,Inner:!0,Width:10};break;case"needle":i={Color:"red",Size:35,StrokeColor:"red",RadiusOffset:45};break;case"angles":i={Start:null,End:null};break;case"variant":i={Value:null,SketchVerticals:!0,DonutWidth:null,ThreedXaxis:!0,ThreedYaxis:!0,ThreedAngle:.1,ThreedDepth:20,ThreedOffsetX:10,ThreedOffsetY:5,ThreedXaxisColor:"#dddddd",ThreedYaxisColor:"#dddddd"};break;case"default":"line"==t.type?i={clearto:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,contextmenu:null,outofbounds:!1,outofboundsClip:!1,redraw:!0}:"yaxis"==t.type?i={clearto:"rgba(0,0,0,0)",colors:["black"]}:"bar"==t.type||"hbar"==t.type?i={colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,colorsSequential:!1,colorsReverse:!1,grouping:"grouped",unitsIngraph:!1,contextmenu:null,redraw:!0,beveled:!1,corners:"square",cornersRoundRadius:10,clearto:"rgba(0,0,0,0)"}:"heatmap"==t.type?i={colorsStroke:null,xaxisLabelsCount:null,yaxisLabelsCount:null,colors:[[0,25,"#F7B42C"],[26,50,"#f99c3a"],[51,75,"#fb7250"],[51,75,"##FC575E"]],colorsSequential:!1,colorsReverse:!1,cornersRoundRadius:5,unitsIngraph:!1,contextmenu:null,redraw:!0,variantValue:"bar",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",marginInner:5,lineWidth:1,xaxisLabelsPosition:"section",yaxisLabelsPosition:"section",marginLeft:50,marginTop:50,marginRight:50,marginBottom:50,guideFontStyle:"9px Tahoma",guidePosition:"right",guidePositionX:null,guidePositionY:null,guideWidth:20,guideHeight:100,guideLineWidth:2,guideStrokeColor:"#000000",guideNeedleColor:"#ffffff",guideNeedleStrokeColor:"#dddddd",guideNeedleLineWidth:1,guideNeedleWidth:8,guideNeedleValue:null,guideNeedleCurrentValue:null,guideNeedleCurrentRangeValue:0,guideUse:!0,changeableValue:!0,clearto:"rgba(0,0,0,0)"}:"pie"==t.type?i={centerxAdjust:0,centeryAdjust:0,colors:DxChart.selectColorSet,colorsStroke:"white",contextmenu:null,centerx:null,centery:null,radius:null,exploded:[],highlightStyle:"2d",effectRoundrobinMultiplier:1,backgroundGrid:!1,shadowUse:!0,shadowStyle:"0px 0px 15px #aaaaaa",centerpin:null,centerpinFill:"gray",centerpinStroke:"white",origin:0-Math.PI/2,clearto:"rgba(0,0,0,0)",events:!0}:"waterfall"==t.type?i={colorsStroke:"#666",colors:DxChart.selectColorSet,colorsSequential:!1,colorsConnectors:"#666",marginInner:5,xaxisLabelsPosition:"section",xaxisTickmarks:!0,xaxisTickmarksLength:3,labelsAboveTotalFontStlye:null,labelsAboveTotalFontStlyeObj:{},labelsAboveTotalColor:null,labelsAboveTotalDecimals:null,labelsAboveTotalUnitsPre:null,labelsAboveTotalUnitsPost:null,labelsAboveTotalPoint:null,labelsAboveTotalThousand:null,labelsAboveTotalFormatter:null,labelsAboveTotalOffsetX:0,labelsAboveTotalOffsetY:0,contextmenu:null,resizable:!1,resizableHandleBackground:null,totalUse:!0,totalText:"Total",multiplierX:1,multiplierW:1,barOffsetX:0,barOffsetY:0,clearto:"rgba(0,0,0,0)"}:"fuel"==t.type?i={centerx:null,centery:null,radius:null,colors:DxChart.selectColorSet,contextmenu:null,resizable:!1,resizableHandleBackground:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAAAXNSR0IArs4c6QAABPpJREFUWEe1lmlIY1cUx080ZjOJL5qq1VrHJRhEHbDtYKtjw2ggxRWsUEHb1FqoChH0gxU/9EPFEiiCuEOtS1VqOlQs1ggWxI2IRcUVtKDWGEdrYogmMfsr99Vk1KJ16vN8yju59/+75757z/tT4Gp4SaXSvKioqDeu5W98dLlcoFKpfh8bG5u56xw0juIeHBISwtdoNH8pFArKxsbGq2hAZmYmCASCYwzDAkdGRgbT0tIyGhoa5LW1tV/fJOQB63S6F2KxOHhxcfGVoO7Bra2tkJ6evigQCBL7+vpgenoaWlpabMnJyU/m5+eXr4t6wE6nE/f29gYmFeC3T+7OdrgA3u8CYLPZcHZ2RkxkMplgsVgA6c3OzsLx8fFgVlbWR5dVPWCHw4FTqVR4nQ0g++Xp3ckAUPNsGmg0Gmi12pPV1dWlvb29tIKCAo9GYWEhNDU1HfF4vBAAcF15x9fB35Vo4NPi4hsX4HQ6YfnHr+CdlqdXwFwuNyA/P19SVVWlTEpK8swXCASwtrZmptPpXABw3lgxPvcB1NTU3Fr5owAf+OL5u/8Co0llZWXS8PDwrurqao9GdHQ0zM3NveDz+SEPBka0jY2NhdTU1EStVuuBV1RUAIfDqXxQMADQt7e3LZGRkQRYIpHAyMgIbG9vrz00GEZHR38qKSn58ODgAIqLi6GzsxNdu/ceHIxhGNbb26vPzs4GOp0OCwsLC3FxcW+TCjYajVYajca4fiItFouTwWB4obzVarXS6XQGaWAkKhKJoLa2dlgsFudehp+dnZ1yOBwOylksFhwtglQwEj46OoKgoCBvd6O4gJ0zGAxiJ2w2m5NGo1FvBLflzQErMOLGe4zjOHz+6A+wf/lPA3FHaWkp7O7uipRK5aQ7d35+7mIymQTLaDSestlsP9JaphsSGBgIjY2N3xcUFHx2kaPs7Oy4IiIiwMvLC93tFaFQ+Jh0MBLf3NxcFwgEcRdgn5mZGVtKSgr4+vqCQqH4OSMjI490MILp9Xotj8d7zQ2empqypaamEl+wwcFBcsEUCgXQe0dhNpuNLBaLOMUo1Go1HhYWBmiMwWDQc7lcf9IqRluMbNAF2MRisdhusMFg0GIYFoAWhkxCc3PzW6SBr1V8BZyTk5MeHx8/XldXR3y3t7a2NkkDIxPhcDiIIm02m52GCJfiomMROavVipMGRhybzUagDAYD+Pm9vKoot7+//2dYWNibaLt1Ot1Ll0mG9UFVm81mGB4ehvLy8oD9/f0Td9Gnp6cnXC6Xh56RNyO14vz8fOjv74eYmBiQy+X9ubm5hRdg6uHhoT04OJh4NJlMp6SC1Wo16tOE+M7ODkil0ieTk5PLarV6XSKRRK+vr4NQKASZTPYtqWCr1QqJiYmwtLRE3FmlUgmoVaKdWFlZIRak0WggNDTUxw2mOBwO133trU6n01OpVAafz2eaTKbLh5r43d3djczex+3t7T9QRCJR0sTEhAqdRAzDIJgNUPE/fbVer0dm3m632y0ymYzT1dUFyAYnJCQQXquurq6ora2tDy2C4nQ67f7+/lQEJiOKioqQt/q1vr7+m8rKykomk8kaGhp63tjY2HX5G03BcRxH74OsQD15fHx8VSgUJtymSenp6WmJjY0tk8vl92Yjk9HR0YFcZIJKpVq9FYz+TElJeSwWi5+hRn+fMJlM9oGBgf69vT39f+n8Df2x0IJaadpCAAAAAElFTkSuQmCC",iconRedraw:!0,clearto:"rgba(0,0,0,0)"}:"activity"==t.type?i={radius:null,centerx:null,centery:null,width:null,ends:"round",colors:DxChart.selectColorSet,icons:[],iconsWidth:null,iconsHeight:null,iconsOffsetX:0,iconsOffsetY:0,contextmenu:null,clearto:"rgba(0,0,0,0)"}:"thermometer"==t.type?i={colorsStroke:"black",colors:DxChart.selectColorSet,resizable:!1,resizableHandleBackground:null,labelsValue:!0,labelsCount:5,annotatable:!1,annotatableColor:"black",annotatableLinewidth:1,tooltipsEffect:"slide",backgroundColor:"white",tickmarksSize:2,tickmarksCount:10,shadowUse:!0,shadowStyle:"0px 0px 15px #dddddd",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",labelsCount:10,labelsPosition:"right",contextmenu:null,clearto:"rgba(0,0,0,0)",bulbBottomRadiusAdjust:0,bulbBottomRadius:null}:"vprogress"==t.type?i={colors:DxChart.selectColorSet,colorsStrokeInner:"#999",colorsStrokeOuter:"#999",contextmenu:null,backgroundColor:"linear-gradient(to right,#cccccc:#eeeeee:#efefef)",arrows:!1,beveled:!1,labelsCount:10,labelsPosition:"right",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",tickmarksOuter:!0,tickmarksInner:!1,clearto:"rgba(0,0,0,0)"}:"drawing.text"==t.type?i={angle:0,colors:["black"],bounding:!1,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"#777",boundingShadow:!1,boundingShadowColor:"#ccc",boundingShadowBlur:3,boundingShadowOffsetX:3,boundingShadowOffsetY:3,marker:!1,halign:"left",valign:"bottom",link:null,linkTarget:"_self",linkOptions:"",clearto:"rgba(0,0,0,0)"}:"semicircle"==t.type?i={colors:DxChart.selectColorSet,colorsStroke:"#666666",radius:null,centerx:null,centery:null,width:null,anglesStart:Math.PI,anglesEnd:2*Math.PI,backgroundColor:"transparent",backgroundGrid:!1,backgroundGridMargin:20,backgroundGridColor:"#dddddd",backgroundGridLinewidth:1,backgroundGridCircles:!0,backgroundGridRadials:!0,backgroundGridRadialsCount:10,labelsCenter:!0,labelsCenterIndex:0,labelsCenterFade:!1,labelsCenterFontStyle:"30px Tahoma",labelsCenterFontStyleObj:{},labelsCenterColor:null,labelsCenterValign:"bottom",labelsCenterOffsetX:0,labelsCenterOffsetY:0,labelsCenterThousand:",",labelsCenterPoint:".",labelsCenterDecimals:0,labelsCenterUnitsPost:"",labelsCenterUnitsPre:"",labelsCenterSpecific:null,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",labelsMin:!0,labelsMinColor:null,labelsMinFontStyle:null,labelsMinFontStyleObj:{},labelsMinOffsetAngle:0,labelsMinOffsetX:0,labelsMinOffsetY:5,labelsMinThousand:",",labelsMinPoint:".",labelsMinDecimals:0,labelsMinUnitsPost:"",labelsMinUnitsPre:"",labelsMinSpecific:null,labelsMax:!0,labelsMaxColor:null,labelsMaxFontStyle:null,labelsMaxFontStyleObj:{},labelsMaxOffsetAngle:0,labelsMaxOffsetX:0,labelsMaxOffsetY:5,labelsMaxThousand:",",labelsMaxPoint:".",labelsMaxDecimals:0,labelsMaxUnitsPost:"",labelsMaxUnitsPre:"",labelsMaxSpecific:null,annotatable:!1,annotatebleColor:"black",annotatebleLinewidth:1,shadowUse:!1,shadowStyle:"2px 2px 2px rgba(220,220,220,1)",contextmenu:null,clearto:"rgba(0,0,0,0)"}:"scatter"==t.type?i={colors:[],colorsBubbleGraduated:!0,colorsBubbleStroke:null,contextmenu:null,colorsDefault:"black",boxplotWidth:10,boxplotCapped:!0,clearto:"rgba(0,0,0,0)",outofbounds:!1,animationTrace:!1,animationTraceClip:1,backgroundGrid:!0,backgroundGridLinewidth:1,backgroundGridColor:"#dddddd",backgroundGridHsize:20,backgroundGridVsize:20,backgroundGridVlines:!0,backgroundGridHlines:!0,backgroundGridBorder:!0,backgroundGridAutofit:!0,backgroundGridAutofitAlign:!0,backgroundGridHlinesCount:5,backgroundGridVlinesCount:20,xaxisLinewidth:1,xaxisColor:"black",xaxisTickmarks:!0,xaxisTickmarksLength:3,xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsHalign:null,xaxisLabelsValign:null,xaxisLabelsPosition:"section",xaxisLabelsSpecificAlign:"left",xaxisPosition:"bottom",xaxisLabelsAngle:0,xaxisScale:!1,xaxisScaleMin:0,xaxisScaleMax:null,xaxisScaleUnitsPre:"",xaxisScaleUnitsPost:"",xaxisScaleLabelsCount:10,xaxisScaleFormatter:null,xaxisScaleDecimals:0,xaxisScaleThousand:",",xaxisScalePoint:".",horizontalLines:null}:"segment"==t.type?i={radius:null,centerx:null,centery:null,width:null,colors:DxChart.selectColorSet,radialsCount:36,contextmenu:null,effectRoundrobinMultiplier:1,backgroundColor:"white",backgroundGrid:!1,clearto:"rgba(0,0,0,0)"}:"rose"==t.type?i={axesUse:!1,axesColor:"black",axesLineWidth:1,axesTickmarks:!0,centerx:null,centery:null,radius:null,anglesStart:0,colors:DxChart.selectColorSet,colorsSequential:!1,colorsAlpha:.5,colorsStroke:"rgba(0,0,0,0)",contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,exploded:0,animationRoundrobinFactor:1,animationRoundrobinRadius:!0,animationGrowMultiplier:1,segmentHighlight:!1,segmentHighlightCount:null,segmentHighlightFill:"rgba(0,255,0,0.5)",segmentHighlightStroke:"rgba(0,0,0,0)",clearto:"rgba(0,0,0,0)"}:"bipolar"==t.type?i={colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,colorsSequential:!1,colorsLeft:null,colorsRight:null,contextmenu:null,axesUse:!0,axesColor:"black",axesLineWidth:1,resizable:!1,resizableHandleBackground:null,grouping:"grouped",clearto:"rgba(0,0,0,0)",leftVisible:!0,rightVisible:!0}:"rose"==t.type?i={axes:!1,axesColor:"black",axesLineWidth:1,axesTickmarks:!0,centerx:null,centery:null,radius:null,anglesStart:0,colors:DxChart.selectColorSet,colorsSequential:!1,colorsAlpha:null,colorsStroke:"rgba(0,0,0,0)",contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,exploded:0,animationRoundrobinFactor:1,animationRoundrobinRadius:!0,animationGrowMultiplier:1,margin:10,clearto:"rgba(0,0,0,0)"}:"radar"==t.type?i={colorsStroke:"#aaa",colors:DxChart.selectColorSet,colorsAlpha:.5,circle:0,circleFill:"red",circleStroke:"black",contextmenu:null,resizable:!1,resizeHandleAdjust:[0,0],resizeHandleBackground:null,accumulative:!1,radius:null,centerx:null,centery:null,radius:null,axesColor:"rgba(0,0,0,0)",animationTraceClip:1,clearto:"rgba(0,0,0,0)",margin:10}:"funnel"==t.type?i={colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,contextmenu:null,resizable:!1,resizableHandleBackground:null,clearto:"rgba(0,0,0,0)"}:"pyramid"==t.type?i={ratio:50,ascending:!0,colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,lineColors:["black"],contextmenu:null,resizable:!1,resizableHandleBackground:null,clearto:"rgba(0,0,0,0)"}:"drawing.yaxis"==t.type||"drawing.xaxis"==t.type?i={colors:["black"],clearto:"rgba(0,0,0,0)"}:"gantt"==t.type?i={colorsDefault:"white",coords:[],marginLeft:75,marginInner:2,xaxisUse:!1,yaxisUse:!1,xaxisDateFormat:"yyyy-MM-dd",xaxisDateLeftGap:0,xaxisDateRightGap:0,xaxisLabelsCount:5,contextmenu:null,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",clearto:"rgba(0,0,0,0)"}:"horseshoe"==t.type?i={radius:null,centerx:null,centery:null,width:10,colors:["black","#eee"],contextmenu:null,clearto:"rgba(0,0,0,0)"}:"hprogress"==t.type?i={colors:DxChart.selectColorSet,colorsStrokeInner:"#999999",colorsStrokeOuter:"#999999",colorsStrokeInnerLineWidth:1,colorsStrokeOuterLineWidth:1,contextmenu:null,arrows:!1,beveled:!1,clearto:"rgba(0,0,0,0)"}:"rscatter"==t.type?i={centerx:null,centery:null,radius:null,colors:[],colorsDefault:"black",contextmenu:null,resizable:!1,resizableHandleBackground:null,axesColor:"transparent",backgroundColor:"transparent",backgroundGrid:!0,backgroundGridRadials:!0,backgroundGridRadialsCount:null,backgroundGridCircles:!0,backgroundGridCirclesCount:null,backgroundGridLinewidth:1,backgroundGridColor:"#ccc",labelsAxes:"n",labelsAxesBackground:"rgba(255,255,255,0.7)",keyBackground:"white",keyPosition:"graph",keyHalign:"right",scaleZerostart:!0,keyInteractiveHighlightChartFill:"rgba(255,0,0,0.9)",keyInteractiveHighlightLabel:"rgba(255,0,0,0.2)",segmentHighlightFill:"rgba(0,255,0,0.5)",segmentHighlightStroke:"rgba(0,0,0,0)",tickmarksStyle:null,lineColors:["black"],lineVisible:!1,clearto:"rgba(0,0,0,0)"}:"odo"==t.type?i={centerx:null,centery:null,backgroundBorderColor:"black",backgroundColor:"#eeeeee",backgroundLinesColor:"#dddddd",radius:null,needleColor:"black",needleWidth:2,needleHead:!0,needleTail:!0,needleType:"pointer",needleExtra:[],needleTriangleBorder:"#aaaaaa",colorsGreenMax:null,colorsGreenColor:"radial-gradient(#c1f7c1:#82f582:#2ad42a:#00cc00)",colorsYellowColor:"radial-gradient(#e6e693:#d9d95f:#d4d42c:#dde00b)",colorsRedColor:"radial-gradient(#eda1a1:#e36f6f:#d63131:#ff0000)",colorsRedMin:null,borderUse:!0,borderColor:"radial-gradient(#bebcb0:#d4d2c7:#ebe9df:#f7f6f0:#f7f6f0:#ebe9df:#d4d2c7#bebcb0)",tickmarks:!1,tickmarksHighlighted:!0,tickmarksLargeColor:"#999999",keyPosition:"graph",contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,clearto:"rgba(0,0,0,0)"}:"meter"==t.type&&(i={colorsStroke:null,colorsGreenStart:null,colorsGreenEnd:null,colorsGreenColor:"#207A20",colorsYellowStart:null,colorsYellowEnd:null,colorsYellowColor:"#D0AC41",colorsRedStart:null,colorsRedEnd:null,colorsRedColor:"#9E1E1E",colorsRanges:null,contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,tickmarksSmallCount:100,tickmarksSmallColor:"#bbbbbb",tickmarksLargeCount:10,tickmarksLargeColor:"black",radius:null,centerx:null,centery:null,segmentsRadiusStart:0,needleRadius:null,needleType:"normal",needleTail:!1,needleHead:!0,needleHeadLength:30,needleHeadWidth:.088,needleColor:"black",needleImageUrl:null,needleImageOffsetX:0,needleImageOffsetY:0,anglesStart:DxChart.PI,anglesEnd:DxChart.TWOPI,centerpinStroke:"black",centerpinFill:"white",clearto:"rgba(0,0,0,0)"}),i.nodataShow=!0;break;case"propFunc":return t.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof arguments[0]){for(var i in arguments[0])"string"==typeof i&&this.set(i.replace(".",""),arguments[0][i]);return this}return this.properties[t.replace(".","")]=e,this},void(t.get=function(t){return this.properties[t.replace(".","")]})}if("propFunc"!=e){for(var s in"default"==e&&(e=""),i)s&&"string"==typeof s&&s.indexOf("StyleObj")>=0||(t.properties[e+s]=i[s],s.indexOf("FontStyle")>=0?t.properties[e+s+"Obj"]=DxChart._parseFontInfo(i[s]):s.indexOf("ShadowStyle")>=0&&(t.properties[e+s+"Obj"]=DxChart._parseShadowInfo(i[s])));"shadow"==e?(t.properties.shadowStyleObj=DxChart._parseShadowInfo(i.Style),t.properties.shadowInnerStyleObj=DxChart._parseShadowInfo(i.InnerStyle),t.properties.shadowOuterStyleObj=DxChart._parseShadowInfo(i.OuterStyle)):"labels"==e&&(t.properties.labelsAboveBorderStyleObj=DxChart._parseBorderInfo(i.AboveBorderStyle))}},DxChart._findColor=function(t,e){if(!t)return-1;t=t.toLowerCase();for(var i=["rgb","rgba","hsl","hsla"],s=i.length,a=-1,o=0;o<s;o++)if((a=t.indexOf(i[o],e))>=0)return a;return-1},DxChart._parseBorderInfo=function(t){var e={color:"black",width:"0px",_width:0,style:"none",pt:"px"};if(t&&"string"==typeof t){var i=t.trim();e.style="solid",e._width=0;for(var s,a=[],o=0,r=-1,n=-1,h=-1;n=DxChart._findColor(i,o),r=i.indexOf(" ",o),n>0&&n<r&&(h=i.indexOf(")",n),r=i.indexOf(" ",h)),r>0?(s=i.slice(o,r),o=r+1):(s=i.slice(o),o=i.length+1),a[a.length]=s.trim(),!(o>=i.length););3==a.length&&("number"==typeof a[0]?(e.width=a[0]+"px",e._width=a[0],e.pt="px"):(e.width=a[0],a[0].indexOf("px")>=0?(e.pt="px",e._width=parseInt(a[0].replace("px",""))):a[0].indexOf("pt")>=0&&(e.pt="pt",e._width=parseInt(a[0].replace("pt","")))),e.style=a[1],e.color=a[2])}return e},DxChart.NoDataShow=function(t){var e,i,s,a;if(DxChart.clear(t.canvas),t.properties.nodataShow){var o;t.properties.nodataImage&&""!=t.properties.nodataImage?(o=t.properties.nodataImage,e=t.properties.nodataImageX,i=t.properties.nodataImageY,s=t.properties.nodataImageWidth,a=t.properties.nodataImageHeight):(o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAeCAYAAABZn4LIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAceSURBVGhD7Zj3U1VXEMfz1ziZjLEgRbp0EKT3XiwYS2SisfeoiAIiWEDUsWQSy5ioib2MCmqUgBnQR5HexUZxpPrN7sJ9XuGRPMy8XzL3zHxnnoc9e8/9nN09e/3CYZY7NJlGGlwTSoNrQmlwTSgNrgmlwTWhNLgm1H+Ga+/oZnBe02fCZaCOTh5wcfOBu+cckYubt8xpsD9qwnDtHFzhHxiGzKwc6HQV6Ovrw/v3vSgtfYq0XZnw9Q8WG0NrWQzf1t5FpD4IZc6QHWs8n6PtFI0+ZF6vzI+3hqX+u53Dx/18jiYElx+akJiM0rKnUMaHDx9Gfg2P4pIniIpJEFtD6z1n+yE6NgnBoVFwcvHSv0xoeCzCI+P0dl7eAYiIikdiUjJi4+bCxzdI/ze1T7aLikkUm4TEBYiNn4fA4Ai4unsLILZxcvFESFg0YsiGs8zDyxfxCfPFPiZ2ruwnntfS371m+5ONLyKjEmhPMXB2nT3mmcbKaLj8gCDa9LNnuhGMwNDQEEoIZhnBHlJBLnnyF8EIHrMpCysHbN6yXWyam1uwaPEyWNs60bw9mlta8er1a3mZEAJ/9ep11Nc3oKamVmwLC+8T6AV6YCxbe1fsTs/C4OAgenp6hm1bWlBdU4OsvTlyeDNtnARa1fPn8ty0tAwkL1yM8vJK1NXXg3c9ODCAtrY2FBc/wYLkJdi6LVWCpqPjpazlParfw1gZDZc3um9frmxQGa9evcKiJSlYtXo9Ojs7R2aHx+6MLKnBah+WMx2wfuMWKSU8Ll26QpHsDzNzWwJTh6bmZqnj165dx7t377B+w2ZM+nIKIqPjBfTDh48kKm1GAHOq70xLR39/P/Lzj2DKNCvJiMePi9Dd3U3rt+CryTMIaDoaG5sEWNGfxRLV08xmykE905WjtbUNQSERtN5SfJ/75QL6evvFL/swaeSycw8vP4kM9XjxogPfpqzAmnWb8ObNm5HZ4aF7Vg4nZ89P/DDcDRu3Uo1+T5HSLgBSd6bLfHV1rcCNphRn+JcuX8XU6VZyQAxix87d4pdfljOA/anhHj9+UmBxFnC6D9Dc+QsXZe83b94miDoUFRWhi54ZRyWB13J5qKioRHt7O0VoEmZY2GExBcuLjg6cP/+bgH9EB+XrHyL26ncxRkbD5do2ODgkL6gM3sSylO+xVuC+HZkdHr29vRLtaj8KXE7FEyd/woOHf1BENSIgMJzStlpSOiMzS2Dl5h2WlNav27RVSk/Gnmx9mhqCa2PnTLU1CfUNDbh//wE20jouK9k5B7B02Xd4+7YTeYcOY5azxydwY2IT5Tlsx4ESGZ2AQ/lH6TB6EEr1mv2q38UYGQ13tk/AMDXV4Jr0zeIUrFi5dkzkvv8HuDy2/pBKUb9covfY8R9RV1ePxqYm7D+QJ5G7N3u/HqICl9M6IzNbD90QXGtbZ4n+hoZGKi83cDA3nw5lSErKrVu3xbeOIpIzgi8uBS6XHl+/YNy9ew8DVIPv3LmH53TgPNJ2ZdBheE64PEygLPhSWaiRhymjf6Af12/cwt17hbShwZHZ4aErr5BbWu1HDZchzbCwxcWLv0u97uzskmhLoEuLywbPT51urS8LDJEv0NVrN4of9mcIruVMR4rQ5bS3AVy+co32dxOVVVUCmVvF02fOiX++K9SRy9GZvHAplboXciipOzOwbXsatZhlcmF7zwmacGmY4IWWJ2CUwSf886mz+JXq0+AouHv25Bi80BS4mfT3aWbWlBGB+ghpoBLBlw1Hj1xodPlN+nKqtFociQXUMXCPzRDZnxouX2jTyV/S3OFWkaNzb85+dLx8iX37c+Ugzcxt4BcQKod56vRZuUcYLncK8YnzcCD3EN5SeeNS9/VUC0yeYk4l5Ai66OCjqEyYJHJZ7DgoJArlukoBwaOvrx851EEcPXZColgZpWVlmEMpNnoz6lYsO+cgzC3tYE4XUDp1FhxNDIJbsbCIWMqGArRRRNXW1qGF2rSCgkKJagUsa3Qrxh1FO12yBYUPpDRwfeaxdt1mueh4DZeNltZWiVbuaWvr2H8LVq5aQ61YicDm+st2VtazsCN1l+ztzNlzsjfl2cbIaLgshjVv/iJ9z8ijq6tbXkwZ3Adzb2jolHmOo4UvC74g+d8sV3cfhBPQ0PBosbNzcKM0DEQEfVRws8+gOC0VH2qfXt7+1PDHy4dAHH1AsC1/cNgReL4n+EOEPxyUdRzt3K7xAXJm8W8uCVwi+HdQSKRkqb3jx3LIHzeBQRFjMvHfNCG4LHt6cd4A17CqqudSGjgtua7xTesXECY2htayeMMcfWpIypw6KhmwMscar96p1462NfQslmLHv9lWsVGvVTTevDGaMFwWP5BvT/7PGjcPHxH//pwb9f+sz4KryThpcE0oDa4JpcE1oTS4JpQG14TS4JpQGlyTyR1/A/jyZyoYvDOxAAAAAElFTkSuQmCC",e=t.canvas.width/2-43,i=t.canvas.height/2-20);new DxChartImage({src:o,elem:t.elem,id:t.id,canvas:t.canvas,x:e,y:i,width:s,height:a,options:{imageStyle:"rect",halign:"center",valign:"center"}}).draw()}},DxChart.parseGradient=function(t,e,i,s,a,o,r,n,h){if(!e||"string"!=typeof e)return e;if("string"==typeof e&&e.toLowerCase().indexOf("linear-gradient")>=0){var l=o;if(o=i+a,r=s+l,(e=e.toLowerCase()).match(/linear-gradient\((\{[^}]+\})\)/)){var c=RegExp.$1;c=c.replace(/(['"])?([a-z0-9A-Z_]+)(['"])?:/g,'"$2": ');var x=JSON.parse(c);if("number"==typeof x.r1&&"number"==typeof x.r2)var d=t.context.createRadialGradient(x.x1,x.y1,x.r1,x.x2,x.y2,x.r2);else d=t.context.createLinearGradient(x.x1,x.y1,x.x2,x.y2);var u=1/(x.colors.length-1);d.addColorStop(0,DxChart.trim(x.colors[0]));for(var g=1,p=x.colors.length;g<p;++g)d.addColorStop(g*u,DxChart._rgba2hex(DxChart.trim(x.colors[g]))[0]);return d}h&&(e.indexOf("to left full,")>=0?e=e.replace("to left full,","to right full,"):e.indexOf("to right full,")>=0?e=e.replace("to right full,","to left full,"):e.indexOf("to left,")>=0?e=e.replace("to left,","to right,"):e.indexOf("to right,")>=0&&(e=e.replace("to right,","to left,"))),d=e.indexOf("to bottom full,")>=0?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.marginLeft,t.canvas.height-t.marginBottom):e.indexOf("to left full,")>=0?DxChart.parseLinearGradientInfo(t,e,t.canvas.width-t.marginRight,t.marginTop,t.marginLeft,t.marginTop):e.indexOf("to right full,")>=0?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.canvas.width-t.marginRight,t.marginTop):e.indexOf("to top full,")>=0?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.canvas.height-t.marginBottom,t.marginLeft,t.marginTop):e.indexOf("to right bottom full,")>=0?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.canvas.width-t.marginRight,t.canvas.height-t.marginBottom):e.indexOf("to bottom,")>=0?DxChart.parseLinearGradientInfo(t,e,i,s,i,r):e.indexOf("to left,")>=0?DxChart.parseLinearGradientInfo(t,e,o,s,i,s):e.indexOf("to right,")>=0?DxChart.parseLinearGradientInfo(t,e,i,s,o,s):e.indexOf("to top,")>=0?DxChart.parseLinearGradientInfo(t,e,i,r,i,s):e.indexOf("to right bottom,")>=0?DxChart.parseLinearGradientInfo(t,e,i,s,o,r):DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.marginLeft,t.canvas.height-t.marginBottom)}else"string"==typeof e&&e.toLowerCase().indexOf("radial-gradient");return d||e},DxChart._Base=function(t,e){var i,s=t.id;t.data;i=t.owner?t.owner.canvas:t.elem?t.elem:document.getElementById(s),this.elem=t.elem,this.__orgdata__=t.data,this.id=e+s,this.canvas=i,this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type=e,this.max=0,this.stackedOrGrouped=!1,this.coords=[],this.coords2=[],this.coords.key=[],this.coordsText=[],this.coordsLineCurve=[],this.coordsAxes={xaxis:[],yaxis:[]},this.hasnegativevalues=!1,this.isDxChart=!0,this.DxChart=!0,this.uid=this.canvas.uid?e+this.canvas.uid:DxChart.createUID(),this.canvas.uid=this.uid,this.colorsParsed=!1,this.original_colors=[],this.firstDraw=!0,this.stopAnimationRequested=!1,this.cachedBackgroundCanvas=null,this.properties={},this.orgData=null,DxChart.Effects&&"function"==typeof DxChart.Effects.decorate&&DxChart.Effects.decorate(this),this.responsive=DxChart.responsive,this.initZoom=function(){this.cameraOffset={x:this.canvas.width/2,y:this.canvas.height/2},this.cameraZoom=1},this.exec=function(t){return t(this),this},this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof arguments[0]){for(var i in arguments[0])"string"==typeof i&&this.set(i.replace(".",""),arguments[0][i]);return this}return this.properties[t.replace(".","")]=e,"rscatter"!=this.type&&"scatter"!=this.type||"tooltipsData"===t&&"string"==typeof e&&this.populateTooltips(),this},this.get=function(t){return this.properties[t.replace(".","")]},this.on=function(t,e){return"function"!=typeof this[t]?this[t]=e:DxChart.addCustomEventListener(this,t,e),this},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;var e,i=this.properties,s="string"==typeof arguments[1]?arguments[1]:"vertical";if("string"==typeof t&&t.toLowerCase().indexOf("linear-gradient")>=0)e=(t=t.toLowerCase()).indexOf("to bottom,")>=0?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.marginTop,this.marginLeft,this.canvas.height-this.marginBottom):t.indexOf("to left,")>=0?DxChart.parseLinearGradientInfo(this,t,this.canvas.width-this.marginRight,this.marginTop,this.marginLeft,this.marginTop):t.indexOf("to right,")>=0?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.marginTop,this.canvas.width-this.marginRight,this.marginTop):t.indexOf("to top,")>=0?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.canvas.height-this.marginBottom,this.marginLeft,this.marginTop):t.indexOf("to right bottom,")>=0?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.marginTop,this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom):"horizontal"==s?DxChart.parseLinearGradientInfo(this,t,0,0,this.canvas.width,0):DxChart.parseLinearGradientInfo(this,t,0,this.canvas.height-this.properties.marginBottom,0,this.properties.marginTop);else if("string"==typeof t&&t.toLowerCase().indexOf("radial-gradient")>=0){var a,o,r,n,h,l;r="donut"==i.variantValue?"number"==typeof i.variantDonutWidth?this.radius-i.variantDonutWidth:this.radius/2:0,a=n=this.centerx,o=h=this.centery,l=Math.min(this.canvas.width-i.marginLeft-i.marginRight,this.canvas.height-i.marginTop-i.marginBottom)/2,"semicircle"==this.type&&(l=this.radius),e=DxChart.parseRadialGradientInfo(this,t,a,o,r,n,h,l)}return e||t},this.path=DxChart.pathObjectFunction},DxChart._BeforeDraw=function(t,e){var i=t.properties;"string"==typeof i.backgroundImage&&DxChart.drawBackgroundImage(t),DxChart._fireEvent(t,"onbeforedraw"),t.canvas.__initTranslated__||(t.context.translate(.5,.5),t.canvas.__initTranslated__=!0),t.marginLeft=i.marginLeft,t.marginRight=i.marginRight,t.marginTop=i.marginTop,t.marginBottom=i.marginBottom,t.marginInner=i.marginInner,i.marginLeft_org&&(t.properties.marginLeft=parseInt(t.canvas.width*(parseFloat(i.marginLeft_org.replace("%"))/100)),t.marginLeft=t.properties.marginLeft),t.properties.marginCenter_org&&(t.properties.marginCenter=parseInt(t.canvas.width*(parseFloat(i.marginCenter_org.replace("%"))/100)),t.marginCenter=t.properties.marginCenter),t.properties.marginRight_org&&(t.properties.marginRight=parseInt(t.canvas.width*(parseFloat(i.marginRight_org.replace("%"))/100)),t.marginRight=t.properties.marginRight),t.properties.marginTop_org&&(t.properties.marginTop=parseInt(t.canvas.height*(parseFloat(i.marginTop_org.replace("%"))/100)),t.marginRight=t.properties.marginTop),t.properties.marginBottom_org&&(t.properties.marginBottom=parseInt(t.canvas.height*(parseFloat(i.marginBottom_org.replace("%"))/100)),t.marginRight=t.properties.marginBottom),e||"function"!=typeof t.parseColors||t.colorsParsed||(t.colorsParsed=!0,t.parseColors()),isNexacroRuntime&&DxChart.makeTooltipRuntime(t),0==DxChart[DxChart.randomKey]&&DxChart.drawTrialMark(t)},DxChart.drawTrialMark=function(t){var e=t.context;e.beginPath();var i=new Image;i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAVCAYAAADo49gpAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAUkSURBVFhH7ZlbaBZHFMe7uYANFavmSYVW0BelGiWlprkZ9UXB1BelYMELKeiDGClo7CWW0ovxwQcVFC+YQhVsFTSFgmCae6KQ+kUFS9EnwQgqRkmJgdz6+29nPiab/bL7NQoSu7DM7MyZy/nNOWfOl3hvpHhaWloWj4yMlNGdp9fzvB6+l6eSnwzt6Ng4PDz8NmUXunah0++lpaW3wnTzwhqbm5u/on0h7wNNkJGR0VVcXHxjMsCJ0qGtrS1vaGgoD71lLLORT5SUlHwfHDcKXHt7+4yBgYF6BtQhvC9qkdehv6mp6Vt4rM7JyVmRn5//zOqcBCdog4ODFxCqfF2sK+7BA28JXA4Cb52FlwRHZwKX3Pw/tHCchK+l9BzHE/Ml4YMzMS0rjnu2trZeGuPvnvdnYWFhlW1H5ifqUzmlYHsF7WslRwyptodEXNnD9zrkcyn76G6nPGb77ZqZmZknCwoKfo1rKS9aDk7fMeffcPrBM7fnXj4+jrMQSo6EyaFoD+27i4qKTgocEDbS1o+yG6yytN+nfRbtN5FbrHlo66BtWXBOZLp51wies2YVB1QTZ59xZZj7jmSZd36cMcD7Bc/82qNSyYB3ALcrzkBXCWM571KWGyD9KLvMKKsNzbOQwmDKkhhXbuapoy5L03ybqU+hvCuFXjI43xBYJzTDCDKB1yHa7ghcLZttIF/5MR1w7kKyWhRt4J3OXGewpk+AUsH3CTNnDe07BcP2G2t7HmxTu1yXYr/q5FV5SocM3DPIf2AOpJ+ylrW2m7m0nsbNM7LygHPqdw7oLus/loVT3qZc4OpMWx3yH43HAV23IFcscF1MsCnupWBPP3hC7uas2bsWZZTpZmPKjcbAGW99u6Zcn6FPeN/UIWkeoJaTDdzj+6o5hJuUj+haaQBUMe5DWbbGG5lu+h5Sf8uCphTUK/YgUsFTnsd6pxXjGti0fiHEetIBZyzRV8hMXmMvEdeqotzEAedbRNDCiaPnSFp18fTK2o0F+rFTVqRvJyR8qjhslU2lT4TVNXhKQ7Kysrawed8dop50wCErd5P72KeedVbp47+AY1jycjBBXTHUh9nR0bFW8Kz70T7ThA4XnB8zXR3TBaecjvGn5KqnqTRxOdRGQTMKhwZT3PIGG12EjA8nYBVyH/Xp8ZVXv41dLhAJmLHfqK60JUzOBac0BWg/2wvFxLFchvtgNY+xuAmDY29bibuFsridzDuXy0G3a+QTdkL2xtRgxRylH8hd4XOl0hTeMjZ+zLiOG+fszduN8tuctMW6WQ/WNCPsVnXBOWCSFm3TnBcNDkM7zHp/Cdx7KFSNxa2PpIZAqjzOWEfojaq45sa7gHtZS9EUCtBzgjExBrhexihv9G9S6nJH/3KIC055I+OUsPuhJNUDuPP0VdtfDp8zMAer+zIKXhg45Woseta6IPXfeGcJhBtT3FyOvh0K0iY26Ye0dWUpKyUO2WQ3CpxxZylkUxEfgrH4cV2VPR1FblTemIoBRrafeZ9gZAeSSR8k/2ADFcBLRMF7Wf2COJGfVLJq7S1uapWOHo2Nje8Tho4ATXnkv79V9XR2dk7r6+u7SPUzOq+nM+lklzXQDih+4yW9o8A58OqpXwbeF5MdSBz9jHuWAW2VhTYGnJ0It91LXX9GeYBP689Nibh5XpzNvMoyytPQdwlhS3+D0x8krimmBfec8octQXMh+coKBviTMNlTyuWvstIT3Rug9D+HacyTkMFkZ2fXE3N1yYx5/gH0+Y5+bGT4MAAAAABJRU5ErkJggg==",i.onload=function(){e.drawImage(i,5,5)}},DxChart.drawTrialMark_old=function(t){var e=t.context;e.beginPath();var i=e.lineWidth,s=e.strokeStyle,a=DxChart.getRadiusEndPoint(20,20,DxChart.PI-DxChart.HALFPI/3,15),o=DxChart.getRadiusEndPoint(20,20,DxChart.TWOPI-DxChart.HALFPI/3,15);e.strokeStyle="#EA5826",e.lineWidth=3,isNexacroRuntime&&(e.setElementStrokeStyle(e.strokeStyle),e.setElementLineWidth(e.lineWidth)),e.beginPath(),e.moveTo(a[0],a[1]),e.lineTo(a[0],a[1]),e.lineTo(17,18),e.lineTo(23,25),e.lineTo(o[0],o[1]),e.stroke(),e.strokeStyle="#229EFD",isNexacroRuntime&&e.setElementStrokeStyle(e.strokeStyle),e.beginPath(),e.arc(20,20,15,0,DxChart.TWOPI),e.stroke(),s&&(e.strokeStyle=s,isNexacroRuntime&&e.setElementStrokeStyle(s)),i&&(e.lineWidth=i,isNexacroRuntime&&e.setElementLineWidth(e.lineWidth))},DxChart.checkLC=function(){var t,e=new Date;e.getFullYear(),(e.getMonth()+1+"").padLeft(2,"0"),(e.getDate()+"").padLeft(2,"0");DxChart.randomKey="L"+DxChart.random(1e3,2e3),DxChart[DxChart.randomKey]=!1;var i=!0,s=!1;if(DxChartLicense){var a=DxChartLicense.Customer+"|"+DxChartLicense.Project+"|"+DxChartLicense.Domain+"|"+DxChartLicense.Expired;if(DxChartLicense.skip&&(a=a+"|"+DxChartLicense.skip,s=!0),DxChart.genKey(),isNexacroRuntime||!window.location){nexacro.getApplication()||(i=!1);var o=0==i?"":nexacro._project_url||nexacro.getApplication().xadl;(o=o.toLowerCase())||(o=""),o.indexOf("http")<0&&(DxChart[DxChart.randomKey]=!1);var r=o.split("/")[2];r||(r=""),t=r.split(":")[0]}else t=window.location.hostname;var n=DxChart.encryptAES(a);if(n=n.replace(/\+/g,"^").replace(/\=/g,"*"),1==i&&n==DxChartLicense.License)if(s)DxChart[DxChart.randomKey]=!0;else if(DxChartLicense.Domain.indexOf(t)>=0)if("unlimit"==DxChartLicense.Expired)DxChart[DxChart.randomKey]=!0;else{var h=new Date(parseInt(DxChartLicense.Expired.substr(0,4)),parseInt(DxChartLicense.Expired.substr(4,2))-1,parseInt(DxChartLicense.Expired.substr(6,2)),23,59,59,9,999),l=new Date;h.getTime()>l.getTime()&&(DxChart[DxChart.randomKey]=!0)}}},DxChart.checkLC(),DxChart.isString=function(t){return"string"==typeof t},DxChart.isNumber=function(t){return"number"==typeof t},DxChart.isTextual=function(t){return"string"==typeof t||"number"==typeof t},DxChart.isNumeric=function(t){return t=String(t),Boolean(t.match(/^[-.0-9]+$/))||Boolean(t.match(/^[-.0-9]+e[-0-9]+$/))||"Infinity"===t||"-Infinity"===t||Boolean(t.match(/^[-.0-9]+x[0-9a-f]+$/i))},DxChart.isBool=DxChart.isBoolean=function(t){return"boolean"==typeof t},DxChart.isObject=function(t){return!!(t&&"object"==typeof t&&t.constructor.toString().toLowerCase().indexOf("object")>0)},DxChart.isFunction=function(t){return"function"==typeof t},DxChart.isUndefined=function(t){return void 0===t}}(window,document),String.prototype.format=function(){if(0===arguments.length){if((t=this).match(/{[a-z0-9]+?}/i))var t=this.replace(/{[a-z0-9]+?}/gi,function(t,e){return t=(t=t.substr(1)).substr(0,t.length-1),window[t]});return t}if(1===arguments.length&&DxChart.isArray(arguments[0]))return this.format.apply(this,arguments[0]);var e=arguments;for(var i in e)DxChart.isNull(e[i])&&(e[i]="null");return(t=(t=(t=this.replace(/{(\d+)}/g,function(t,i){return void 0!==e[i-1]?e[i-1]:t})).replace(/(?:%|\\)%(\d)/g,"__PPEERRCCEENNTT__$1")).replace(/%(\d+)/g,function(t,i){return void 0!==e[i-1]?e[i-1]:t})).replace("__PPEERRCCEENNTT__","%")},!nexacro&&window&&window.addEventListener&&window.addEventListener("resize",function(){DxChart.redraw()}),window)var DxChart=window.DxChart||{isDxChart:!0,isDxChart:!0,DxChart:!0};else{var window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0,isDxChart:!0,DxChart:!0};nexacro.DxChart||(nexacro.DxChart=DxChart);var document={}}if(function(t,e,i){navigator.userAgent;DxChart._replaceTouchEvent=function(t,e){if(t.type&&t.type.indexOf("touch")>=0){var i=t.targetTouches,s=t;if(i&&i[0]){var a=i[0];for(var o in a)t[o]=a[o];t.offsetX=t.pageX,t.offsetY=t.pageY,t.target||(t.target=e),t.offsetLeft=t.offsetTop=0,t.type=s.type}}return t},DxChart.installCanvasResizeListener=function(e){var i=e.canvas;isNexacroRuntime&&(i=e.canvas._refform),DxChart.window_onsize_event_listener||(DxChart.window_onsize_event_listener=function(t){var e=t.target.__object__,s=e.onsize;s&&s(e,t),DxChart.redrawCanvas(i)},isNexacroRuntime||isNexacroFramework||t.addEventListener("resize",DxChart.window_onsize_event_listener,!1))},DxChart.installWindowMousedownListener=function(e){var i=e.canvas;isNexacroRuntime&&(i=e.canvas._refform),DxChart.window_mousedown_event_listener||(DxChart.window_mousedown_event_listener=function(s){s=DxChart._replaceTouchEvent(s,e),navigator.userAgent.indexOf("Firefox")>=0&&(t.event=s);var a=DxChart.Registry.get("tooltip");DxChart.hideTooltip&&a&&"slide"!==a.__object__.get("tooltipsEffect")&&(DxChart.clear(DxChart.Registry.get("tooltip").__canvas__),DxChart.redrawCanvas(i),DxChart._timerHideTooltip()),"touchstart"==s.type&&i.DxChart_mousemove_event_listener(s)},isNexacroRuntime||(t.addEventListener("mousedown",DxChart.window_mousedown_event_listener,!1),t.addEventListener("touchstart",DxChart.window_mousedown_event_listener,!1)))},DxChart.installCanvasWheelListener=function(e){e.canvas;isNexacroRuntime&&e.canvas._refform,DxChart.window_wheel_event_listener||(DxChart.window_wheel_event_listener=function(t){if(t.target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var e=DxChart.REG.getObjectsByCanvasID(t.target.id),i=0;i<e.length;++i)e[i].adjustZoom(t,e[i]);else t.target.__object__.adjustZoom(t,t.target.__object__)},isNexacroRuntime||t.addEventListener("wheel",DxChart.window_wheel_event_listener))},DxChart.installWindowMouseupListener=function(e){var i=e.canvas;isNexacroRuntime&&(i=e.canvas._refform),DxChart.window_mouseup_event_listener||(DxChart.window_mouseup_event_listener=function(e){if("touchend"==e.type&&(DxChart.hideTooltip(),DxChart.redrawCanvas(i)),e=DxChart._replaceTouchEvent(e,s),navigator.userAgent.indexOf("Firefox")>=0&&(t.event=e),DxChart.annotating_window_onmouseup)DxChart.annotating_window_onmouseup(e);else{if(DxChart.Registry.get("changing")||DxChart.Registry.get("changing.gantt")){var s=DxChart.Registry.get("changing");s&&"line"===s.type&&(s.data_arr=DxChart.arrayLinearize(s.data)),DxChart._fireEvent(DxChart.Registry.get("changing"),"onadjustend")}if(DxChart.Registry.set("changing",null),DxChart.Registry.set("changing.shape",null),DxChart.Registry.set("changing.gantt",null),s&&s.canvas){var a=s.canvas,o=!1;s.isDxChart&&s.get("annotationValue")&&(canvas.__DxChart_trace_cover__?DxChart.clear(a):o=!0),o||DxChart.redrawCanvas(a)}}},isNexacroRuntime||(t.addEventListener("mouseup",DxChart.window_mouseup_event_listener,!1),t.addEventListener("touchend",DxChart.window_mouseup_event_listener,!1)))},DxChart.installCanvasMousemoveListener=function(t){var e=t.canvas;isNexacroRuntime&&(e=t.canvas._refform),e.DxChart_mousemove_event_listener||(e.DxChart_mousemove_event_listener=function(t,e){if(t=DxChart._replaceTouchEvent(t,r),isNexacroRuntime&&(t=DxChart.FixEventObject(t,e)),t.target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)i[s].onPointerMove(t);else t.target.__object__.onPointerMove(t);if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t.target.__object__&&t.target.__object__.get("annotationValue")&&DxChart.annotating_canvas_onmousemove)DxChart.annotating_canvas_onmousemove(t);else{var a=[];if((i=DxChart.REG.getObjectsByXY(t))&&i.length>0){s=0;for(var o=i.length;s<o;s+=1){var r=i[s];r.id;if(a[r.uid]=!0,"function"==typeof r.getShape){var n,h=r.getShape(t);if(DxChart.last_mouseover_uid&&DxChart.last_mouseover_uid!==r.uid&&(DxChart._fireEvent(DxChart.last_mouseover_object,"onmouseout"),DxChart.last_mouseover_object.__mouseover_shape_index__=null,DxChart.last_mouseover_object.__mouseover_shape__=null,DxChart.last_mouseover_object=null,DxChart.last_mouseover_uid=null),(!h&&"number"==typeof r.__mouseover_shape_index__||h&&"number"==typeof r.__mouseover_shape_index__&&h.index!==r.__mouseover_shape_index__)&&DxChart._fireEvent(r,"onmouseout"),r.coords&&r.coords.key&&r.coords.key.length){n=DxChart.getMouseXY(t);s=0;for(var l=!1;s<r.coords.key.length;++s)n[0]>=r.coords.key[s][0]&&n[0]<=r.coords.key[s][0]+r.coords.key[s][2]&&n[1]>=r.coords.key[s][1]&&n[1]<=r.coords.key[s][1]+r.coords.key[s][3]&&(DxChart.Registry.set("key-element",r.coords.key[s]),l=!0),l||DxChart.Registry.set("key-element",null)}else"gantt"!=r.type&&1!=r._isrange||(n=DxChart.getMouseXY(t));var c,x,d=null;if((c=null)||"function"!=typeof r.onmousemove||(c=r.onmousemove),h)"object"==typeof r["$"+(x=h.sequentialIndex)]&&"function"==typeof r["$"+x].onmousemove&&(d=r["$"+x].onmousemove);if(!h||"function"!=typeof c&&"function"!=typeof d&&"string"!=typeof r.get("link"))"string"==typeof r.get("eventsMousemoveRevertto")&&(DxChart.cursor.push("default"),r.set("eventsMousemoveRevertto",null));else if(null==r.get("eventsMousemoveRevertto")&&(isNexacroRuntime?r.set("eventsMousemoveRevertto",t.target.cursor):r.set("eventsMousemoveRevertto",t.target.style.cursor)),"function"==typeof c&&(DxChart.custom_events_mousemove_pointer=c(t,h)),"function"==typeof d&&(DxChart.custom_events_mousemove_pointer=DxChart.custom_events_mousemove_pointer||d(t,h)),"object"==typeof DxChart.events&&"object"==typeof DxChart.events[r.uid])for(var s in DxChart.events[r.uid])"string"==typeof s&&"object"==typeof DxChart.events[r.uid][s]&&"onmousemove"===DxChart.events[r.uid][s][1]&&"function"==typeof DxChart.events[r.uid][s][2]&&DxChart.events[r.uid][s][2](r);if((c=null)||"function"!=typeof r.onmouseover||(c=r.onmouseover),h){if("object"==typeof r["$"+(x=h.sequentialIndex)]&&"function"==typeof r["$"+x].onmouseover)d=r["$"+x].onmouseover}else r.__mouseover_shape_index__=null,DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null,"gantt"==r.type&&(DxChart.Registry.set("changing.ganttpoint",!1),DxChart.evaluateCursor(t));if(void 0===DxChart.__mouseover_objects__&&(DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null),h){if((f=DxChart.Registry.get("treehighlight"))&&f.cube!=h.cube&&r.removeHighlight(f),"tree"!=r.type&&"map"!=r.type||r.highlight(h),r.__mouseover_shape_index__===h.index==!1&&(r.__mouseover_shape__=h,r.__mouseover_shape_index__=h.index,DxChart.last_mouseover_uid=r.uid,DxChart.last_mouseover_object=r,DxChart.__mouseover_objects__.push(r),c&&c(t,h),d&&d(t,h),"object"==typeof DxChart.events&&"object"==typeof DxChart.events[r.uid]))for(var s in DxChart.events[r.uid])"string"==typeof s&&DxChart.events[r.uid][s]&&"object"==typeof DxChart.events[r.uid][s]&&"onmouseover"===DxChart.events[r.uid][s][1]&&"function"==typeof DxChart.events[r.uid][s][2]&&DxChart.events[r.uid][s][2](r)}else r.__mouseover_shape_index__=null,DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null;var u=DxChart.Registry.get("tooltip"),g=r.get("tooltips")||r.get("tooltipsData"),p=r.get("tooltipsEvent");if(h&&(g&&g[h.index]||h.tooltip)&&-1!==p.indexOf("mousemove")&&(DxChart.isNull(u)||r.uid!=u.__object__.uid||u.__index__!=h.sequentialIndex||u&&u.__shape__&&"number"==typeof h.dataset&&h.dataset!=u.__shape__.dataset))return void(isNexacroRuntime?DxChart.runtimeCanvasMouseupListener(r,h,t):r.canvas.DxChart_mouseup_event_listener(t));if(r&&r.get("changeableValue"))return"gantt"!=r.type&&!0!==r._isrange||DxChart.evaluateCursorNew(r,t,h,n),void r.changing_mousemove(t,h);if(h||r.overChartArea&&r.overChartArea(t))break;(f=DxChart.Registry.get("treehighlight"))&&!h&&f.obj.removeHighlight(f)}}for(i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)a[i[s].uid]||(i[s].__mouseover_shape_index__=null);(u=DxChart.Registry.get("tooltip"))&&!h&&r&&DxChart._timerHideTooltip(r)}else{for(i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;s++){if("number"==typeof i[s].__mouseover_shape_index__&&DxChart._fireEvent(i[s],"onmouseout"),i[s].__mouseover_shape_index__=null,"heatmap"==i[s].type&&1==DxChart._MouseDownFlag)(h=i[s].getShape(t))&&i[s].get("changeableValue")&&i[s].changing_mousemove(t,h)}var f;DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null,(u=DxChart.Registry.get("tooltip"))&&(DxChart._timerHideTooltip(r),DxChart.redrawCanvas(u.__canvas__)),(f=DxChart.Registry.get("treehighlight"))&&f.obj.removeHighlight(f)}t.target&&t.target.__object__&&t.target.__object__.get("crosshairsUse")&&DxChart.drawCrosshairs(t,t.target.__object__),DxChart.evaluateCursor(t)}},isNexacroRuntime?(t.canvas.setEventHandler("onmousemove",e.DxChart_mousemove_event_listener,e),t.canvas.setEventHandler("ontouchmove",e.DxChart_mousemove_event_listener,e)):(e.addEventListener("mousemove",e.DxChart_mousemove_event_listener,!1),e.addEventListener("touchmove",e.DxChart_mousemove_event_listener,!1)))},DxChart.FixEventObject=function(t,e){var i=e;if(null!=i)return null!=i.clientx&&(i.pageX=i.clientx,i.pageY=i.clienty,i.offsetX=i.pageX,i.offsetY=i.pageY),i.target=t,i.offsetLeft=i.offsetTop=0,i},DxChart.installCanvasMousedownListener=function(t){var e=t.canvas;isNexacroRuntime&&(e=t.canvas._refform),e.DxChart_mousedown_event_listener||(e.DxChart_mousedown_event_listener=function(t,e){if(DxChart._MouseDownFlag=!0,t=DxChart._replaceTouchEvent(t,a),isNexacroRuntime&&(t=DxChart.FixEventObject(t,e)),t.target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)i[s].onPointerDown(t);else t.target.__object__.onPointerDown(t);if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t.target.__object__&&t.target.__object__.get("annotationValue")&&DxChart.annotating_canvas_onmousedown)DxChart.annotating_canvas_onmousedown(t);else if(a=DxChart.REG.getObjectByXY(t)){var a;a.id;if(a&&a.isDxChart&&a.get("changeableValue"))if((a=DxChart.REG.getObjectByXY(t))&&a.isDxChart){switch(a.type){case"bar":var o=a.getShapeByX(t);break;case"gantt":if(o=a.getShape(t)){var r="object"==typeof a.data[o.dataset]&&a.data[o.dataset][o.index]&&a.data[o.dataset][o.index].start?a.data[o.dataset][o.index]:a.data[o.dataset],n=DxChart.getMouseXY(t);DxChart.Registry.set("changing.gantt",{dataset:o.dataset,index:o.index,object:a,mousex:n[0],mousey:n[1],event:r,event_start:r.start,event_duration:r.duration,mode:n[0]>o.x+o.width-5?"resize":"move",shape:o})}break;case"line":o=a.getShape(t);break;case"hbar":o=a.getShapeByY(t);break;case"activity":o=a.getShape(t);break;default:o=null}if(a._isrange)if(o=a.getShape(t)){n=DxChart.getMouseXY(t);DxChart.Registry.set("changing.range",{object:a,mousex:n[0],mousey:n[1],shape:o,sIndex:a.owner.properties.rangeStartIndex,eIndex:a.owner.properties.rangeEndIndex})}else DxChart.Registry.set("changing.range",null);if("line"===a.type&&a.properties.changeableXonly)o=a.getShapeByX(t);(DxChart.isNull(a.properties.changeableOnly)||void 0===a.properties.changeableOnly||DxChart.isArray(a.properties.changeableOnly)&&a.isAdjustable&&a.isAdjustable(o))&&(DxChart.Registry.set("changing.shape",o),DxChart._fireEvent(a,"onchangebegin"),DxChart.Registry.set("changing",a),DxChart.clear(a.canvas),DxChart.redraw(),isNexacroRuntime?t.target._refform.DxChart_mousemove_event_listener(t.target,t):a.canvas.DxChart_mousemove_event_listener(t))}"slide"!==a.properties.tooltipsEffect&&(DxChart.clear(a.canvas),DxChart.redraw())}},isNexacroRuntime?t.canvas.setEventHandler("onlbuttondown",e.DxChart_mousedown_event_listener,e):(e.addEventListener("mousedown",e.DxChart_mousedown_event_listener,!1),e.addEventListener("touchstart",e.DxChart_mousedown_event_listener,!1)))},DxChart.runtimeCanvasMouseupListener=function(t,e,i){DxChart.redrawCanvas(t.canvas),DxChart.Registry.set("tooltip.shape",e);var s=e.tooltip;s&&(DxChart.showTooltipRuntime({object:t,text:s,x:0,y:0,index:e.sequentialIndex,event:i}),"tree"!=t.type&&t.highlight(e))},DxChart.installCanvasMouseupListener=function(t){var e=t.canvas;isNexacroRuntime&&(e=t.canvas._refform),e.DxChart_mouseup_event_listener||(e.DxChart_mouseup_event_listener=function(t,i){if(DxChart._MouseDownFlag=!1,"touchend"==t.type&&(DxChart.hideTooltip(),DxChart.redrawCanvas(e)),t=DxChart._replaceTouchEvent(t,n),isNexacroRuntime&&(t=DxChart.FixEventObject(t,i)),DxChart.Registry.set("changing.range",null),t.target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var s=DxChart.REG.getObjectsByCanvasID(t.target.id),a=0;a<s.length;++a)s[a].onPointerUp(t);else t.target.__object__.onPointerUp(t);if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t.target.__object__&&t.target.__object__.get("annotationValue")&&DxChart.annotating_window_onmouseup)DxChart.annotating_window_onmouseup(t);else if(s=DxChart.REG.getObjectsByXY(t)){if(0==s.length){var o=DxChart.REG.getObjectsByCanvasID(t.target.id);for(a=0;a<o.length;a++)"heatmap"==o[a].type&&DxChart.Registry.get("changing.shape")&&(DxChart.Registry.set("changing.shape",null),DxChart.redrawCanvas(o[a].canvas))}a=0;for(var r=s.length;a<r;a+=1){var n=s[a];s[a].id;if(!DxChart.isNull(n)&&DxChart.showTooltip){var h=n.getShape(t);if(h&&h.tooltip){var l=h.tooltip;if(l){h.object.type;return isNexacroRuntime||(DxChart.redrawCanvas(n.canvas),DxChart.Registry.set("tooltip.shape",h),DxChart.showTooltip({object:n,text:l,x:0,y:0,index:h.sequentialIndex,event:t}),"tree"!=n.type&&n.highlight(h)),DxChart.Registry.get("tooltip")&&(DxChart.Registry.get("tooltip").__shape__=h,DxChart.evaluateCursor(t,h)),t.cancelBubble=!0,t.stopPropagation(),!1}}}if((DxChart.Registry.get("changing")||DxChart.Registry.get("changing.gantt"))&&(n&&"line"===n.type&&(n.data_arr=DxChart.arrayLinearize(n.data)),DxChart._fireEvent(DxChart.Registry.get("changing"),"onadjustend")),DxChart.Registry.set("changing",null),DxChart.Registry.set("changing.shape",null),DxChart.Registry.set("changing.gantt",null),DxChart.Registry.set("changing.range",null),h||n.overChartArea&&n.overChartArea(t))break}}},isNexacroRuntime?t.canvas.setEventHandler("onlbuttonup",e.DxChart_mouseup_event_listener,e):(e.addEventListener("mouseup",e.DxChart_mouseup_event_listener,!1),e.addEventListener("touchend",e.DxChart_mouseup_event_listener,!1)))},DxChart.installCanvasClickListener=function(t){var e=t.canvas;isNexacroRuntime&&(e=t.canvas._refform),e.DxChart_click_event_listener||(e.DxChart_click_event_listener=function(t,e){t=DxChart._replaceTouchEvent(t,o),isNexacroRuntime&&(t=DxChart.FixEventObject(t,e)),navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t);for(var i=DxChart.REG.getObjectsByXY(t),s=0,a=i.length;s<a;s+=1){var o=i[s],r=(o.id,o.getShape(t));if((n=null)||"function"!=typeof o.onclick||(n=o.onclick),r&&"function"==typeof n){if(n(t,r),"object"==typeof DxChart.events&&"object"==typeof DxChart.events[o.uid])for(var s in DxChart.events[o.uid])"string"==typeof s&&"object"==typeof DxChart.events[o.uid][s]&&"onclick"===DxChart.events[o.uid][s][1]&&"function"==typeof DxChart.events[o.uid][s][2]&&DxChart.events[o.uid][s][2](o);return}if("function"==typeof n)return void n(t,r);if(DxChart.Registry.get("key-element")&&DxChart._fireEvent(o,"onkeyclick"),r){var n,h=r.sequentialIndex;if("number"==typeof h&&o["$"+h])if("function"==typeof(n=o["$"+h].onclick))return void n(t,r)}if(r||o.overChartArea&&o.overChartArea(t))break}},isNexacroRuntime?t.canvas.setEventHandler("onclick",e.DxChart_click_event_listener,e):e.addEventListener("click",e.DxChart_click_event_listener,!1))},DxChart.evaluateCursorNew=function(t,e,i,s){if(i&&s){var a=s[0]>i.x+i.width-5?"resize":"move";!0===t._isrange&&(a="m"==i.mode?"move":"resize");var o=t.canvas;isNexacroRuntime?o._refform.set_cursor("resize"==a?"ew-resize":"move"):o.style.cursor="resize"==a?"e-resize":"move",!0!==t._isrange&&DxChart.Registry.set("changing.ganttpoint",!0)}if(!i){o=t.canvas;isNexacroRuntime?o._refform.set_cursor("default"):o.style.cursor="default"}},DxChart.evaluateCursor=function(t,e){var i=t.target;1==DxChart.Registry.get("changing.ganttpoint")&&e||(DxChart.Registry.set("changing.ganttpoint",!1),isNexacroRuntime?i._refform.set_cursor("default"):i.style.cursor="default")},DxChart.parseTooltipText=function(t,e){if(!t)return null;if("function"==typeof t)var i=t(e);else if("string"==typeof t)i=t;else if("object"==typeof t&&"function"==typeof t[e])i=t[e](e);else{if("object"==typeof t&&(DxChart.isNull(t[e])||void 0===t[e]))return null;if("string"==typeof t[e]&&t[e])i=t[e];else if("number"==typeof t[e]&&t[e])i=t[e]+"";else i=""}return void 0===i?i="":"null"==typeof i&&(i=""),DxChart.getTooltipTextFromDIV?DxChart.getTooltipTextFromDIV(i):i},DxChart.drawCrosshairs=function(t,e){var i=e.canvas.width,s=e.canvas.height,a=(D=DxChart.getMouseXY(t))[0],o=D[1],r=e.marginLeft,n=e.marginRight,h=e.marginTop,l=e.marginBottom,c=(e.properties,e.properties);if(DxChart.redrawCanvas(e.canvas),a>=r&&o>=h&&a<=i-n&&o<=s-l){var x=c.crosshairsLineWidth?c.crosshairsLineWidth:1;if(e.context.lineWidth=x||1,isNexacroRuntime&&e.context.setElementLineWidth(e.context.lineWidth),e.context.beginPath(),e.context.strokeStyle=c.crosshairsColor,isNexacroRuntime&&e.context.setElementStrokeStyle(e.context.strokeStyle),c.crosshairsSnap){var d=null,u=null,g=null;if("line"==e.type){for(var p=0;p<e.coords.length;++p){var f=DxChart.getHypLength(e.coords[p][0],e.coords[p][1],a,o);if("number"!=typeof u||f<u)d=p,u=f}a=e.coords[d][0],o=e.coords[d][1];for(var m=0;m<e.coords2.length;++m)for(d=0;d<e.coords2[m].length;++d)e.coords2[m][d][0]==a&&e.coords2[m][d][1]==o&&(e.canvas.__crosshairs_snap_dataset__=m,e.canvas.__crosshairs_snap_point__=d)}else{for(p=0;p<e.coords.length;++p)for(var b=0;b<e.coords[p].length;++b){g=DxChart.getHypLength(e.coords[p][b][0],e.coords[p][b][1],a,o);if("number"!=typeof u||g<u)m=p,d=b,u=g}e.canvas.__crosshairs_snap_dataset__=m,e.canvas.__crosshairs_snap_point__=d,a=e.coords[m][d][0],o=e.coords[m][d][1]}}if(c.crosshairsVline&&(e.context.moveTo(Math.round(a),Math.round(h)),e.context.lineTo(Math.round(a),Math.round(s-l))),c.crosshairsHline&&(e.context.moveTo(Math.round(r),Math.round(o)),e.context.lineTo(Math.round(i-n),Math.round(o))),e.context.stroke(),"scatter"==e.type&&c.crosshairsCoords){var C=(a-r)/(i-r-n)*(c.xaxisScaleMax-c.xaxisScaleMin)+c.xaxisScaleMin;C=C.toFixed(c.yaxisScaleDecimals);var y=e.max-(o-c.marginTop)/(s-h-l)*(e.max-e.scale2.min);"scatter"==e.type&&"center"===e.properties.xaxisPosition&&(y=2*(y-e.max/2)),y=y.toFixed(c.yaxisScaleDecimals);var v=DxChart.Registry.get("coordinates.coords.div"),D=DxChart.getMouseXY(t),S=DxChart.getCanvasXY(e.canvas),k=c.crosshairsPosition||"left",w=c.crosshairsBackgroundColor||"#ffffff",_=c.crosshairsTextColor||"#666666",T=c.crosshairsBorderStyle||"1px solid #dddddd",P=c.crosshairsborderRadius||"3px",R=c.crosshairsPadding||"5px",L=c.crosshairsFontStyle||"10px Tahoma,Arial,Verdana",j=DxChart._parseFontInfo(L);if(!v){if(isNexacroRuntime){var F=e.canvas.parent,E="__DxChart_crosshair_";v=F.components[E],(v=new Div).init(E,0,0,0,0,null,null),F.addChild(E,v),v.show(),v.set_visible(!1),v.form.set_scrollbartype("none"),v.set_background(w),v.set_border(T),v.set_borderRadius(P);var O=new Static;E="__DxChart_crosshairstatic_",O.init(E,0,0,null,null,0,0),v.form.addChild(E,O),O.show(),O.set_color(_),O.set_visible(!0),O.set_padding(R),v._sta=O,v.__object__=e}else(v=document.createElement("DIV")).__object__=e,v.style.position="absolute",v.style.backgroundColor=w,v.style.border=T,v.style.fontFamily=j.face,v.style.fontSize=j.size,v.style.padding=R,v.style.opacity=1,v.style.WebkitBorderRadius=P,v.style.borderRadius=P,v.style.MozBorderRadius=P,v.style.zIndex=1500012,v.style.lineHeight=DxChart.ISIE?"normal":"initial",document.body.appendChild(v);DxChart.Registry.set("coordinates.coords.div",v)}if(isNexacroRuntime?(v.set_background(w),v.set_border(T),v.set_borderRadius(P),v._sta.set_color(_),v._sta.set_padding(R),v._sta.set_font(L)):(v.style.backgroundColor=w,v.style.color=_,v.style.border=T,v.style.fontFamily=j.face,v.style.fontSize=j.size+"px",v.style.padding=R,v.style.opacity=1,v.style.WebkitBorderRadius=P,v.style.borderRadius=P,v.style.MozBorderRadius=P),"function"==typeof c.crosshairsCoordsFormatterX&&(C=c.crosshairsCoordsFormatterX({object:e,value:parseInt(C)})),"function"==typeof c.crosshairsCoordsFormatterY&&(y=c.crosshairsCoordsFormatterY({object:e,value:parseInt(y)})),isNexacroRuntime){var I=c.crosshairsCoordsLabelsX+": "+C+"\n";I+=c.crosshairsCoordsLabelsY+": "+y+"\n",v.set_visible(!0),v.bringToFront();var A=DxChart.measureText(I,j.bold,j.face,j.size);v._sta.set_text(I),v.set_width(A[0]+5),v.set_height(A[1]+10)}else v.innerHTML='<span id="DxChart_crosshairsCoordsLabelsX">'+c.crosshairsCoordsLabelsX+":</span> "+C+'<br><span id="DxChart_crosshairsCoordsLabelsY">'+c.crosshairsCoordsLabelsY+":</span> "+y,document.getElementById("DxChart_crosshairsCoordsLabelsX").style.color=_,document.getElementById("DxChart_crosshairsCoordsLabelsY").style.color=_,e.canvas.addEventListener("mouseout",DxChart.hideCrosshairCoords,!1);if(isNexacroRuntime){v.set_opacity(1),v.set_visible(!0),v.bringToFront();var N=0,M=0;if(c.crosshairsCoordsFixed){var W,B=e.canvas.width,G=(e.canvas.height,v.getOffsetWidth()),H=v.getOffsetHeight();"left"==k?W=S[0]+r+3:"center"==k?W=(B-G)/2:"right"==k&&(W=B-G-n),M+S[1]+h+3-H,v.set_left(W),v.set_top(M)}else v.set_left(N+Math.max(2,t.pageX-v.getOffsetWidth()-3)),v.set_top(M+Math.max(2,t.pageY-v.getOffsetHeight()-3))}else if(v.style.opacity=1,v.style.display="inline",c.crosshairsCoordsFixed){B=e.canvas.width,e.canvas.height,G=parseInt(v.offsetWidth),H=parseInt(v.offsetHeight);"left"==k?N=S[0]+r+3:"center"==k?N=(B-G)/2:"right"==k&&(N=B-G-n),(M=S[1]+h-3-H)<0&&(M=0),v.style.left=N+"px",v.style.top=M+"px"}else v.style.left=Math.max(2,t.pageX-v.offsetWidth-3)+"px",v.style.top=Math.max(2,t.pageY-v.offsetHeight-3)+"px";e.canvas.__crosshairs_labels__=v,e.canvas.__crosshairs_x__=C,e.canvas.__crosshairs_y__=y}else c.crosshairsCoords&&alert("Showing crosshair coordinates is only supported on the Scatter chart");DxChart._fireEvent(e,"oncrosshairs")}else DxChart.hideCrosshairCoords()},DxChart.allowSegmentHighlight=function(t){var e=t.object,i=t.count,s=t.fill,a=t.stroke;DxChart.segmentHighlightFunction||(DxChart.segmentHighlightFunction=function(t){var o=DxChart.getMouseXY(t),r=DxChart.getAngleByXY(e.centerx,e.centery,o[0],o[1]);(r+=DxChart.HALFPI)>DxChart.TWOPI&&(r-=DxChart.TWOPI),DxChart.redraw();var n=0,h=0,l=2*Math.PI/i,c=e.radius;!function(){for(var t=0;t<i;t+=1)if(r<l*(t+1))return n=t*l,void(h=(t+1)*l)}(),n-=DxChart.HALFPI,h-=DxChart.HALFPI,e.path("b m % % a % % % % % false c s % f %",e.centerx,e.centery,e.centerx,e.centery,c,n,h,a,s)},e.canvas.addEventListener("mousemove",DxChart.segmentHighlightFunction,!1))}}(window),DxChart=window.DxChart||{isDxChart:!0,isDxChart:!0,DxChart:!0},function(t,e,i){navigator.userAgent;DxChart.contextMenu=function(){var t=DxChart.getArgs(arguments,"object,menuitems,event"),e=t.object,i=t.menuitems,s=t.event,a=e.canvas;DxChart._fireEvent(e,"onbeforecontextmenu"),DxChart.Registry.get("contextmenu")&&DxChart.hideContext(),DxChart.hidePalette(),e.set("mousedown",!1);var o=s.pageX,r=s.pageY,n=document.createElement("div"),h=document.createElement("div");n.className="DxChart_contextmenu",n.__canvas__=a,n.style.position="absolute",n.style.left=0,n.style.top=0,n.style.border="1px solid #666",n.style.backgroundColor="white",n.style.boxShadow="1px 1px 3px #ddd",n.style.MozBoxShadow="1px 1px 3px #ddd",n.style.WebkitBoxShadow="1px 1px 3px #ddd",n.style.opacity=0,n.style.lineHeight="initial",h.className="DxChart_contextmenu_background",h.style.position="absolute",h.style.backgroundColor="#ccc",h.style.borderRight="1px solid #aaa",h.style.top=0,h.style.left=0,h.style.width="18px",h.style.height="100%",h.style.opacity=0,h=(n=document.body.appendChild(n)).appendChild(h);for(var l=0;l<i.length;++l){var c=document.createElement("div");c.__object__=e,c.__canvas__=a,c.__contextmenu__=n,c.className="DxChart_contextmenu_item",i[l]?(c.style.padding="2px 5px 2px 23px",c.style.fontFamily="Arial",c.style.fontSize="10pt",c.style.textAlign="left",c.style.fontWeight="normal",c.innerHTML=i[l][0],DxChart.isArray(i[l][1])&&(c.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAQUlEQVQImY3NoQ2AMABE0ZewABMyGQ6mqWODzlAclBSFO8HZl8uf0FFxCHtwYkt4Y6ChYE44cGH9/fyae2p2LAleW9oVTQuVf6gAAAAASUVORK5CYII=)",c.style.backgroundRepeat="no-repeat",c.style.backgroundPosition="97% center"),i[l][1]?c.addEventListener?(c.addEventListener("mouseover",function(t){DxChart.hideContextSubmenu(),t.target.style.backgroundColor="rgba(0,0,0,0.2)",t.target.style.cursor="pointer"},!1),c.addEventListener("mouseout",function(t){t.target.style.backgroundColor="inherit",t.target.style.cursor="default"},!1)):(c.attachEvent("onmouseover",function(){DxChart.hideContextSubmenu(),event.srcElement.style.backgroundColor="#eee",event.srcElement.style.cursor="pointer"},!1),c.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):c.addEventListener?(c.addEventListener("mouseover",function(t){t.target.style.cursor="default"},!1),c.addEventListener("mouseout",function(t){t.target.style.cursor="default"},!1)):(c.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),c.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(c.style.borderBottom="1px solid #ddd",c.style.marginLeft="25px"),n.appendChild(c),i[l]&&i[l][1]&&"function"==typeof i[l][1]?c.addEventListener("click",i[l][1],!1):i[l]&&i[l][1]&&DxChart.isArray(i[l][1])&&function(){var t=i[l][1];c.addEventListener("mouseover",function(i){DxChart.contextMenu_submenu(e,t,i.target)},!1)}()}return n.style.width=n.offsetWidth+10+"px",n.style.height=n.offsetHeight-2+"px",o+n.offsetWidth>document.body.offsetWidth&&(o-=n.offsetWidth),n.style.left=o+"px",n.style.top=r+"px",setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.2",50),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.4",100),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.6",150),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.8",200),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 1",250),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.2",50),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.4",100),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.6",150),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.8",200),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 1",250),DxChart.Registry.set("contextmenu",n),DxChart.Registry.set("contextmenu.bg",h),DxChart.Registry.get("contextmenu").oncontextmenu=function(){return!1},DxChart.Registry.get("contextmenu.bg").oncontextmenu=function(){return!1},a.addEventListener("click",function(){DxChart.hideContext()},!1),window.addEventListener("click",function(){DxChart.hideContext()},!1),window.addEventListener("resize",function(){DxChart.hideContext()},!1),"function"==typeof e.getShape&&(DxChart.Registry.get("contextmenu").__shape__=e.getShape(s)),s.stopPropagation(),DxChart._fireEvent(e,"oncontextmenu"),!1},DxChart.hideContext=function(){var t=DxChart.Registry.get("contextmenu"),e=DxChart.Registry.get("contextmenu.bg");DxChart.hideContextSubmenu(),t&&(t.parentNode.removeChild(t),e.parentNode.removeChild(e),t.style.visibility="hidden",t.style.display="none",DxChart.Registry.set("contextmenu",null),e.style.visibility="hidden",e.style.display="none",DxChart.Registry.set("contextmenu.bg",null))},DxChart.hideContextSubmenu=function(){var t=DxChart.Registry.get("contextmenu.submenu");t&&(t.style.visibility="none",t.style.display="none",DxChart.Registry.set("contextmenu.submenu",null))},DxChart.showContext=function(){var t=DxChart.getArgs(arguments,"object").object;if(DxChart.hidePalette(),t.get("contextmenu")&&t.get("contextmenu").length){var e=navigator.userAgent.indexOf("Opera")>=0,i=navigator.userAgent.indexOf("Safari")>=0,s=navigator.userAgent.indexOf("Chrome")>=0,a=navigator.userAgent.indexOf("Firefox")>0&&navigator.userAgent.indexOf("Mac")>0;navigator.userAgent.indexOf("MSIE 9");(e||i)&&!s||a?t.canvas.addEventListener("dblclick",function(e){if(e.ctrlKey)return!0;DxChart.Registry.get("contextmenu")||DxChart.contextMenu(t,t.get("contextmenu"),e)},!1):t.canvas.oncontextmenu=function(e){return!!e.ctrlKey||(DxChart.contextMenu(t,t.get("contextmenu"),e),!1)}}},DxChart.contextMenu_submenu=function(){var t=DxChart.getArgs(arguments,"object,menuitems,parentMenuItem"),e=t.object,i=t.menuitems,s=t.parentMenuItem;DxChart.hideContextSubmenu();var a=e.canvas,o=(e.context,s.parentNode),r=document.createElement("DIV");r.style.position="absolute",r.style.width="100px",r.style.top=o.offsetTop+s.offsetTop+"px",r.style.left=o.offsetLeft+o.offsetWidth+"px",r.style.backgroundColor="white",r.style.border="1px solid black",r.className="DxChart_contextmenu",r.__contextmenu__=o,r.style.lineHeight="initial",r.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",r.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",r.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",r.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",document.body.appendChild(r);for(var n=0;n<i.length;++n){var h=document.createElement("DIV");h.__canvas__=a,h.__contextmenu__=o,h.className="DxChart_contextmenu_item",i[n]?(h.style.padding="2px 5px 2px 23px",h.style.fontFamily="Arial",h.style.fontSize="10pt",h.style.fontWeight="normal",h.style.textAlign="left",h.innerHTML=i[n][0],i[n][1]?h.addEventListener?(h.addEventListener("mouseover",function(t){t.target.style.backgroundColor="rgba(0,0,0,0.2)",t.target.style.cursor="pointer"},!1),h.addEventListener("mouseout",function(t){t.target.style.backgroundColor="inherit",t.target.style.cursor="default"},!1)):(h.attachEvent("onmouseover",function(){event.srcElement.style.backgroundColor="rgba(0,0,0,0.2)",event.srcElement.style.cursor="pointer"},!1),h.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):h.addEventListener?(h.addEventListener("mouseover",function(t){t.target.style.cursor="default"},!1),h.addEventListener("mouseout",function(t){t.target.style.cursor="default"},!1)):(h.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),h.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(h.style.borderBottom="1px solid #ddd",h.style.marginLeft="25px"),r.appendChild(h),i[n]&&i[n][1]&&(document.all?h.attachEvent("onclick",i[n][1]):h.addEventListener("click",i[n][1],!1))}var l=document.createElement("DIV");l.className="DxChart_contextmenu_background",l.style.position="absolute",l.style.backgroundColor="#ccc",l.style.borderRight="1px solid #aaa",l.style.top=0,l.style.left=0,l.style.width="18px",l.style.height="100%",l=r.appendChild(l),DxChart.Registry.set("contextmenu.submenu",r)},DxChart.showPNG=function(){if(arguments[0]&&arguments[0].id)var t=arguments[0],e=arguments[1];else if(DxChart.Registry.get("contextmenu"))t=DxChart.Registry.get("contextmenu").__canvas__;else alert("[RGRAPH SHOWPNG] Could not find canvas!");var i=t.__object__,s=document.createElement("DIV");s.id="__DxChart_image_bg__",s.style.position="fixed",s.style.top="-10px",s.style.left="-10px",s.style.width="5000px",s.style.height="5000px",s.style.backgroundColor="rgb(204,204,204)",s.style.opacity=0,document.body.appendChild(s);var a=document.createElement("DIV");a.style.backgroundColor="white",a.style.opacity=0,a.style.border="1px solid black",a.style.position="fixed",a.style.top="20%",a.style.width=t.width+"px",a.style.height=t.height+35+"px",a.style.left=document.body.clientWidth/2-t.width/2+"px",a.style.padding="5px",a.style.borderRadius="10px",a.style.MozBorderRadius="10px",a.style.WebkitBorderRadius="10px",a.style.boxShadow="0 0 15px rgba(96,96,96,0.5)",a.style.MozBoxShadow="0 0 15px rgba(96,96,96,0.5)",a.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",a.__canvas__=t,a.__object__=i,a.id="__DxChart_image_div__",document.body.appendChild(a),a.innerHTML+='<div id="DxChart_showpng_div_container"><textarea onclick="this.select()" readonly="readonly" id="__DxChart_dataurl__">'+t.toDataURL()+"</textarea></div>";var o=document.getElementById("__DxChart_dataurl__");o.style.overflow="hidden",o.style.height="20px",o.style.width=t.width-i.marginLeft-i.marginRight+"px",o.style.position="relative",o.style.left=i.marginLeft+"px";var r=document.getElementById("DxChart_showpng_div_container");r.style.position="absolute",r.style.top=t.height+"px",r.style.width=t.width+"px",r.style.height="25px";var n=document.createElement("IMG");DxChart.Registry.set("png",n),n.__canvas__=t,n.__object__=i,n.id="__DxChart_image_img__",n.className="DxChart_png",n.src=t.toDataURL(),a.appendChild(n),setTimeout(function(){document.getElementById("__DxChart_dataurl__").select()},50),window.addEventListener("resize",function(t){var e=DxChart.Registry.get("png");e.style.left=document.body.clientWidth/2-e.width/2+"px"},!1),s.onclick=function(t){var e=document.getElementById("__DxChart_image_div__"),i=document.getElementById("__DxChart_image_bg__");e&&(e.style.opacity=0,e.parentNode.removeChild(e),e.id="",e.style.display="none",e=null),i&&(i.style.opacity=0,i.id="",i.style.display="none",i=null)},window.addEventListener("resize",function(t){s.onclick(t)},!1),DxChart.showpng_image_bg=s,DxChart.showpng_image_div=a,setTimeout("DxChart.showpng_image_div.style.opacity = 0.2",50),setTimeout("DxChart.showpng_image_div.style.opacity = 0.4",100),setTimeout("DxChart.showpng_image_div.style.opacity = 0.6",150),setTimeout("DxChart.showpng_image_div.style.opacity = 0.8",200),setTimeout("DxChart.showpng_image_div.style.opacity = 1",250),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.1",50),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.2",100),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.3",150),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.4",200),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.5",250),n.onclick=function(t){t.stopPropagation?t.stopPropagation():e.cancelBubble=!0},e&&e.stopPropagation&&e.stopPropagation()}}(),window)DxChart=window.DxChart||{isDxChart:!0,isDxChart:!0,DxChart:!0};else{var window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0,isDxChart:!0,DxChart:!0};nexacro.DxChart||(nexacro.DxChart=DxChart);var document={}}function DxChartActivity(t){return DxChart._Base.call(this,t,"activity"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"default"),this.properties.marginInner=1,this.properties.labelsData=[],this.properties.backgroundColor="black",this.properties.textFontStyle='12px "Arial, Verdana, sans-serif"',this.properties.textColor="#ffffff",this.properties.backgroundGrid=!1,this.properties.backgroundGridCircles=!0,this.properties.backgroundGridRadialsCount=8,this.properties.labelsBackgroundFill="transparent",this.properties.labelsBackgroundStroke="transparent",this.properties.highlightFill="rgba(255,255,255,0.5)",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.tooltipsEvent="onclick",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),this.max=DxChart.str2num(e),this.value=DxChart.str2num(i),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.angles=[],this.images=[],"number"==typeof this.value&&(this.value=[this.value]);for(var s=0;s<this.value.length;++s)this.value[s]<=1e-7&&(this.value[s]=1e-7)},this.draw=function(){var t=this.properties;DxChart._BeforeDraw(this,!0),"number"==typeof this.value&&(this.value=[this.value]);for(var e=0;e<this.value.length;++e)this.value[e]>this.max&&(this.value[e]=this.max),this.value[e]<this.min&&(this.value[e]=this.min);return this.currentValue=DxChart.arrayClone(this.value),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginBottom-this.marginTop)/2+this.marginTop,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.width="number"==typeof t.width?t.width:.75*this.radius/this.value.length,this.width=this.width-t.marginInner-t.marginInner,"string"==typeof t.width&&(this.width+=Number(t.width)),this.parseColors(),this.drawBackground(),this.drawMeter(),this.drawLabels(),this.drawIcons(),this.drawEnds(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties;if(t.backgroundColor&&this.path("fs % fr -5 -5 % %",t.backgroundColor,this.canvas.width+10,this.canvas.height+10),t.backgroundGrid&&t.backgroundGridCircles){if("number"==typeof t.backgroundGridCirclesCount)var e=t.backgroundGridCirclesCount;else e=this.value.length+1;for(var i=0;i<e;i++){var s=this.radius-i*(this.width+2*t.marginInner);this.path("b a % % % 0 6.29 false s %",this.centerx,this.centery,s,t.backgroundGridColor)}if(t.backgroundGridRadials){var a=DxChart.TWOPI/t.backgroundGridRadialsCount;for(i=0;i<=t.backgroundGridRadialsCount;++i)this.path("b    a % % % % % %     a % % % % % %    s %",this.centerx,this.centery,s,i*a-DxChart.HALFPI,i*a-DxChart.HALFPI,!1,this.centerx,this.centery,this.radius,i*a-DxChart.HALFPI,i*a-DxChart.HALFPI,!1,t.backgroundGridColor)}}},this.drawMeter=function(){var t,e=this.properties,i=this.radius-e.marginInner;if(e.backgroundRings){this.context.globalAlpha=e.backgroundRingsAlpha,isNexacroRuntime&&this.context.setElementGlobalAlpha(e.backgroundRingsAlpha);for(var s=0;s<this.value.length;++s)t=DxChart.isArray(e.backgroundRingsColors)&&"string"==typeof e.backgroundRingsColors[s]?e.backgroundRingsColors[s]:e.colors[s],isNexacroRuntime||this.path("b a % % % % % false  a % % % % % true       f %",this.centerx,this.centery,i-s*(e.marginInner+e.marginInner+this.width),0-DxChart.HALFPI,DxChart.TWOPI-DxChart.HALFPI,this.centerx,this.centery,i-this.width-s*(e.marginInner+e.marginInner+this.width),DxChart.TWOPI-DxChart.HALFPI,0-DxChart.HALFPI,t);this.context.globalAlpha=1,isNexacroRuntime&&this.context.setElementGlobalAlpha(1)}if(isNexacroRuntime){var a=("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background;for(s=0;s<this.value.length;++s){var o=(this.value[s]-this.min)/(this.max-this.min)*DxChart.TWOPI;t=DxChart.isArray(e.backgroundRingsColors)&&"string"==typeof e.backgroundRingsColors[s]?e.backgroundRingsColors[s]:e.colors[s],e.backgroundRings&&(this.path("b a % % % % % false fs % ga % fi",this.centerx,this.centery,i-s*(e.marginInner+e.marginInner+this.width),0,2*Math.PI,a,1),this.path("b a % % % % % false fs % ga % fi",this.centerx,this.centery,i-s*(e.marginInner+e.marginInner+this.width),0,2*Math.PI,t,e.backgroundRingsAlpha)),this.path("b a % % % % % false l % % fs % ga % fi",this.centerx,this.centery,i-s*(e.marginInner+e.marginInner+this.width),0-DxChart.PI,o-DxChart.PI,this.centerx,this.centery,e.colors[s]||e.colors[0],1);var r="transparent";e.backgroundGrid&&e.backgroundGridColor&&(r=e.backgroundGridColor),s==this.value.length-1?this.path("b a % % % % % false f % s %",this.centerx,this.centery,i-this.width-s*(e.marginInner+e.marginInner+this.width),0-DxChart.PI,2*Math.PI,a,r):this.path("b a % % % % % false l % % f % s %",this.centerx,this.centery,i-this.width-s*(e.marginInner+e.marginInner+this.width),0-DxChart.PI,2*Math.PI,this.centerx,this.centery,a,r),this.angles[s]=this.coords[s]={x:this.centerx,y:this.centery,angleStart2:0-DxChart.PI,angleEnd2:o-DxChart.PI,angleStart:0-DxChart.HALFPI,angleEnd:o-DxChart.HALFPI,radiusInner:i-this.width-s*(e.marginInner+e.marginInner+this.width),radiusOuter:i-s*(e.marginInner+e.marginInner+this.width),color:e.colors[s]}}}else for(s=0;s<this.value.length;++s){o=(this.value[s]-this.min)/(this.max-this.min)*DxChart.TWOPI;this.path("b       a % % % % % false          a % % % % % true       f %",this.centerx,this.centery,i-s*(e.marginInner+e.marginInner+this.width),0-DxChart.HALFPI,o-DxChart.HALFPI,this.centerx,this.centery,i-this.width-s*(e.marginInner+e.marginInner+this.width),o-DxChart.HALFPI,0-DxChart.HALFPI,e.colors[s]),this.angles[s]=this.coords[s]={x:this.centerx,y:this.centery,angleStart:0-DxChart.HALFPI,angleEnd:o-DxChart.HALFPI,radiusInner:i-this.width-s*(e.marginInner+e.marginInner+this.width),radiusOuter:i-s*(e.marginInner+e.marginInner+this.width),color:e.colors[s]}}DxChart.text({object:this,x:-1e4,y:-1e4,color:"transparent",text:""})},this.drawLabels=function(){var t=this.properties;if(t.labelsCenter){var e=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});DxChart.text({object:this,text:String(t.labelsCenterSpecific?t.labelsCenterSpecific:DxChart.numberFormat({object:this,number:this.value[t.labelsCenterIndex].toFixed(t.labelsCenterDecimals),unitspre:t.labelsCenterUnitsPre,unitspost:t.labelsCenterUnitsPost,point:t.labelsCenterPoint,thousand:t.labelsCenterThousand})),x:this.centerx+t.labelsCenterOffsetX,y:this.centery+t.labelsCenterOffsetY,halign:"center",valign:"center",color:e.color,size:e.size,font:e.font,bold:e.bold,italic:e.italic})}e=DxChart.getTextInfo({object:this,prefix:"labels"});"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.coords.length,value:t.labelsData}));for(var i=0;i<t.labelsData.length;++i){if("object"==typeof t.labelsData&&t.labelsData.length&&"string"==typeof t.labelsData[i])var s=DxChart.labelSubstitution({object:this,text:t.labelsData[i],index:i,value:this.value[i],decimals:t.labelsFormattedDecimals,point:t.labelsFormattedPoint,thousand:t.labelsFormattedThousand,unitsPre:t.labelsFormattedUnitsPre,unitsPost:t.labelsFormattedUnitsPost});DxChart.text({object:this,text:DxChart.isString(t.labelsData[i])||DxChart.isNumber(t.labelsData[i])?s:"",x:this.coords[i].x-5+t.labelsOffsetX,y:this.coords[i].y-this.coords[i].radiusOuter+(this.coords[i].radiusOuter-this.coords[i].radiusInner)/2+t.labelsOffsetY,valign:"center",halign:"right",bounding:!0,boundingFill:t.labelsBackgroundFill,boundingStroke:t.labelsBackgroundStroke,textInfoPrefix:"labels"})}},this.drawIcons=function(){for(var t=this.properties,e=0;e<this.value.length;++e)if("string"==typeof t.icons[e]&&t.icons[e].length){this.images[e]=new Image,this.images[e].src=t.icons[e],this.images[e].index=e;var i=this;this.images[e].onload=function(){var e=this.width,s=e;e>=i.width&&(e-=10,s-=10),"number"==typeof t.iconsWidth&&(e=t.iconsWidth),"number"==typeof t.iconsHeight&&(s=t.iconsHeight);var a=i.centerx-e/3+("straight"===t.ends||"square"===t.ends?15:0),o=i.centery-i.coords[this.index].radiusOuter+(i.coords[this.index].radiusOuter-i.coords[this.index].radiusInner)/2-s/2;a+=t.iconsOffsetX,o+=t.iconsOffsetY,i.context.drawImage(this,a,o,e,s)}}},this.drawEnds=function(){var t=this.properties;if("straight"!==t.ends&&"square"!==t.ends)for(var e=0;e<this.coords.length;++e){var i=this.coords[e].x,s=this.coords[e].y-(this.coords[e].radiusOuter-this.coords[e].radiusInner)/2-this.coords[e].radiusInner;this.path("b a % % % % % false f %",i,isNexacroRuntime&&t.marginInner>1?s+t.marginInner/2-1:s,this.width/2,0,6.29,t.colors[e]);var a=DxChart.getRadiusEndPoint(this.centerx,this.centery,this.coords[e].angleEnd,(this.coords[e].radiusOuter-this.coords[e].radiusInner)/2+this.coords[e].radiusInner);this.path("b a % % % % % false f %",a[0],a[1],(this.coords[e].radiusOuter-this.coords[e].radiusInner)/2,0,6.29,t.colors[e])}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=this.coords.length-1;o>=0;o--){if(this.context.beginPath(),this.context.arc(this.coords[o].x,this.coords[o].y,this.coords[o].radiusOuter,this.coords[o].angleStart,this.coords[o].angleEnd,!1),this.context.arc(this.coords[o].x,this.coords[o].y,this.coords[o].radiusInner,this.coords[o].angleEnd,this.coords[o].angleStart,!0),e.ends){this.context.arc(this.coords[o].x,this.coords[o].y-this.coords[o].radiusInner-this.width/2,this.width/2,DxChart.HALFPI,DxChart.PI+DxChart.HALFPI,!1);var r=DxChart.getRadiusEndPoint(this.centerx,this.centery,this.coords[o].angleEnd,(this.coords[o].radiusOuter-this.coords[o].radiusInner)/2+this.coords[o].radiusInner);this.context.moveTo(r[0],r[1]),this.context.arc(r[0],r[1],(this.coords[o].radiusOuter-this.coords[o].radiusInner)/2,0,6.29,!1)}if(this.context.isPointInPath(s,a)){if(DxChart.parseTooltipText)var n=DxChart.parseTooltipText(e.tooltipsData,o);return{object:this,x:this.coords[o].x,y:this.coords[o].y,radiusInner:this.coords[o].radiusInner,radiusOuter:this.coords[o].radiusOuter,angleStart:this.coords[o].angleStart,angleEnd:this.coords[o].angleEnd,tooltip:"string"==typeof n?n:null,label:e.labelsData&&"string"==typeof e.labelsData[o]?e.labelsData[o]:null,dataset:0,index:o,sequentialIndex:o}}}},this.getValue=function(t){var e=DxChart.getMouseXY(t),i=DxChart.getAngleByXY(this.centerx,this.centery,e[0],e[1]);(i+=DxChart.HALFPI)>DxChart.TWOPI&&(i-=DxChart.TWOPI);var s=i/DxChart.TWOPI*(this.max-this.min)+this.min;return s=Math.max(s,this.min),s=Math.min(s,this.max)},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t),i=(this.width,DxChart.getHypLength(this.centerx,this.centery,e[0],e[1]));return i>this.radius||i<.25*this.radius?null:this},this.changing_mousemove=function(t){if(this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){var e=DxChart.getMouseXY(t),i=DxChart.getHypLength(this.centerx,this.centery,e[0],e[1]),s=this.getIndexByRadius(i);"number"!=typeof DxChart.Registry.get("changing.index")?(DxChart.Registry.set("changing.index",s),DxChart.addCustomEventListener(this,"onchangeend",function(){DxChart.Registry.set("changing.index",null)})):s=DxChart.Registry.get("changing.index"),"number"==typeof s&&(this.value[s]=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onchange"))}},this.getIndexByRadius=function(t){for(var e=0;e<this.coords.length;++e)if(t<this.coords[e].radiusOuter&&t>this.coords[e].radiusInner)return e;return null},this.getAngle=function(t){if(t>this.max||t<this.min)return null;var e=(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI;return t===this.max&&(e-=1e-5),t===this.min&&(e+=1e-5),e},this.highlight=function(t){if(!isNexacroRuntime){var e=this.properties;if("function"==typeof e.highlightStyle)e.tooltipsHighlight&&e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle){if(e.tooltipsHighlight){this.context.beginPath();for(var i=0;i<this.coords.length;++i)t.index!==i&&this.pathBar(i);this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke(),this.context.fill()}}else e.tooltipsHighlight&&(this.context.beginPath(),this.pathBar(t.index),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke(),this.context.fill())}},this.pathBar=function(t){var e=this.properties;isNexacroRuntime?(this.context.arc(this.coords[t].x,this.coords[t].y,this.coords[t].radiusOuter,0-DxChart.PI,this.coords[t].angleEnd2,!1),this.context.lineTo(this.coords[t].x,this.coords[t].y)):this.context.arc(this.coords[t].x,this.coords[t].y,this.coords[t].radiusOuter,0-DxChart.HALFPI,this.coords[t].angleEnd,!1);var i=DxChart.getRadiusEndPoint(this.centerx,this.centery,this.coords[t].angleEnd,this.coords[t].radiusInner+(this.coords[t].radiusOuter-this.coords[t].radiusInner)/2);"round"===e.ends&&this.context.arc(i[0],i[1],this.width/2,this.coords[t].angleEnd,this.coords[t].angleEnd+DxChart.PI,!1),isNexacroRuntime||this.context.arc(this.coords[t].x,this.coords[t].y,this.coords[t].radiusInner,this.coords[t].angleEnd,this.coords[t].angleStart,!0),"round"===e.ends&&this.context.arc(this.centerx,this.centery-this.coords[t].radiusInner-(this.coords[t].radiusOuter-this.coords[t].radiusInner)/2,this.width/2,DxChart.HALFPI,DxChart.PI+DxChart.HALFPI,!1)},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.value[t.index],values:this.value}},this.tooltipsFormattedCustom=function(t,e){return{label:this.properties.tooltipsFormattedKeyLabels[e]}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index],o=DxChart.getRadiusEndPoint(this.centerx,this.centery,(a.radiusOuter-a.radiusInner)/2+a.radiusInner,(a.angleEnd-a.angleStart)/2+(0-DxChart.HALFPI));isNexacroRuntime?(t.tooltip.set_left(s[0]+o[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+o[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+o[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+o[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),isNexacroRuntime?t.tooltip.getOffsetTop()<0&&t.tooltip.set_top(5):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top="5px")},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor);var e=t.colors;if(e&&e.length)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t&&""!=t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.cancelStopAnimation();var t=this;if("number"==typeof this.value&&(this.value=[this.value]),DxChart.isNull(this.currentValue)){this.currentValue=[];for(var e=0;e<this.value.length;++e)this.currentValue[e]=this.min}var i=(arguments[0]||{}).frames||30,s=0,a=[],o=[],r=arguments[1]||function(){},n=[];for(e=0;e<this.value.length;++e)a[e]=this.value[e]-this.currentValue[e],o[e]=a[e]/i,n[e]=this.currentValue[e];return function e(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{for(var a=0;a<t.value.length;++a)t.value[a]=n[a]+s*o[a];s++,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),s<=i?DxChart.Effects.updateCanvas(e,t.canvas):r(t)}}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartBar(t){return DxChart._Base.call(this,t,"bar"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"errorbars"),DxChart.setDefaultProperties(this,"combined"),DxChart.setDefaultProperties(this,"default"),this.imagesequence=0,this.properties.variantValue="bar",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",this.properties.marginInner=5,this.properties.xaxisLabelsPosition="section",this.properties.grouping="grouped",this.properties.variantDotRadius=2,this.properties.variantDotDefaultColor=null,this.properties.colorsGradientFullSize=!1,t.binddataset&&t.data.toString().indexOf("bind:")>=0&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t);for(var e=0;e<t.length;++e)"object"!=typeof t[e]||DxChart.isNull(t[e])||(this.stackedOrGrouped=!0);var i=DxChart.arrayLinearize(t);for(e=0;e<i.length;++e)this["$"+e]={};this.data=t,this.orgData=DxChart.arrayClone(t),this.data_arr=DxChart.arrayLinearize(this.data)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);this.imagesequence++;var t=this.properties;if(DxChart._BeforeDraw(this),"top"===t.xaxisPosition)for(var e=0;e<this.data.length;++e)if("object"==typeof this.data[e]&&"grouped"===t.grouping)for(var i=0;i<this.data[e].length;++i)this.data[e][i]=-1*Math.abs(this.data[e][i]);else"number"==typeof this.data[e]&&(this.data[e]=-1*Math.abs(this.data[e]));return"3d"===t.variantValue&&(t.textAccessible||this.context.setTransform(1,t.variantThreedAngle,0,1,.5,.5)),("pyramid"==t.variantValue||"dot"==t.variantValue)&&"object"==typeof t.tooltipsData&&t.tooltipsData&&t.tooltipsData.length,this.coords=[],this.coords2=[],this.coordsText=[],this.max=0,this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=t.textFontStyleObj.size/2,DxChart.Background.draw(this),this.drawbars(),this.drawAxes(),this.drawLabels(),(t.beveled||t.beveled)&&this.drawBevel(),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),t.contextmenu&&DxChart.showContext(this),t.errorbarsValue&&this.drawErrorbars(),t.labelsIngraph&&DxChart.drawInGraphLabels(this),DxChart.addCustomText(this),DxChart.drawHorizontalLines(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){var t=this.properties;if(-1==DxChart.ISSAFARI&&(this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)),t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:this.data.length,value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e)t.xaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.xaxisLabels[e],index:e,value:this.data[e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."})}DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this.drawImage=function(t,e,i,s,a,o,r,n){var h;null==n&&(n=0);var l=t.split("/").join("");l=l.split("::").join("");var c=t;isNexacroRuntime&&(h={});var x=this.imagesequence;if("string"==typeof t)if(void 0===this.canvas["_cached_"+l+s]){var d=this;if(isNexacroRuntime){h.src=c,h.handle=nexacro._getImageObject(c,function(t,c,u,g){h.width=c,h.height=u,h.imagewidth=c,h.imageheight=u,d._drawImageCallback(x,l,h,e,i,s,a,o,n,r)},this,"",!1)}else{if(h=new Image,nexacro){if("url("==c.substring(0,4).toLowerCase()&&(c=c.substring(5,c.length-2)),!c||!c.length)return null;c=nexacro._getImageLocation(c)}h.onload=function(){d._drawImageCallback(x,l,h,e,i,s,a,o,n,r)},h.src=c}}else h=this.canvas["_cached_"+l+s],this._drawImageCallback(x,l,h,e,i,s,a,o,n,r)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){if(t==this.imagesequence){this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i);var x=this.context,d=x.lineWidth;if(x.save(),"rect"==n)x.beginPath(),x.moveTo(s,a),x.lineTo(s+o,a),x.lineTo(s+o,a+r),x.lineTo(s,a+r),x.lineTo(s,a),x.lineTo(s,a);else if("arc"==n){var u=parseInt(s+o/2),g=parseInt(a+r/2),p=parseInt(o/2);x.beginPath(),x.moveTo(u,g),x.arc(u,g,p,0,2*DxChart.PI)}h>0&&(x.lineWidth=h,isNexacroRuntime&&x.setElementLineWidth(h),x.strokeStyle=l,isNexacroRuntime&&x.setElementStrokeStyle(l),x.stroke()),x.clip(),x.drawImage(i,s,a,o,r),x.restore(),x.lineWidth=d,isNexacroRuntime&&x.setElementLineWidth(d)}},this.drawAboveImage=function(t,e,i,s,a,o,r){var n=this.properties;if(n.labelsAboveImageUrl){var h=n.labelsAboveImageGap||0,l=n.labelsAboveImageType||"rect",c=n.labelsAboveImageLineColor||"#dddddd",x=n.labelsAboveImageLineWidth||1,d=n.labelsAboveImageWidth||s,u=n.labelsAboveImageHeight||s;if("number"==typeof n.labelsAboveImageWidth&&"number"==typeof n.labelsAboveImageHeight)if(r>n.labelsAboveImageWidth)d=n.labelsAboveImageWidth,u=n.labelsAboveImageHeight;else{d=r;var g=r/n.labelsAboveImageWidth;u=parseInt(n.labelsAboveImageHeight*g)}e+=o,r>(d=Math.min(d,r))&&(e=e+r/2-d/2),i=i-(u=Math.min(u,r))-h,this.drawImage(t,e,i,d,u,l,c,x)}},this.drawbarsSingleBar=function(t,e,i,s,a,o,r,n,h){var l=this.properties;switch(e){case"sketch":this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap);if(this.context.beginPath(),this.context.strokeStyle=l.colors[0],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),l.colorsSequential&&(this.context.strokeStyle=l.colors[t],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle)),this.context.moveTo(i+r+2,s+o-2),this.context.lineTo(i+r-1,s-4),this.context.moveTo(i+r-3,s+-2+(this.data[t]<0?o:0)),this.context.quadraticCurveTo(i+r+(a-r-r)/4,s+0+(this.data[t]<0?o:0)+(this.data[t]>0?10:-10),i+r+a+-1-r-r,s+0+(this.data[t]<0?o:0)),this.context.moveTo(i+r+a-5-r-r,s-5),this.context.lineTo(i+r+a-3-r-r,s+o-3),l.variantSketchVerticals)for(var c=.2;c<=.8;c+=.2)this.context.moveTo(i+r+(a-r-r)*c,s-1),this.context.lineTo(i+r+(a-r-r)*c,s+o+(.2==c?1:-2));this.context.stroke();break;case"cylinder":var x=(v=i+r)+n,d=s+o-l.variantThreedOffsetY/2,u=v+(x-v)/2,g=l.variantThreedOffsetY,p=h,f=h;if(h.indexOf("gradient")<0){var m=DxChart._shadeColor(h,-20),b=DxChart._shadeColor(h,20),C=DxChart._shadeColor(h,50),y="linear-gradient(to right,"+b+" 0%,"+m+" 25%,"+b+" 100%)";p="linear-gradient(to right bottom,"+m+" 0%,"+b+" 100%)",this.context.fillStyle=DxChart.parseGradient(this,y,v,s-g,n,o+g),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),f=C}this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.moveTo(v,s),this.context.quadraticCurveTo(u,s+g,x,s),this.context.lineTo(x,d),this.context.quadraticCurveTo(u,d+g,v,d),this.context.lineTo(v,s),this.context.stroke(),this.context.fill(),this.context.fillStyle=DxChart.parseGradient(this,p,v,s-g,n,o+g),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(v,s),this.context.quadraticCurveTo(u,s+g,x,s),this.context.quadraticCurveTo(u,s-g,v,s),this.context.stroke(),this.context.fill(),this.context.strokeStyle=f,isNexacroRuntime&&this.context.setElementFillStyle(f),this.context.beginPath(),this.context.moveTo(x,d),this.context.quadraticCurveTo(u,d+g,v,d),this.context.stroke();break;case"triangle":this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap);var v,D=s,S=(v=i+r)+n/2,k=v+n,w=s+o;"center"===l.xaxisPosition?(this.data[t]<0&&(D+=2,w+=2),this.context.moveTo(v,w),this.context.lineTo(k,w),this.context.lineTo(S,D),this.context.lineTo(v,w),this.context.stroke(),this.context.fill()):(this.context.moveTo(v,D),this.context.lineTo(k,D),this.context.lineTo(S,w),this.context.lineTo(v,D),this.context.stroke(),this.context.fill());break;case"bar":case"3d":case"glass":case"bevel":if("glass"==e?(DxChart.roundedRect({context:this.context,x:i+r,y:s,width:n,height:o,radius:5,roundtl:this.data[t]>0,roundtr:this.data[t]>0,roundbl:this.data[t]<0,roundbr:this.data[t]<0}),this.context.stroke(),this.context.fill()):"round"===l.corners?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.data[t]<0||"top"===l.xaxisPosition?this.roundedCornersRectNegative(i+r,s,n,o):this.roundedCornersRect(i+r,s,n,o),this.context.stroke(),this.context.fill()):("top"===l.xaxisPosition&&(s+=o),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(i+r,s,n,o),this.context.stroke(),this.context.fill()),l.labelsAboveImageUrl&&l.labelsAboveImageUrl[t]&&this.drawAboveImage(l.labelsAboveImageUrl[t],i,s,a,o,r,n),"3d"==e){var _=this.context.strokeStyle,T=this.context.fillStyle;this.data[t]>=0&&(this.context.beginPath(),this.context.moveTo(i+r,s),this.context.lineTo(i+r+l.variantThreedOffsetX,s-l.variantThreedOffsetY),this.context.lineTo(i+r+l.variantThreedOffsetX+n,s-l.variantThreedOffsetY),this.context.lineTo(i+r+n,s),this.context.closePath(),this.context.stroke(),this.context.fill()),this.context.beginPath(),this.context.moveTo(i+r+n,s),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&"bottom"===l.xaxisPosition?this.getYCoord(0):this.data[t]<0&&s-l.variantThreedOffsetY<this.marginTop+this.ChartAreaHalf?this.marginTop+this.ChartAreaHalf:s-l.variantThreedOffsetY),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&s-l.variantThreedOffsetY+o<this.marginTop+this.getYCoord(0)?this.getYCoord(this.data[t])-l.variantThreedOffsetY:this.data[t]>0?s-l.variantThreedOffsetY+o:Math.min(s-l.variantThreedOffsetY+o,this.canvas.height-this.marginBottom)),this.context.lineTo(i+r+n,s+o),this.context.closePath(),this.context.stroke(),this.context.fill(),this.data[t]>0&&(this.context.beginPath(),this.context.fillStyle="rgba(255,255,255,0.5)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.5)"),this.context.moveTo(i+r,s),this.context.lineTo(i+r+l.variantThreedOffsetX,s-l.variantThreedOffsetY),this.context.lineTo(i+r+l.variantThreedOffsetX+n,s-l.variantThreedOffsetY),this.context.lineTo(i+r+n,s),this.context.lineTo(i+r,s),this.context.closePath(),this.context.stroke(),this.context.fill()),this.context.beginPath(),this.context.fillStyle="rgba(0,0,0,0.4)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(0,0,0,0.4)"),this.context.moveTo(i+r+n,s),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&"bottom"===xaxispos?this.getYCoord(0):this.data[t]<0&&s-l.variantThreedOffsetY<this.marginTop+this.ChartAreaHalf?this.marginTop+this.ChartAreaHalf:s-l.variantThreedOffsetY),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&s-l.variantThreedOffsetY+o<this.getYCoord(0)?this.getYCoord(0):this.data[t]>0?s-l.variantThreedOffsetY+o:Math.min(s-l.variantThreedOffsetY+o,this.canvas.height-this.marginBottom)),this.context.lineTo(i+r+n,s+o),this.context.lineTo(i+r+n,s),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=_,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=T,isNexacroRuntime&&this.context.setElementFillStyle(T)}else if("glass"==e){var P=this.context.createLinearGradient(i+r,s,i+r+n/2,s);P.addColorStop(0,"rgba(255,255,255,0.9)"),P.addColorStop(1,"rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.fillStyle=P,isNexacroRuntime&&this.context.setElementFillStyle(P),this.context.rect(i+r+3,s+(this.data[t]>0?3:0),n/2-2,o-2),this.context.fill()}break;case"dot":var R;this.context.beginPath(),R=this.properties.variantDotDefaultColor?this.properties.variantDotDefaultColor:l.colorsSequential?this.properties.colors[t]:this.properties.colors[0],this.context.strokeStyle=R,isNexacroRuntime&&this.context.setElementStrokeStyle(R),this.context.moveTo(i+a/2,s),this.context.lineTo(i+a/2,s+o),this.context.stroke(),this.context.beginPath(),this.context.fillStyle=this.properties.colors[t],isNexacroRuntime&&this.context.setElementFillStyle(this.properties.colors[t]),this.context.arc(i+a/2,s+(this.data[t]>0?0:o),this.properties.variantDotRadius,0,6.28,0),l.colorsSequential?(this.context.fillStyle=l.colors[t],isNexacroRuntime&&this.context.setElementFillStyle(l.colors[t])):(this.context.fillStyle=l.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(l.colors[0])),this.context.stroke(),this.context.fill()}this.coords.push([i+r,s,a-2*r,o]),void 0===this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([i+r,s,a-2*r,o])},this.drawStackbars=function(t,e,i,s,a,o,r,n,h){var l=this.properties;this.scale2.min&&console.log("[ERROR] Stacked Bar charts with a Y min are not supported");var c=n-2*t,x=[],d=this.data[e];c<0&&console.log("Warning: you have a negative bar width. This may be caused by the marginInner being too high or the width of the canvas not being sufficient.");l.xaxisPosition;for(var u,g,p=0;p<d.length;++p){this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.data[e][p]<0&&0==p&&(r=this.getYCoord(0)),u=Math.abs(this.getYCoord(0)-this.getYCoord(this.data[e][p]));DxChart.arraySum(d),this.scale2.max,this.canvas.height,this.marginTop,this.marginBottom;this.coords.push([o+t,r,n-2*t,u]),void 0===this.coords2[e]&&(this.coords2[e]=[]),this.coords2[e].push([o+t,r,n-2*t,u]);var f,m=this.context.fillStyle;if(u>0)if(g=l.colorsReverse?i[this.data[e].length-p-1]:l.colorsSequential&&i[s]?i[s++]:l.colorsSequential?i[s-1]:i[p],this.context.fillStyle=DxChart.parseGradient(this,g,o+t,r,n-2*t,u),this.context.fillStyle||(this.context.fillStyle=m),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"cylinder"==l.variantValue&&"bottom"===l.xaxisPosition){var b=n-2*t,C=u,y=r,v=o+t,D=v+b,S=y+C,w=v+(D-v)/2,_=l.variantThreedOffsetY,T=g,P=g;if(g.indexOf("gradient")<0){var R=DxChart._shadeColor(g,-20),L=DxChart._shadeColor(g,20);P="linear-gradient(to right,"+L+" 0%,"+R+" 25%,"+L+" 100%)",T="linear-gradient(to right bottom,"+R+" 0%,"+L+" 100%)"}0===p&&(this.context.fillStyle=DxChart.parseGradient(this,T,v,y-_,b,C+_),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(v,y),this.context.quadraticCurveTo(w,y+_,D,y),this.context.quadraticCurveTo(w,y-_,v,y),this.context.stroke(),this.context.fill()),p===d.length-1&&(S-=l.variantThreedOffsetY/2),this.context.fillStyle=DxChart.parseGradient(this,P,v,y-_,b,C+_),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(v,y),this.context.quadraticCurveTo(w,y+_,D,y),this.context.lineTo(D,S),this.context.quadraticCurveTo(w,S+_,v,S),this.context.lineTo(v,y),this.context.stroke(),this.context.fill()}else 0===p&&"round"===l.corners&&"bottom"===l.xaxisPosition?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.roundedCornersRect(o+t,r,n-2*t,u),this.context.stroke(),this.context.fill()):p===d.length-1&&"round"===l.corners&&"top"===l.xaxisPosition?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.roundedCornersRectNegative(o+t,r,n-2*t,u),this.context.stroke(),this.context.fill()):this.path("b lj % lc % r % % % % s % f %","miter","square",o+t,r,n-2*t,u,this.context.strokeStyle,this.context.fillStyle);if(0==p&&(r,f=o),h&&x.push([o+t,r,n-2*t,u,this.context.fillStyle]),"3d"==l.variantValue){var j=this.context.fillStyle,F=this.context.strokeStyle;0==p&&(this.context.beginPath(),this.context.moveTo(f+t,r),this.context.lineTo(f+l.variantThreedOffsetX+t,r-l.variantThreedOffsetY),this.context.lineTo(f+l.variantThreedOffsetX+c+t,r-l.variantThreedOffsetY),this.context.lineTo(f+c+t,r),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.beginPath(),this.context.moveTo(f+c+t,r),this.context.lineTo(f+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY),this.context.lineTo(f+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY+u),this.context.lineTo(f+c+t,r+u),this.context.closePath(),this.context.fill(),this.context.stroke(),0==p&&(this.context.fillStyle="rgba(255,255,255,0.5)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.moveTo(f+t,r),this.context.lineTo(f+l.variantThreedOffsetX+t,r-l.variantThreedOffsetY),this.context.lineTo(f+l.variantThreedOffsetX+c+t,r-l.variantThreedOffsetY),this.context.lineTo(f+c+t,r),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.fillStyle="rgba(0,0,0,0.4)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(0,0,0,0.4)"),this.context.beginPath(),this.context.moveTo(f+c+t,r),this.context.lineTo(f+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY),this.context.lineTo(f+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY+u),this.context.lineTo(f+c+t,r+u),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.strokeStyle=F,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=j,isNexacroRuntime&&this.context.setElementFillStyle(j)}r+=u}if(h){for(DxChart.noShadow(this),k=0;k<x.length;++k)this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=x[k][4],isNexacroRuntime&&this.context.setElementFillStyle(x[k][4]),this.context.strokeRect(x[k][0],x[k][1],x[k][2],x[k][3]),this.context.fillRect(x[k][0],x[k][1],x[k][2],x[k][3]),this.context.stroke(),this.context.fill();x=[]}return[r,s]},this.drawGroupbars=function(t,e,i,s,a,o,r,n,h){var l,c=this.properties,x=c.xaxisPosition,d=[];this.context.lineWidth=c.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var u=0;u<this.data[t].length;++u){var g=(h-2*n)/this.data[t].length,p=(this.data[t][u]+(this.data[t][u]<0?this.scale2.min:-1*this.scale2.min))/(this.scale2.max-this.scale2.min)*(this.canvas.height-this.marginTop-this.marginBottom),f=c.marginInnerGrouped,m=o+n+u*g;if(g<0&&console.log("[DxChart] Warning: you have a negative bar width. This may be caused by the marginInner being too high or the width of the canvas not being sufficient."),"center"==x&&(p/=2),"top"==x){var b=this.marginTop;p=Math.abs(p)}else if("center"==x)b=this.marginTop+this.chartArea/2-p;else{b=this.getYCoord(0),p=Math.abs(Math.abs(this.getYCoord(this.data[t][u]))-this.getYCoord(0));this.data[t][u]>=0&&(b-=p)}if(this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),l=c.colorsSequential&&i[s]?i[s++]:c.colorsSequential?i[s-1]:i[u],c.colorsGradientFullSize?this.context.fillStyle=DxChart.parseGradient(this,l,m+f,this.marginTop,g-2*f,this.canvas.height-this.marginTop-this.marginBottom):this.context.fillStyle=DxChart.parseGradient(this,l,m+f,b,g-2*f,p),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"cylinder"==e){var C=(L=m+f)+(T=g-2*f),y=(R=b)+(P=p-c.variantThreedOffsetY/2),v=L+(C-L)/2,D=c.variantThreedOffsetY,S=l;if(l.indexOf("gradient")<0){var k=DxChart._shadeColor(color,-20),w=DxChart._shadeColor(color,20),_="linear-gradient(to right,"+w+" 0%,"+k+" 25%,"+w+" 100%)";S="linear-gradient(to right bottom,"+k+" 0%,"+w+" 100%)",this.context.fillStyle=DxChart.parseGradient(this,_,L,R-D,T,P+D),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle)}this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.moveTo(L,R),this.context.quadraticCurveTo(v,R+D,C,R),this.context.lineTo(C,y),this.context.quadraticCurveTo(v,y+D,L,y),this.context.lineTo(L,R),this.context.stroke(),this.context.fill(),this.context.fillStyle=DxChart.parseGradient(this,S,L,R-D,T,P+D),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(L,R),this.context.quadraticCurveTo(v,R+D,C,R),this.context.quadraticCurveTo(v,R-D,L,R),this.context.stroke(),this.context.fill()}else if("triangle"==e){var T,P,R,L,j=(L=m+f)+(T=g-2*f)/2,F=L+T,E=(R=b)+(P=p-c.variantThreedOffsetY/2);this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),"center"===c.xaxisPosition?(this.data[t][u]<0&&(R+=2,E+=2),this.context.moveTo(L,E),this.context.lineTo(F,E),this.context.lineTo(j,R),this.context.lineTo(L,E),this.context.stroke(),this.context.fill()):(this.context.moveTo(L,R),this.context.lineTo(F,R),this.context.lineTo(j,E),this.context.lineTo(L,R),this.context.stroke(),this.context.fill())}else"round"===c.corners?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.data[t][u]<0?this.roundedCornersRectNegative(m+f,b,g-2*f,p):this.roundedCornersRect(m+f,b,g-2*f,p),this.context.stroke(),this.context.fill()):(this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(m+f,b,g-2*f,p),this.context.stroke(),this.context.fill());if(r+=p,"3d"==(e=c.variantValue)){var O=this.context.fillStyle,I=this.context.strokeStyle,A=c.marginInnerGrouped;this.data[t][u]>=0&&(this.context.beginPath(),this.context.moveTo(m+A,b),this.context.lineTo(m+A+c.variantThreedOffsetX,b-c.variantThreedOffsetY),this.context.lineTo(m+c.variantThreedOffsetX+g-A,b-c.variantThreedOffsetY),this.context.lineTo(m+g-A,b),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.beginPath(),this.context.moveTo(m+g-A-1,b),this.context.lineTo(m+g-A+c.variantThreedOffsetX,this.data[t][u]<0?this.getYCoord(0)+Math.abs(p)-c.variantThreedOffsetY-("center"===c.xaxisPosition?0:Math.abs(p)-this.properties.variantThreedOffsetY):this.getYCoord(0)-p-c.variantThreedOffsetY),this.context.lineTo(m+g-A+c.variantThreedOffsetX,this.data[t][u]<0&&b+p-c.variantThreedOffsetY<this.getYCoord(0)?this.getYCoord(0):b+p-c.variantThreedOffsetY),this.context.lineTo(m+g-A-1,b+p),this.context.closePath(),this.context.fill(),this.context.stroke(),this.data[t][u]>=0&&(this.context.fillStyle="rgba(255,255,255,0.5)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.moveTo(m+A,b),this.context.lineTo(m+A+c.variantThreedOffsetX,b-c.variantThreedOffsetY),this.context.lineTo(m+c.variantThreedOffsetX+g-A,b-c.variantThreedOffsetY),this.context.lineTo(m+g-A,b),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.fillStyle="rgba(0,0,0,0.4)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(0,0,0,0.4)"),this.context.beginPath(),this.context.moveTo(m+g-A,b),this.context.lineTo(m+g+c.variantThreedOffsetX-A,this.data[t][u]<0?this.getYCoord(0)+Math.abs(p)-c.variantThreedOffsetY-("center"===c.xaxisPosition?0:Math.abs(p)-this.properties.variantThreedOffsetY):this.getYCoord(0)-p-c.variantThreedOffsetY),this.context.lineTo(m+g+c.variantThreedOffsetX-A,+this.data[t][u]<0&&b+p-5<this.getYCoord(0)?p>this.properties.variantThreedOffsetY?this.getYCoord(0)+p-this.properties.variantThreedOffsetY:this.getYCoord(0):b+p-c.variantThreedOffsetY),this.context.lineTo(m+g-A,b+p),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.strokeStyle=I,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=O,isNexacroRuntime&&this.context.setElementFillStyle(O)}p<0&&(b-=p=Math.abs(p)),this.coords.push([m+f,b,g-2*f,p]),void 0===this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([m+f,b,g-2*f,p]),c.shadowUse&&d.push([m+f,b,g-2*f,p,this.context.fillStyle])}if(d.length){DxChart.noShadow(this),this.context.lineWidth=c.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(u=0;u<d.length;++u)this.context.fillStyle=d[u][4],isNexacroRuntime&&this.context.setElementFillStyle(d[u][4]),this.context.strokeStyle=c.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillRect(d[u][0],d[u][1],d[u][2],d[u][3]),this.context.strokeRect(d[u][0],d[u][1],d[u][2],d[u][3]);this.context.fill(),this.context.stroke(),d=[]}return[r,s]},this.drawbars=function(){var t=this.properties;this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);t.yaxisScaleDecimals;if(t.yaxisScaleMax)this.scale2=DxChart.getScale({object:this,options:{"scale.max":t.yaxisScaleMax,"scale.strict":!t.yaxisScaleRound,"scale.min":t.yaxisScaleMin,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost,"scale.formatter":t.yaxisScaleFormatter}});else{var e=t.errorbarsValue;if("number"==typeof e){var i=e;t.errorbarsValue=[];for(var s=0;s<this.data.length;++s)if("number"==typeof this.data[s])t.errorbarsValue.push([i,null]);else if("object"==typeof this.data[s]&&!DxChart.isNull(this.data[s]))for(var a=0;a<this.data[s].length;++a)t.errorbarsValue.push([i,null]);e=t.errorbarsValue}for(s=0;s<this.data.length;++s)i="object"==typeof this.data[s]?"grouped"===t.grouping?Number(DxChart.arrayMax(this.data[s],!0)):Number(DxChart.arraySum(this.data[s])):Number(this.data[s]),this.max=Math.max(Math.abs(this.max),Math.abs(i)+Number("object"!=typeof t.errorbarsValue||"object"!=typeof t.errorbarsValue[s]||DxChart.isNull(t.errorbarsValue[s])||"number"!=typeof t.errorbarsValue[s][0]?0:t.errorbarsValue[s][0]));this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":t.yaxisScaleMin,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost,"scale.formatter":t.yaxisScaleFormatter}}),this.max=this.scale2.max}t.changeableValue&&!t.yaxisScaleMax&&this.set("yaxisScaleMax",this.scale2.max),t.backgroundHbars&&t.backgroundHbars.length>0&&DxChart.drawBars(this);var o=t.variantValue;"3d"!==o&&"cylinder"!==o||DxChart.draw3DAxes(this);for(var r,n=t.xaxisPosition,h=(this.canvas.width-this.marginLeft-this.marginRight)/this.data.length,l=t.marginInner,c=t.shadowUse,x=t.shadowStyleObj.color,d=t.shadowStyleObj.blur,u=t.shadowStyleObj.offsetX,g=t.shadowStyleObj.offsetY,p=t.colorsStroke,f=t.colors,m=0,b="",C=(s=0,this.data.length);s<C;s+=1){r=DxChart.arraySum(this.data[s])<0?(DxChart.arraySum(this.data[s])+this.scale2.min)/(this.scale2.max-this.scale2.min):(DxChart.arraySum(this.data[s])-this.scale2.min)/(this.scale2.max-this.scale2.min),r*=Math.abs(this.getYCoord(this.scale2.max)-this.getYCoord(this.scale2.min));var y=s*h+this.marginLeft,v="center"==n?(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop-r:this.canvas.height-r-this.marginBottom;if("top"==n&&(v=this.marginTop),r<0&&(v+=r,r=Math.abs(r)),c&&(this.context.shadowColor=x,this.context.shadowBlur=d,this.context.shadowOffsetX=u,this.context.shadowOffsetY=g,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),this.context.beginPath(),"number"==typeof this.data[s]){"bottom"===n&&t.yaxisScaleMin<0&&(this.data[s]>=0?r=Math.abs(this.getYCoord(0)-this.getYCoord(this.data[s])):(v=this.getYCoord(0),r=Math.abs(this.getYCoord(0)-this.getYCoord(this.data[s]))));var D=h-2*l;this.context.strokeStyle=p,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.colorsSequential?(b=f[s],DxChart.isArray(p)&&p[s]&&(this.context.strokeStyle=p[s],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle))):b=f[0],t.colorsGradientFullSize?this.context.fillStyle=DxChart.parseGradient(this,b,y,this.marginTop,D,this.canvas.height-this.marginTop-this.marginBottom):this.context.fillStyle=DxChart.parseGradient(this,b,y,v,D,r),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawbarsSingleBar(s,o,y,v,h,r,l,D,b)}else if(this.data[s]&&"object"==typeof this.data[s]&&"stacked"==t.grouping){if("rgba(0,0,0,0)"==p&&(p="transparent"),v=(S=this.drawStackbars(l,s,f,m,p,y,v,h,c))[0],m=S[1],null===v)return}else if(this.data[s]&&"object"==typeof this.data[s]&&"grouped"==t.grouping){var S;v=(S=this.drawGroupbars(s,o,f,m,p,y,v,l,h))[0],m=S[1]}else this.coords.push([]);this.context.closePath()}"3d"===t.variantValue&&"right"===t.yaxisPosition&&t.yaxisUse&&DxChart.draw3DYAxis(this),DxChart.noShadow(this)},this.drawLabels=function(){this.drawAboveLabels()},this.getShape=function(t){for(var e=this.properties,i=arguments[1]?arguments[1]:this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context,i.coords),n=0,h=r.length;n<h;n+=1)if(0!=i.coords[n].length){var l=r[n][0],c=r[n][1],x=r[n][2],d=r[n][3];if(this.context.beginPath(),e.tooltipsHotspotXonly)this.context.rect(l,this.marginTop,x,this.canvas.height-this.marginBottom);else{var u=DxChart.sequentialIndexToGrouped(n,this.data);"stacked"===e.grouping&&"round"===e.corners&&0===u[1]?this.roundedCornersRect(l,c,x,d):this.context.rect(l,c,x,d)}var g=!1;if(isNexacroRuntime?a>=l&&a<=l+x&&o>=c&&o<=c+d&&(g=!0):g=this.context.isPointInPath(a,o),g){if(e.tooltipsData&&DxChart.parseTooltipText)var p=DxChart.parseTooltipText(e.tooltipsData,n);for(var f=0,m=n;m>=("object"==typeof i.data[f]&&i.data[f]?i.data[f].length:1);)"number"==typeof i.data[f]?m-=1:i.data[f]?m-=i.data[f].length:m-=1,f++;return"number"==typeof i.data[f]&&(m=0),{object:this,x:l,y:c,width:x,height:d,tooltip:"string"==typeof p?p:null,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[f]?e.xaxisLabels[f]:null,dataset:f,index:m,sequentialIndex:n}}}return null},this.getShapeByX=function(t){for(var e=this.properties,i=(t.target,DxChart.getMouseXY(t)),s=arguments[1]?arguments[1]:this,a=0,o=s.coords.length;a<o;a++)if(0!=s.coords[a].length){var r=i[0],n=(i[1],s.coords[a][0]),h=s.coords[a][1],l=s.coords[a][2],c=s.coords[a][3];if(r>=n&&r<=n+l){if(e.tooltipsData)var x=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,a):e.tooltipsData[a];var d=DxChart.sequentialIndexToGrouped(a,this.data);return{object:s,x:n,y:h,width:l,height:c,dataset:d[0],index:d[1],sequentialIndex:a,tooltip:"string"==typeof x?x:null}}}return null},this.getValue=function(t){var e=this.properties;if(2==t.length)var i=t[0],s=t[1];else{var a=DxChart.getMouseXY(t);i=a[0],s=a[1]}if(s<e.marginTop||s>this.canvas.height-e.marginBottom||i<e.marginLeft||i>this.canvas.width-e.marginRight)return null;if("center"==e.xaxisPosition){var o=(this.chartArea/2-(s-e.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min);(o*=2)>=0?o+=this.scale2.min:o-=this.scale2.min}else if("top"==e.xaxisPosition){o=(this.chartArea-(s-e.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min);o=this.scale2.max-o,o=-1*Math.abs(o)}else{o=(this.chartArea-(s-e.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min);o+=this.scale2.min}return o},this.getYCoord=function(t){var e=this.properties;if(t>this.scale2.max)return null;var i,s=e.xaxisPosition;return"top"==s?(t<0&&(t=Math.abs(t)),i=(t-this.scale2.min)/(this.scale2.max-this.scale2.min)*this.chartArea,i+=this.marginTop):"center"==s?(i=(t-this.scale2.min)/(this.scale2.max-this.scale2.min)*(this.chartArea/2),i=this.chartArea/2-i,i+=this.marginTop):(t<this.scale2.min&&(t=this.scale2.min),i=(t-this.scale2.min)/(this.scale2.max-this.scale2.min),i*=this.canvas.height-this.marginTop-this.marginBottom,i=this.canvas.height-this.marginBottom-i),i},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0],this.coords[i][1],this.coords[i][2],this.coords[i][3]),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else"stacked"===e.grouping&&0===t.index&&"bottom"===e.xaxisPosition?(this.context.beginPath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),"round"===e.corners?this.roundedCornersRect(t.x,t.y,t.width,t.height):this.context.rect(t.x,t.y,t.width,t.height),this.context.stroke(),this.context.fill()):"triangle"===e.variantValue||"cylinder"===e.variantValue||DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);this.getShape(t);if("3d"===e.variantValue&&!e.textAccessible){var s=e.variantThreedAngle*i[0];i[1]-=s}if(i[0]>=e.marginLeft&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.changing_mousemove=function(t){(new Date).getTime();var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){var i=Number(this.getValue(t)),s=DxChart.Registry.get("changing.shape");if(s){if(DxChart.Registry.set("changing.shape",s),this.stackedOrGrouped&&"grouped"==e.grouping){var a=DxChart.sequentialIndexToGrouped(s.sequentialIndex,this.data);"number"==typeof this.data[a[0]]?this.data[a[0]]=Number(i):DxChart.isNull(this.data[a[0]])||(this.data[a[0]][a[1]]=Number(i))}else"number"==typeof this.data[s.sequentialIndex]&&(this.data[s.sequentialIndex]=Number(i));DxChart.redrawCanvas(t.target),DxChart._fireEvent(this,"onadjust")}}},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.crosshairsColor=t.crosshairsColor,this.original_colors.highlightStroke=t.highlightStroke,this.original_colors.highlightFill=t.highlightFill,this.original_colors.textColor=t.textColor,this.original_colors.backgroundBarsColor1=t.backgroundBarsColor1,this.original_colors.backgroundBarsColor2=t.backgroundBarsColor2,this.original_colors.backgroundGridColor=t.backgroundGridColor,this.original_colors.backgroundColor=t.backgroundColor,this.original_colors.colorsStroke=t.colorsStroke,this.original_colors.axesColor=t.axesColor);var e=t.keyColors;if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.crosshairsColor=this.parseSingleColorForGradient(t.crosshairsColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.textColor=this.parseSingleColorForGradient(t.textColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colorStroke=this.parseSingleColorForGradient(t.colorStroke),t.axesColor=this.parseSingleColorForGradient(t.axesColor)},this.reset=function(){},this.drawBevel=function(){var t=this.properties,e=this.coords,i=this.coords2;if("stacked"==t.grouping){for(var s=0;s<i.length;++s)if(i[s]&&i[s][0]&&i[s][0][0]){for(var a=i[s][0][0],o=i[s][0][1],r=i[s][0][2],n=[],h=0;h<i[s].length;++h)n.push(i[s][h][3]);var l=DxChart.arraySum(n);this.context.save(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.rect(a,o,r,l),this.context.clip(),this.context.shadowColor="black",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=20,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.beginPath(),this.context.rect(a-3,o-3,r+6,l+100),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.stroke(),this.context.restore()}}else for(s=0;s<e.length;++s)if(e[s]){a=e[s][0],o=e[s][1],r=e[s][2],l=e[s][3];var c=t.xaxisPosition,x=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop;this.context.save(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.rect(a,o,r,l),this.context.clip(),this.context.shadowColor="black",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=20,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),"top"==c||"center"==c&&o+l>x?(o-=100,l+=100):(o=o,l+=100),this.context.beginPath(),this.context.rect(a-3,o-3,r+6,l+6),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.stroke(),this.context.restore()}},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this;this.coords2.forEach(function(s,a,o){if("object"==typeof s[t]&&s[t]){var r=s[t][0]-.5,n=s[t][1]-.5,h=s[t][2]+1,l=s[t][3]+1;i.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&i.context.setElementFillStyle(e.keyInteractiveHighlightChartFill),i.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&i.context.setElementStrokeStyle(i.context.strokeStyle),i.context.lineWidth=2,isNexacroRuntime&&i.context.setElementLineWidth(i.context.lineWidth),i.context.strokeRect(r,n,h,l),i.context.fillRect(r,n,h,l)}})},this.drawAboveLabels=function(){var t=this.properties,e=t.labelsAbove,i=t.labelsAboveSpecific,s=("boolean"==typeof t.labelsAboveBold?t.labelsAboveBold:t.textFontStyleObj.bold,"boolean"==typeof t.labelsAboveItalic?t.labelsAboveItalic:t.textFontStyleObj.italic,t.labelsAboveColor||t.textColor,t.labelsAboveFontStyleObj.face||t.textFontStyleObj.face,"number"==typeof t.labelsAboveFontStyleObj.size?t.labelsAboveFontStyleObj.size:t.textFontStyleObj.size,t.labelsAboveBackground),a=t.labelsAboveDecimals,o=-1*t.labelsAboveAngle,r=t.labelsAboveUnitsPre,n=t.labelsAboveUnitsPost,h=t.labelsAbovePoint,l=t.labelsAboveThousand,c=t.labelsAboveFormatter,x=(this.coords,this.coords2),d=this.data,u=(DxChart.arrayLinearize(this.data),t.labelsAboveOffsetX),g=t.labelsAboveOffsetY,p=(t.textFontStyleObj.italic,t.textFontStyleObj.bold,t.textColor,t.textFontStyleObj.face,t.textFontStyleObj.size,t.grouping);"number"==typeof t.labelsAboveOffset&&(g=t.labelsAboveOffset);var f=DxChart.getTextInfo({object:this,prefix:"labelsAbove"});if(DxChart.noShadow(this),this.context.fillStyle=f.color,isNexacroRuntime&&this.context.setElementFillStyle(f.color),e&&"grouped"===p){for(var m=0,b=d.length,C=0;m<b;m+=1)if("number"==typeof d[m]&&d[m]>=0){var y=(o=o)?"left":"center",v=0!==o?"center":"bottom";DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]-g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),value:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:0,index:m}),halign:y,valign:v,angle:o,marker:!1,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"}),C++}else if("number"==typeof d[m]&&d[m]<0){y=(o=o)?"right":"center",v=0!==o?"center":"top";DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]+x[m][0][3]+g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),value:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:0,index:m}),halign:y,valign:v,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C++}else if("object"==typeof d[m])for(var D=0,S=d[m].length;D<S;D+=1){o=o,y=d[m][D]<0?"right":"left";y=0===o?"center":y;v=d[m][D]<0?"top":"bottom";v=0!=o?"center":v,DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][D][0]+x[m][D][2]/2+u,y:"top"===t.xaxisPosition?x[m][D][1]+x[m][D][3]+5:x[m][D][1]+(d[m][D]<0?x[m][D][3]+g:-g),text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number(d[m][D]).toFixed(a)),value:Number(Number(d[m][D]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:m,index:D}),halign:y,valign:"top"===t.xaxisPosition?"top":v,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C++}}else if(e&&"stacked"===p)for(m=0,b=d.length,C=0;m<b;m+=1)if("object"==typeof d[m]){y=0!=(o=o)?"left":"center",v=0!=o?"center":"bottom";DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]+(d[m][0]<0?x[m][0][3]:0)-g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number(DxChart.arraySum(d[m])).toFixed(a)),value:Number(Number(DxChart.arraySum(d[m])).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:m}),halign:y,valign:v,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C+=d[m].length}else{y=0!=(o=o)?"left":"center",v=0!=o?"center":"bottom";DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]+(d[m][0]<0?x[m][0][3]:0)-g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number(d[m]).toFixed(a)),value:Number(Number(d[m]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:m}),halign:y,valign:v,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C++}},this.firstDrawFunc=function(){},this.wave=function(){this.properties;if(this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData),1===this.data.length)return this.grow(arguments[0],arguments[1]);var t=this,e=arguments[0]||{},i=this.get("labelsAbove");e.frames=e.frames||30,e.startFrames=[],e.counters=[];var s=e.frames/3,a=-1,o=arguments[1]||function(){},r=DxChart.arrayClone(this.orgData);this.set("labelsAbove",!1);for(var n=0,h=t.data.length;n<h;n+=1)if(e.startFrames[n]=e.frames/2/(t.data.length-1)*n,"object"==typeof t.data[n]&&t.data[n]){e.counters[n]=[];for(var l=0;l<t.data[n].length;l++)e.counters[n][l]=0}else e.counters[n]=0;return t.draw(),t.set("yaxisScaleMax",t.scale2.max),DxChart.clear(t.canvas),function n(){if(t.stopAnimationRequested)return t.stopAnimationRequested=!1,void(t.data=DxChart.arrayClone(t.orgData));++a;for(let i=0,o=t.data.length;i<o;i+=1)if(a>e.startFrames[i]){if("number"==typeof t.data[i])t.data[i]=Math.min(Math.abs(r[i]),Math.abs(r[i]*(e.counters[i]++/s))),r[i]<0&&(t.data[i]*=-1);else if(!DxChart.isNull(t.data[i]))for(let a=0,o=t.data[i].length;a<o;a+=1)t.data[i][a]=Math.min(Math.abs(r[i][a]),Math.abs(r[i][a]*(e.counters[i][a]++/s))),r[i][a]<0&&(t.data[i][a]*=-1)}else t.data[i]="object"==typeof t.data[i]&&t.data[i]?DxChart.arrayPad([],t.data[i].length,0):DxChart.isNull(t.data[i])?null:0;a>=e.frames?(i&&(t.set("labelsAbove",!0),DxChart.redraw()),o(t)):(DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(n,t.canvas))}(),this},this.colorWave=function(){this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData);var t=this,e=arguments[0]||{};e.frames=e.frames||30,e.startFrames=[],e.counters=[],colors=t.properties.colors,colors.length<=t.data.length&&(t.set("colorsSequential",!0),colors=DxChart.arrayPad(colors,t.data.length,colors[colors.length-1]));for(var i=e.frames/2,s=-1,a=arguments[1]||function(){},o=DxChart.arrayClone(t.properties.colors),r=0,n=o.length;r<n;r+=1)e.startFrames[r]=e.frames/2/(o.length-1)*r,e.counters[r]=0;return function o(){++s;for(var r=0,n=colors.length;r<n;r+=1)s>e.startFrames[r]&&colors[r].match(/^rgba?\(([0-9 ]+),([0-9 ]+),([0-9 ]+)(,([ 0-9.]+)?)\)/)?colors[r]="rgba({1},{2},{3},{4})".format(RegExp.$1,RegExp.$2,RegExp.$3,(s-e.startFrames[r])/i):colors[r]=colors[r].replace(/,[0-9. ]+\)/,",0)");s>=e.frames?a(t):(DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(o))}(),this},this.grow=function(){var t=this.properties;this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData);var e=arguments[0]||{},i=e.frames||30,s=0,a=arguments[1]||function(){},o=this,r=this.get("labelsAbove");if(DxChart.isArray(e.data)){for(var n=0,h=0;h<e.data.length;++h)if("object"==typeof e.data[h])for(var l=0;l<e.data[h].length;++l)"string"==typeof e.data[h][l]&&e.data[h][l].match(/(\+|\-)([0-9]+)/)&&("+"===RegExp.$1?e.data[h][l]=this.orgData[h][l]+parseInt(RegExp.$2):e.data[h][l]=this.orgData[h][l]-parseInt(RegExp.$2)),n=Math.max(n,e.data[h][l]);else"string"==typeof e.data[h]&&e.data[h].match(/(\+|\-)([0-9]+)/)?("+"===RegExp.$1?e.data[h]=this.orgData[h]+parseInt(RegExp.$2):e.data[h]=this.orgData[h]-parseInt(RegExp.$2),n=Math.max(n,e.data[h])):n=Math.max(n,e.data[h]);var c=DxChart.getScale({object:this,options:{"scale.max":n}});"number"!=typeof t.yaxisScaleMax&&this.set("yaxisScaleMax",c.max)}if(this.set("labelsAbove",!1),null==t.yaxisScaleMax){for(n=0,h=0;h<this.data.length;++h)if(DxChart.isArray(this.data[h])&&"stacked"===t.grouping)n=Math.max(n,Math.abs(DxChart.arraySum(this.data[h])));else if(DxChart.isArray(this.data[h])&&"grouped"===t.grouping){l=0;for(var x=[];l<this.data[h].length;l++)x.push(Math.abs(this.data[h][l]));n=Math.max(n,Math.abs(DxChart.arrayMax(x)))}else n=Math.max(n,Math.abs(this.data[h]));c=DxChart.getScale({object:this,options:{"scale.max":n}});this.set("yaxisScaleMax",c.max)}"number"==typeof e.ymax&&this.set("yaxisScaleMax",e.ymax);var d=function(){if(o.stopAnimationRequested)return o.stopAnimationRequested=!1,void(o.data=DxChart.arrayClone(o.orgData));for(var t=DxChart.Effects.getEasingMultiplier(i,s),n=0,h=o.orgData.length;n<h;++n)if("object"!=typeof o.data[n]||DxChart.isNull(o.data[n])){if(o.firstDraw||!e.data)o.data[n]=t*o.orgData[n];else if(e.data&&e.data.length===o.orgData.length){x=e.data[n]-o.orgData[n];o.data[n]=t*x+o.orgData[n]}}else for(var l=0,c=o.data[n].length;l<c;++l)if(o.firstDraw||!e.data)o.data[n][l]=t*o.orgData[n][l];else if(e.data&&e.data.length===o.orgData.length){var x=e.data[n][l]-o.orgData[n][l];o.data[n][l]=t*x+o.orgData[n][l]}if(DxChart.redrawCanvas(o.canvas),s<i)s+=1,DxChart.Effects.updateCanvas(d,o.canvas);else{var u=o.orgData;if(DxChart.isArray(e.data))for(var g=DxChart.arrayLinearize(u),p=0;p<g.length;++p)o["$"+p]||(o["$"+p]={});o.data=u,o.orgData=DxChart.arrayClone(u),r&&(o.set("labelsAbove",!0),DxChart.redraw()),a(o)}};return d(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawErrorbars=function(){var t=this.properties,e=this.coords,i=t.errorbarsColor||"black",s=Math.min(t.errorbarsCappedWidth,e[0][2])/2,a=t.errorbarsValue,o=0;t.errorbarsCapped||(t.errorbarsCappedWidth=0,p=0),this.context.lineWidth=t.errorbarsLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var r=0;r<e.length;++r){var n=e[r][0],h=e[r][1],l=e[r][2],c=e[r][3],x=DxChart.sequentialIndexToGrouped(r,this.data);if("object"==typeof this.data[x[0]]&&!DxChart.isNull(this.data[x[0]]))var d=!0,u=x[0],g=x[1];i=t.errorbarsColor||"black",a[r]&&"number"==typeof a[r][3]&&(this.context.lineWidth=a[r][3],isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth));var p=a[r]&&"number"==typeof a[r][4]?a[r][4]/2:s;if(t.errorbarsCapped||(p=0),"number"==typeof a[r])(o=Math.abs(this.getYCoord(a[r])-this.getYCoord(0)))&&this.path("b % % l % % l % % l % % s %",n+l/2,"number"==typeof this.data[r]&&this.data[r]<0||d&&this.data[u][g]<0?h+c:h,n+l/2,"number"==typeof this.data[r]&&this.data[r]<0||d&&this.data[u][g]<0?h+c+o:h-o,n+l/2-p,"number"==typeof this.data[r]&&this.data[r]<0||d&&this.data[u][g]<0?Math.round(h+c+o):Math.round(h-o),n+l/2+p,"number"==typeof this.data[r]&&this.data[r]<0||d&&this.data[u][g]<0?Math.round(h+c+o):Math.round(h-o),i);else if("object"==typeof a[r]&&!DxChart.isNull(a[r])){var f=Math.abs(this.getYCoord(a[r][0])-this.getYCoord(0));if("string"==typeof a[r][1]?i=a[r][1]:"string"==typeof a[r][2]&&(i=a[r][2]),p="number"==typeof a[r][4]?a[r][4]/2:s,t.errorbarsCapped||(p=0),DxChart.isNull(a[r][0])||this.path("b m % % l % % l % % l % % s %",n+l/2,h+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),n+l/2,h-f+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),n+l/2-p,Math.round(h-f)+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),n+l/2+p,Math.round(h-f)+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),i),"number"==typeof a[r][1]){var m=Math.abs(this.getYCoord(a[r][1])-this.getYCoord(0));this.path("b m % % l % % l % % l % % s %",n+l/2,h+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),n+l/2,h+m+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),n+l/2-p,Math.round(e[r][1]+m)+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),n+l/2+p,Math.round(h+m)+(this.data[r]<0?c:0)+(d&&this.data[u][g]<0?c:0),i)}}a[r]&&"number"==typeof a[r][3]&&(this.context.lineWidth=t.errorbarsLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth))}},this.isAdjustable=function(t){var e=this.properties;return!(!DxChart.isNull(e.changeableOnly)&&DxChart.isArray(e.changeableOnly))||(t?!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex]):void 0)},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data),i=this.data[e[0]];return"number"==typeof i&&(i=[i]),{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:i}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties;return{label:this.stackedOrGrouped?!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=t.index,a=DxChart.getCanvasXY(e.canvas),o=e.coords[t.index],r=e.properties;if(isNexacroRuntime?(t.tooltip.set_left(a[0]+o[0]-i.getOffsetWidth()/2+o[2]/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(a[1]+o[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=a[0]+o[0]-i.offsetWidth/2+o[2]/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]+o[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),"3d"===r.variantValue){var n=o[0],h=(o[1],r.variantThreedAngle),l=Math.tan(h)*n;isNexacroRuntime?t.tooltip.set_top(parseInt(t.tooltip.top)+l-5):t.tooltip.style.top=parseInt(t.tooltip.style.top)+l-5+"px"}this.data_arr[s]<0&&(isNexacroRuntime?t.tooltip.set_top(parseFloat(t.tooltip.style.top)+o[3]/2):t.tooltip.style.top=parseFloat(t.tooltip.style.top)+o[3]/2+"px")},this.roundedCornersRect=function(t,e,i,s){var a=this.properties.cornersRoundRadius;a=Math.min(i/2,s/2,a),this.context.moveTo(t+i/2,e),this.context.arcTo(t+i,e,t+i,e+s,Math.min(s/2,a)),this.context.lineTo(t+i,e+s),this.context.lineTo(t,e+s),this.context.lineTo(t,e+s/2),this.context.arcTo(t,e,t+i/2,e,Math.min(s/2,a)),this.context.lineTo(t+i/2,e)},this.roundedCornersRectNegative=function(t,e,i,s){var a=this.properties;s<0&&(e-=s=Math.abs(s));var o=a.cornersRoundRadius;o=Math.min(i/2,s/2,o),this.context.moveTo(t+o,e),this.context.arcTo(t+i,e,t+i,e,o),this.context.arcTo(t+i,e+s,t+i-o,e+s,o),this.context.arcTo(t,e+s,t,e+s-o,o),this.context.arcTo(t,e,t,e,o),this.context.lineTo(t+o,e)},this.install3DAxisNegativeClip=function(){this.path("b m % % l % % l % % l % % l % % l % % c cl",this.marginLeft,this.getYCoord(0),this.marginLeft,this.canvas.height-this.marginBottom,this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom,this.canvas.width-this.marginRight+this.properties.variantThreedOffsetX,this.canvas.height-this.marginBottom-this.properties.variantThreedOffsetY,this.canvas.width-this.marginRight+this.properties.variantThreedOffsetX,this.getYCoord(0)-this.properties.variantThreedOffsetY,this.canvas.width-this.marginRight,this.getYCoord(0))},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartSegmentedBar(t){this.config=t,this.properties={},DxChart._Base.call(this,t,"segmentedBar"),t.binddataset&&(this.binddataset=t.binddataset),DxChart.parseProperties(this,t.options),this.resetData=function(t,e){this.binddataset&&e.toString().indexOf("bind:")>=0&&(e=DxChart.parseDataset(this,e),t.data=e);var i=this;"hbar"==t.options.bartype?this.background=new DxChartHBar({id:t.id,elem:t.elem,binddataset:i.binddataset,data:DxChart.arrayPad([],t.data.length),options:t.options}):(this.background=new DxChartBar({id:t.id,elem:t.elem,binddataset:i.binddataset,data:DxChart.arrayPad([],t.data.length),options:t.options}),this.background.set("backgroundGridHlinesCount",i.properties.segmentsCount)),this.background.set("colors","rgba(0,0,0,0)"),this.background.set("xaxisUse",!1),this.background.set("xaxisLabels",null),this.background.set("xaxisScale",!1),this.background.set("xaxisLabelsSpecific",null),this.background.set("yaxisUse",!1),this.background.set("yaxisLabels",null),this.background.set("yaxisScale",!1),this.background.set("yaxisLabelsSpecific",null),"hbar"==t.options.bartype?this.foreground=new DxChartHBar({id:t.id,elem:t.elem,data:t.data,binddataset:i.binddataset,options:t.options}):this.foreground=new DxChartBar({id:t.id,elem:t.elem,data:t.data,binddataset:i.binddataset,options:t.options}),this.foreground.set("grouping","stacked"),this.foreground.set("xaxisUse",!1),this.foreground.set("yaxisUse",!1),"hbar"!=t.options.bartype&&"number"!=typeof this.foreground.properties.yaxisLabelsOffsetX&&this.foreground.set("yaxisLabelsOffsetX",-3),this.foreground.set("backgroundGrid",!1),this.foreground.on("onenddraw",function(e){var s=i.properties.segmentsLineWidth,a=i.properties.segmentsCount;if("hbar"==t.options.bartype)for(var o=i.canvas.height-i.foreground.properties.marginTop-i.foreground.properties.marginBottom,r=0;r<=a;++r)e.path("cr % % % %",e.getXCoord(r/a*i.foreground.scale2.max),i.foreground.properties.marginTop,s,o);else for(r=0;r<=a;++r)e.path("cr % % % %",i.foreground.properties.marginLeft,e.getYCoord(r/a*i.foreground.scale2.max)-s/2,this.canvas.width,s);i.background.draw()}),"hbar"!=t.options.bartype&&"number"!=typeof this.foreground.properties.yaxisLabelsOffsetY&&this.foreground.set({yaxisLabelsOffsetY:(this.foreground.canvas.height-this.foreground.properties.marginTop-this.foreground.properties.marginBottom)/i.properties.segmentsCount/2})},this.draw=function(){return this.foreground.draw(),this},this.grow=function(){return this.background.draw(),this.foreground.grow(arguments[0],arguments[1]),this},this.wave=function(){return this.background.draw(),this.foreground.wave(arguments[0],arguments[1]),this},this.responsive=function(t){return this.foreground.responsive(t),this.background.responsive(t),this},this.resetData(t,t.data)}function DxChartFuel(t){return DxChart._Base.call(this,t,"fuel"),DxChart.setDefaultProperties(this,"needle"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"default"),this.properties.scaleLabelsCount=5,this.properties.needleColor="radial-gradient(white:black:black:black:black:white)",this.properties.needleStrokeStyle="rgba(0,0,0,0)",this.properties.scaleStrokeColor="#aaaaaa",this.properties.scaleHeight=10,this.properties.scaleTickSize=5,this.properties.scaleLabelGap=2,this.properties.needleLineWidth=5,this.properties.backgroundColor="#ffffff",this.properties.backgroundGrid=!1,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.angles={},this.currentValue=null,this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min)},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this,!0),this.currentValue=this.value,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-20-this.marginBottom,this.radius=this.canvas.height-this.marginTop-this.marginBottom-20,this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.angles.start=DxChart.PI+DxChart.HALFPI-.5,this.angles.end=DxChart.PI+DxChart.HALFPI+.5,isNexacroRuntime&&(this.angles.start=DxChart.PI-.5,this.angles.end=DxChart.PI+.5),this.angles.needle=this.getAngle(this.value),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),DxChart.Background.draw(this),this.drawLabels(),this.drawChart(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawChart=function(){this.properties;this.drawScale(),this.drawIcon(),this.drawNeedle()},this.drawLabels=function(){var t=this.properties;if(!t.scaleVisible){this.radius;this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var e=this.centery-Math.sin(this.angles.start-DxChart.PI)*(this.radius-17+t.labelsEmptyOffsetRadius),i=this.centerx-Math.cos(this.angles.start-DxChart.PI)*(this.radius-17+t.labelsEmptyOffsetRadius),s=DxChart.getTextInfo({object:this,prefix:"labels"}),a=DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:i+t.labelsEmptyOffsetX,y:e+t.labelsEmptyOffsetY,text:t.labelsEmpty,halign:"left",valign:"top",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:0})});e=this.centery-Math.sin(this.angles.start-DxChart.PI)*(this.radius-17+t.labelsFullOffsetRadius),i=this.centerx+Math.cos(this.angles.start-DxChart.PI)*(this.radius-17+t.labelsFullOffsetRadius),a=DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:i+t.labelsFullOffsetX,y:e+t.labelsFullOffsetY,text:t.labelsFull,halign:"right",valign:"top",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:1})})}var o="";"string"==typeof t.labelsClass?o=t.labelsClass:"object"==typeof t.labelsClass&&"string"==typeof t.labelsClass[1]&&(o=t.labelsClass[1]),o&&-1===a.node.className.indexOf(o)&&(a.node.className+=" "+o)},this.drawNeedle=function(){var t=this.properties;this.context.beginPath(),this.context.lineWidth=t.needleLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap("round"),this.context.strokeStyle=t.needleStrokeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var e=this.angles.needle;if(isNexacroRuntime){e+=DxChart.HALFPI;var i=this.centerx+Math.cos(e)*(this.radius-t.needleRadiusOffset),s=this.centery+Math.sin(e)*(this.radius-t.needleRadiusOffset);this.context.moveTo(this.centerx,this.centery),this.context.lineTo(i,s)}else this.context.arc(this.centerx,this.centery,this.radius-t.needleRadiusOffset,e,e+1e-4,!1),this.context.lineTo(this.centerx,this.centery);this.context.closePath(),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);var a=t.needleColor,o=t.needleSize,r=this.centerx,n=this.centery,h=o/2;i=r-h,s=n-h;isNexacroRuntime&&(this.context.save(),this.context.translate(i,s),r=h,n=h);var l=r+10,c=n-10;this.context.beginPath(),a.indexOf("gradient")<0&&(a="radial-gradient("+a+":"+a+":white:"+a+")");var x=DxChart.parseRadialGradientInfo(this,a,r,n,0,l,c,o);this.context.fillStyle=x,this.context.strokeStyle=t.needleStrokeStyle,isNexacroRuntime&&(x=DxChart.parseRadialGradientInfo(this,a,l-5,c+5,0,l,c,o+20),this.context.setElementStrokeStyle(t.needleStrokeStyle),this.context.setElementFillStyle(x)),this.context.arc(r,n,h,0,DxChart.TWOPI,0),this.context.closePath(),isNexacroRuntime&&(this.context._globalAlphaFill=.9999),this.context.fill(),this.context.stroke(),isNexacroRuntime&&this.context.restore()},this.drawScale=function(){var t=this.properties,e=t.scaleHeight,i=t.scaleTickSize,s=t.scaleLabelGap;this.context.beginPath(),this.context.strokeStyle=t.scaleStrokeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle="white",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,this.angles.start,this.angles.end,!1),isNexacroRuntime?(this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill()):this.context.arc(this.centerx,this.centery,this.radius-e,this.angles.end,this.angles.start,!0),this.context.closePath(),this.context.stroke(),this.context.fill();var a=this.angles.start,o=this.angles.needle;if(this.context.beginPath(),this.context.fillStyle=t.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,a,o,!1),isNexacroRuntime?this.context.lineTo(this.centerx,this.centery):this.context.arc(this.centerx,this.centery,this.radius-e,o,a,!0),this.context.closePath(),this.context.fill(),isNexacroRuntime){this.context.beginPath(),this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius-(e+1),this.angles.start,this.angles.end,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath();var r=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementStrokeStyle(r),this.context.setElementFillStyle(r),this.context.arc(this.centerx,this.centery,this.radius-(e+1),this.angles.start-.1,this.angles.end+.1,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill()}this.context.strokeStyle=t.scaleStrokeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(t.scaleStrokeColor);for(var n=this.angles.start;n<=this.angles.end+.01;n+=(this.angles.end-this.angles.start)/5)if(isNexacroRuntime){var h=n+DxChart.HALFPI-.01;n==this.angles.start&&(h+=.005);var l=this.centerx+Math.cos(h)*(this.radius-(e+1)),c=this.centery+Math.sin(h)*(this.radius-(e+1)),x=this.centerx+Math.cos(h)*(this.radius-(e+i)),d=this.centery+Math.sin(h)*(this.radius-(e+i));this.context.beginPath(),this.context.moveTo(l,c),this.context.lineTo(x,d),this.context.closePath(),this.context.stroke()}else this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-e,n,n+1e-4,!1),this.context.arc(this.centerx,this.centery,this.radius-(e+i),n+1e-4,n,!0),this.context.stroke();if(t.scaleVisible){this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(var u=t.scaleLabelsCount,g=t.scaleDecimals,p=t.scaleUnitsPost,f=t.scaleUnitsPre,m=(t.textFontStyleObj.face,t.textFontStyleObj.size,t.textColor,t.textFontStyleObj.bold,t.textFontStyleObj.italic,0);m<=u;++m){n=(this.angles.end-this.angles.start)*(m/u)+this.angles.start,c=this.centery-Math.sin(n-DxChart.PI)*(this.radius-(e+i+s)),l=this.centerx-Math.cos(n-DxChart.PI)*(this.radius-(e+i+s)),isNexacroRuntime&&(c=this.centery-Math.sin(n-DxChart.HALFPI)*(this.radius-(e+i+s)),l=this.centerx-Math.cos(n-DxChart.HALFPI)*(this.radius-(e+i+s)));var b=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:b.font,size:b.size,color:b.color,bold:b.bold,italic:b.italic,x:l,y:c,text:DxChart.numberFormat({object:this,number:(this.min+(this.max-this.min)*(m/u)).toFixed(g),unitspre:f,unitspost:p,point:t.scalePoint,thousand:t.scaleThousand}),halign:"center",valign:"top",tag:"scale"})}}},this.getShape=function(t){},this.getValue=function(t){this.properties;var e=DxChart.getMouseXY(t),i=DxChart.getAngleByXY(this.centerx,this.centery,e[0],e[1]);if(i>=this.angles.end)return this.max;if(i<=this.angles.start)return this.min;var s=(i-this.angles.start)/(this.angles.end-this.angles.start);return s*=this.max-this.min,s+=this.min},this.getObjectByXY=function(t){this.properties;var e=DxChart.getMouseXY(t),i=(DxChart.getAngleByXY(this.centerx,this.centery,e[0],e[1]),this.centerx-this.radius),s=this.centerx+this.radius,a=this.centery-this.radius,o=this.centery+this.radius;if(e[0]>i&&e[0]<s&&e[1]>a&&e[1]<o)return this},this.drawIcon=function(){var t=this.properties;if(this.__icon__&&this.__icon__.__loaded__){e=this.__icon__;this.context.drawImage(e,this.centerx-e.width/2,this.centery-this.radius+35)}else if(isNexacroRuntime){(e={}).src=t.icon,e.__object__=this,this.__icon__=e,e.handle=nexacro._getImageObject(e.src,function(t,i,s,a){e.__loaded__=!0;var o=e.__object__;e.width=i,e.height=s,e.imagewidth=i,e.imageheight=s,o.context.drawImage(e,o.centerx-e.width/2,o.centery-o.radius+35),e.__object__=null},this,"",!1)}else{var e;(e=new Image).src=t.icon,e.__object__=this,this.__icon__=e,e.onload=function(i){e.__loaded__=!0;var s=e.__object__;s.context.drawImage(e,s.centerx-e.width/2,s.centery-s.radius+35),s.drawNeedle(),t.iconRedraw&&(s.set("iconRedraw",!1),DxChart.clear(s.canvas),DxChart.redrawCanvas(s.canvas)),e.__object__=null}}this.drawNeedle()},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){this.properties;return t<this.min||t>this.max?null:(t-this.min)/(this.max-this.min)*(this.angles.end-this.angles.start)+this.angles.start},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.needleColor=DxChart.arrayClone(t.needleColor));for(var e=t.colors,i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.properties;this.cancelStopAnimation();var t=arguments[1]||function(){},e=(arguments[0]||{}).frames||30,i=0,s=this,a=Number(this.currentValue);null==this.currentValue&&(this.currentValue=this.min,a=this.min);var o=this.value-a,r=(i=0,function(){s.stopAnimationRequested?s.stopAnimationRequested=!1:(i++,s.value=i/e*o+a,s.value>s.max&&(s.value=s.max),s.value<s.min&&(s.value=s.min),DxChart.clear(s.canvas),DxChart.redrawCanvas(s.canvas),i<e?DxChart.Effects.updateCanvas(r,s.canvas):t(s))});return r(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartFunnel(t){return DxChart._Base.call(this,t,"funnel"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"default"),this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.5)",this.properties.labelsPosition="edge",this.properties.labelsBounding=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t),this.data=t;for(var e=0;e<t.length;++e)this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this),this.coords=[],this.coordsText=[],DxChart.drawTitle(this),this.drawFunnel(),t.contextmenu&&DxChart.showContext(this),this.drawLabels(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawFunnel=function(){var t=this.properties,e=this.canvas.width-this.marginLeft-this.marginRight,i=this.canvas.height-this.marginTop-this.marginBottom,s=DxChart.arrayMax(this.data),a=this.marginTop;this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.shadowUse&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY));for(var o=0,r=this.data.length;o<r;o++){var n=this.data[0]/s*e,h=this.data[o]/s*e,l=i/this.data.length,c=h/2,x=this.data[o+1],d=(this.data[o+1]?x/s*e:h)/2,u=this.marginLeft+n/2,g=u-c,p=a,f=u+c,m=a,b=u+d,C=a+l,y=u-d,v=a+l;"box"==t.variantValue&&(b=f,C=a+l,y=g,v=a+l),this.context.beginPath(),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=DxChart.parseGradient(this,t.colors[o],g,p,f-g,v-p),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(g,p),this.context.lineTo(f,m),this.context.lineTo(b,C),this.context.lineTo(y,v),this.context.closePath(),this.coords.push([g,p,f,m,b,C,y,v]),t.shadowUse||this.context.stroke(),this.context.fill(),a+=l}if(t.shadowUse){DxChart.noShadow(this);for(o=0;o<this.coords.length;++o)this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=DxChart.parseGradient(this,t.colors[o],this.coords[o][0],this.coords[o][1],this.coords[o][2]-this.coords[o][0],this.coords[o][7]-this.coords[o][1]),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(this.coords[o][0],this.coords[o][1]),this.context.lineTo(this.coords[o][2],this.coords[o][3]),this.context.lineTo(this.coords[o][4],this.coords[o][5]),this.context.lineTo(this.coords[o][6],this.coords[o][7]),this.context.closePath(),this.context.stroke(),this.context.fill()}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors)},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.coords.length+1,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}if(!DxChart.isNull(t.labelsData)&&"object"==typeof t.labelsData&&t.labelsData.length>0){var i,s,a=t.textFontStyleObj.face,o=(t.textFontStyleObj.size,t.textColor),r=t.labelsData,n="left"==t.textHalign?"left":"center",h=DxChart.getTextInfo({object:this,prefix:"labels"});i="number"==typeof t.labelsX?t.labelsX:"left"==n?this.marginLeft-15:(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft;for(var l=0;l<this.coords.length;l++){this.context.beginPath(),this.path("ss black fs %",o),DxChart.noShadow(this),s="section"===t.labelsPosition?this.coords[l][1]+(this.coords[l][5]-this.coords[l][3])/2:this.coords[l][1];DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:i+t.labelsOffsetX,y:s+t.labelsOffsetY,text:r[l]||"",valign:"center",halign:n,bounding:t.labelsBounding,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:l})});if(t.labelsSticks&&r[l]){this.context.font=h.size+"px "+a;var c=this.context.measureText(r[l]).width;this.path("b m % % l % % s gray",i+c+10,s,("section"===t.labelsPosition?this.coords[l][0]+(this.coords[l][6]-this.coords[l][0])/2:this.coords[l][0])-10,s)}}var x=r[l];if(x&&"edge1"===t.labelsPosition&&(DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:i+t.labelsOffsetX,y:this.coords[l-1][5]+t.labelsOffsetY,text:x,valign:"center",halign:n,bounding:t.labelsBounding,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:l})}),t.labelsSticks)){this.context.font=h.size+"pt "+a;c=this.context.measureText(x).width;this.path("b m % % l % % s gray",i+c+10,Math.round(this.coords[l-1][7]),this.coords[l-1][6]-10,Math.round(this.coords[l-1][7]))}}},this.getShape=function(t){for(var e=this.properties,i=this.coords,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=0,n=i.length;r<n;++r){var h=i[r];if(this.context.beginPath(),this.context.moveTo(h[0],h[1]),this.context.lineTo(h[2],h[3]),this.context.lineTo(h[4],h[5]),this.context.lineTo(h[6],h[7]),this.context.lineTo(h[8],h[9]),this.context.isPointInPath(a,o)){if(DxChart.parseTooltipText&&e.tooltipsData)var l=DxChart.parseTooltipText(e.tooltipsData,r);return{object:this,coords:h,dataset:0,index:r,sequentialIndex:r,label:e.labelsData&&"string"==typeof e.labelsData[r]?e.labelsData[r]:null,tooltip:"string"==typeof l?l:null}}}return null},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight){if("function"==typeof e.highlightStyle)return void e.highlightStyle(t);if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle){for(var i=0;i<this.coords.length;++i)if(i!==t.sequentialIndex){var s=this.coords[i];this.context.beginPath(),this.context.moveTo(s[0]-.5,s[1]-.5),this.context.lineTo(s[2]+.5,s[3]-.5),this.context.lineTo(s[4]+.5,s[5]+.5),this.context.lineTo(s[6]-.5,s[7]+.5),this.context.closePath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill()}return}s=t.coords;this.context.beginPath(),this.context.moveTo(s[0]-.5,s[1]-.5),this.context.lineTo(s[2]+.5,s[3]-.5),this.context.lineTo(s[4]+.5,s[5]+.5),this.context.lineTo(s[6]-.5,s[7]+.5),this.context.closePath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill()}},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);if(i[0]>e.marginLeft&&i[0]<this.canvas.width-e.marginRight&&i[1]>e.marginTop&&i[1]<this.canvas.height-e.marginBottom)return this},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke));t.colors;var e=t.keyColors;if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords[t];if(i&&8==i.length){var s=this.context.lineWidth;this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(i[0]-.5,i[1]-.5),this.context.lineTo(i[2]+.5,i[3]-.5),this.context.lineTo(i[4]+.5,i[5]+.5),this.context.lineTo(i[6]-.5,i[7]+.5),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.lineWidth=s,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors[t.index],a=DxChart.isString(i.tooltipsFormattedKeyLabels[t.index])?i.tooltipsFormattedKeyLabels[t.index]:"";return DxChart.isNull(i.tooltipsFormattedKeyColors)||"object"!=typeof i.tooltipsFormattedKeyColors||"string"!=typeof i.tooltipsFormattedKeyColors[t.index]||(s=i.tooltipsFormattedKeyColors[t.index]),{label:a,color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+((a[2]-a[0])/2+a[0])-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=s[0]+((a[2]-a[0])/2+a[0])-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight+e.properties.tooltipsOffsetY-10+"px"),isNexacroRuntime?parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.set_top(parseFloat(t.tooltip.getOffsetTop())+20):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartGantt(t){return DxChart._Base.call(this,t,"gantt"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.xaxisLabelsPosition="section",this.properties.yaxisLabelsPosition="section",this.properties.borderUse=!0,this.properties.xaxisDateFormat="yyyy-MM-dd",this.properties.xaxisWeekList=["S","M","T","W","T","F","S"],this.properties.xaxisWeeklyTitleFontStyle="bold 10px Tahoma",this.properties.xaxisWeeklyTitleColor="#000000",this.properties.xaxisWeeklySubTitleFontStyle="10px Tahoma",this.properties.xaxisWeeklySubTitleColor="#000000",this.properties.xaxisWeeklyDateWidth=20,this.properties.xaxisWeeklySundayColor="#000000",this.properties.xaxisWeeklySundayBackgroundColor="#eeeeee",this.properties.xaxisWeeklyTitleBackgroundColor="#ffffff",this.properties.xaxisWeeklySubTitleBackgroundColor=null,this.properties.xaxisWeeklyTitleHeight=20,this.properties.xaxisWeeklyTitleLineWidth=2,this.properties.xaxisWeeklyTitleLineColor="#000000",this.properties.xaxisWeeklySubTitleLineWidth=1,this.properties.xaxisWeeklySubTitleLineColor="#777777",this.properties.xaxisWeeklyVLineWidth=1,this.properties.xaxisWeeklyVLineColor="#000000",this.properties.xaxisWeeklyVSubLineWidth=1,this.properties.xaxisWeeklyVSubLineColor="#dddddd",this.properties.xaxisWeeklyRowHeight=36,this.properties.xaxisWeeklyHLineWidth=1,this.properties.xaxisWeeklyHLineColor="#eeeeee",this.properties.linkedUse=!0,this.properties.linkedLineColor="#000000",this.properties.linkedLineWidth=1,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){var e;if(this.binddataset&&t.toString().indexOf("bind:")>=0)t=(e=DxChart.parseJsonDataset(this,t))[0],this.saveMax=e[1],this.saveMin=e[2],this.isDate=e[3];else if(t&&t.length>0){t[0].start.constructor==Date&&(this.isDate=!0);var i=0,s=Number.POSITIVE_INFINITY;if(this.isDate)for(var a=0,o=t.length;a<o;a++){(n=t[a]).start_org=n.start,n.end_org=n.end,n.start=n.start.getTime(),n.end=n.end.getTime();var r=n.end-n.start;i=Math.max(n.end,i),s=Math.min(n.start,s),n.gap=r/864e5,n.duration=r}else for(a=0,o=t.length;a<o;a++){var n;(n=t[a]).duration=n.end-n.start}this.saveMax=i,this.saveMin=s}if(this.data=t,this.orgData=DxChart.arrayClone(t),t){a=0;for(var h=0;a<t.length;++a)"string"==typeof t[a].start&&(t[a].start=parseFloat(t[a].start)),"string"==typeof t[a].end&&(t[a].end=parseFloat(t[a].end)),"string"==typeof t[a].duration&&(t[a].duration=parseFloat(t[a].duration)),"string"==typeof t[a].complete&&(t[a].complete=parseFloat(t[a].complete)),"string"==typeof t[a].lineWidth&&(t[a].lineWidth=parseFloat(t[a].lineWidth))}else;this.properties.yaxisLabels=[];for(a=0,h=0;a<t.length;++a)if(DxChart.isArray(this.data[a]))for(var l=0;l<this.data[a].length;++l)this.data[a][l].index=l,this.data[a][l].dataset=a,this["$"+h++]=this.data[a][l],this.data[a][l].label&&(this.properties.yaxisLabels[a]=this.data[a][l].label);else this.data[a].index=0,this.data[a].dataset=a,this["$"+h++]=this.data[a],this.properties.yaxisLabels[a]=this.data[a].label;var c=this.properties;if(!c.xaxisLabels){if(this.isDate){var x=new nexacro.Date;null==c.xaxisScaleMin||null==c.xaxisScaleMin?x.setTime(this.saveMin):c.xaxisScaleMin.constructor==Date||c.xaxisScaleMin instanceof nexacro.Date?x=c.xaxisScaleMin:x.setTime(this.saveMin),c.xaxisDateLeftGap>0&&x.addDate(-c.xaxisDateLeftGap),c.xaxisScaleMin=x.getTime();var d=new nexacro.Date;null==c.xaxisScaleMax||null==c.xaxisScaleMax?d.setTime(this.saveMax):c.xaxisScaleMax.constructor==Date||c.xaxisScaleMax instanceof nexacro.Date?d=c.xaxisScaleMax:d.setTime(this.saveMax),c.xaxisDateRightGap>0&&d.addDate(c.xaxisDateRightGap),c.xaxisScaleMax=d.getTime();var u=c.xaxisLabelsCount+("edge"==c.xaxisLabelsPosition?1:0),g=c.xaxisScaleMax-c.xaxisScaleMin,p=c.xaxisDateFormat,f=(m=g/u)-parseInt(m/2);c.xaxisLabels=[],"edge"==c.xaxisLabelsPosition&&(f=m=g/(u-2),c.xaxisLabels.push(c.xaxisLabelsFormattedUnitsPre+DxChart.getMaskString("date",p,x)+c.xaxisLabelsFormattedUnitsPost),u-=2);for(a=0,o=u;a<o;a++)x.setTime(0==a?x.getTime()+f:x.getTime()+m),c.xaxisLabels.push(c.xaxisLabelsFormattedUnitsPre+DxChart.getMaskString("date",p,x)+c.xaxisLabelsFormattedUnitsPost);"edge"==c.xaxisLabelsPosition?c.backgroundGridVlinesCount=c.xaxisLabels.length-1:c.backgroundGridVlinesCount=c.xaxisLabels.length}else{c.xaxisScaleMin=this.saveMin-c.xaxisDateLeftGap,c.xaxisScaleMax=this.saveMax-c.xaxisDateRightGap;var m;f=(m=(g=c.xaxisScaleMax-c.xaxisScaleMin)/c.xaxisLabelsCount)-parseInt(m/2);c.xaxisLabels=[];for(a=0,o=c.xaxisLabelsCount;a<o;a++)x.addDate(0==a?f:m),c.xaxisLabels.push(0==a?f:++m);c.backgroundGridVlinesCount=c.xaxisLabels.length}c.xaxisScaleMinOrg=c.xaxisScaleMin,c.xaxisScaleMaxOrg=c.xaxisScaleMax}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;DxChart._BeforeDraw(this),this.coordsText=[],this.coordsLink=[],this.graphArea=this.canvas.width-this.marginLeft-this.marginRight,this.graphHeight=this.canvas.height-this.marginTop-this.marginBottom,this.numEvents=this.data.length,this.barHeight=this.graphHeight/this.numEvents,this.halfBarHeight=this.barHeight/2,DxChart.isNull(t.backgroundGridHlinesCount)&&this.set("backgroundGridHlinesCount",this.data.length),t.yaxisLabelsSpecific=[];for(var e=0;e<this.data.length;++e)"object"==typeof this.data[e]&&"object"==typeof this.data[e][0]?t.yaxisLabelsSpecific.push(this.data[e][0].label):t.yaxisLabelsSpecific.push(this.data[e].label);return t.yaxisLabels=t.yaxisLabelsSpecific,"week"==t.variantValue||"month"==t.variantValue?this.set("backgroundGridVlines",!1):DxChart.Background.draw(this),this.drawLabels(),"week"!=t.variantValue&&"month"!=t.variantValue||1!=t.linkedUse||this.drawLink(),this.drawEvents(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.canvasResize=function(t,e){nexacro&&(isNexacroRuntime?this.canvas.width==t&&this.canvas.height==e||(this.canvas.set_width(t),this.canvas.set_height(e),this.canvas._refform.resetScroll()):this.canvas.width==t&&this.canvas.height==e||(this.canvas.parent._static.set_width(t),this.canvas.parent._static.set_height(e),this.canvas.width=t,this.canvas.height=e,this.canvas.parent.form.resetScroll()))},this.drawXAxis=function(){var t=this.properties;this.context,"number"==typeof t.xaxisTickmarksLength&&t.xaxisTickmarksLength;t.xaxisPosition="top";var e=t.xaxisWeeklyTitleHeight,i=t.xaxisWeeklySubTitleHeight;void 0===i&&(i=e);var s=new Date(t.xaxisScaleMinOrg);"week"==t.variantValue?s.setDate(s.getDate()-(s.getDay()+7)):"month"==t.variantValue&&(0===i?(s.setDate(s.getDate()-30),s.setDate(1)):s.setDate(s.getDate()-7));var a=new Date(t.xaxisScaleMaxOrg);"week"==t.variantValue?a.setDate(a.getDate()+(6-a.getDay())):"month"==t.variantValue&&(0===i?(a.setDate(a.getDate()+30),a.setDate(0)):a.setDate(a.getDate()+7)),t.xaxisScaleMin=s.getTime(),t.xaxisScaleMax=a.getTime();var o,r=new Date(s),n=(new Date(a),a.getTime()-s.getTime()),h=Math.abs(n/864e5),l=t.xaxisWeeklyDateWidth,c=l*h;this.weeklyWidth=c,this.weeklyHeight=t.xaxisWeeklyRowHeight*this.data.length,this.weeklyDateWidth=l,this.weeklyDateCount=h,o=t.marginTop-(e+i),this.canvasResize(t.marginLeft+t.marginRight+c,t.marginTop+t.marginBottom+this.weeklyHeight+(e+i));var x=t.marginLeft,d=o;this.path("lw % b m % % l % % s %",t.xaxisWeeklyTitleLineWidth,t.marginLeft,d,t.marginLeft+c,d,t.xaxisWeeklyTitleLineColor),d+=e,this.path("lw % b m % % l % % s %",t.xaxisWeeklyTitleLineWidth,t.marginLeft,d,t.marginLeft+c,d,t.xaxisWeeklyTitleLineColor),t.xaxisWeeklyTitleBackgroundColor&&this.path("b r % % % % f %",t.marginLeft,o+t.xaxisWeeklyTitleLineWidth,c,d-o-2*t.xaxisWeeklyTitleLineWidth,t.xaxisWeeklyTitleBackgroundColor),0!==i&&(d+=i,this.path("lw % b m % % l % % s %",t.xaxisWeeklySubTitleLineWidth,t.marginLeft,d,t.marginLeft+c,d,t.xaxisWeeklySubTitleLineColor)),t.xaxisWeeklySubTitleBackgroundColor&&this.path("b r % % % % f %",t.marginLeft,d-i,c,d-i,t.xaxisWeeklySubTitleBackgroundColor);for(var u=o+(e+i)+t.xaxisWeeklyRowHeight,g=0,p=this.data.length-1;g<p;g++)this.path("lw % b m % % l % % s %",t.xaxisWeeklyHLineWidth,t.marginLeft+t.xaxisWeeklyTitleLineWidth,u,t.marginLeft+c-t.xaxisWeeklyTitleLineWidth,u,t.xaxisWeeklyHLineColor),u+=t.xaxisWeeklyRowHeight;x=t.marginLeft,d=o;var f,m,b,C=o+(e+i)+this.weeklyHeight;if("week"==t.variantValue){for(g=0,p=c-l/2;g<p;g+=7*l)if(this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,x,d,x,C,t.xaxisWeeklyVLineColor),f=DxChart.getMaskString("date","yyyy-MM-dd",r),m=x+7*l/2,b=d+e/2,DxChart.text({object:this,textInfoPrefix:"xaxisWeeklyTitle",x:m,y:b,text:f,color:t.xaxisWeeklyTitleColor,valign:"center",halign:"center",marker:!1,angle:0,tag:"xaxis.labels"}),r.setDate(r.getDate()+7),x+=7*l,r.getTime()>=t.xaxisScaleMax){this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,x,d,x,C,t.xaxisWeeklyVLineColor);break}}else if("month"==t.variantValue)for(g=0,p=c-l/2;g<p;g+=l)if(0==g||1==r.getDate()){if(this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,x,d,x,C,t.xaxisWeeklyVLineColor),f=DxChart.getMaskString("date","yyyy-MM",r),m=x+4*l,b=d+e/2,DxChart.text({object:this,textInfoPrefix:"xaxisWeeklyTitle",x:m,y:b,text:f,color:t.xaxisWeeklyTitleColor,valign:"center",halign:0==i?"left":"center",marker:!1,angle:0,tag:"xaxis.labels"}),r.setDate(r.getDate()+1),x+=l,r.getTime()>=t.xaxisScaleMax){this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,x,d,x,C,t.xaxisWeeklyVLineColor);break}}else if(r.setDate(r.getDate()+1),x+=l,r.getTime()>=t.xaxisScaleMax){this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,x,d,x,C,t.xaxisWeeklyVLineColor);break}x=t.marginLeft,d=o+e+t.xaxisWeeklyTitleLineWidth,r=new Date(s);var y=t.xaxisWeekList,v=0,D=0;if("week"==t.variantValue)for(g=0,p=c-l/2;g<p;g+=l)0!=(D=v%7)&&6!=D||t.xaxisWeeklySundayBackgroundColor&&this.path("b r % % % % f %",x+t.xaxisWeeklySubTitleLineWidth,d+e,l-2*t.xaxisWeeklySubTitleLineWidth,C-(d+e+t.xaxisWeeklySubTitleLineWidth),t.xaxisWeeklySundayBackgroundColor),0!=D&&this.path("lw % b m % % l % % s %",t.xaxisWeeklyVSubLineWidth,x,d,x,C,t.xaxisWeeklyVSubLineColor),f=y[D],m=x+l/2,b=d+e/2,DxChart.text({object:this,textInfoPrefix:"xaxisWeeklySubTitle",x:m,y:b,color:0==D||6==D?t.xaxisWeeklySundayColor:t.xaxisWeeklySubTitleColor,text:f,valign:"center",halign:"center",marker:!1,angle:0,tag:"xaxis.labels"}),x+=l,v++;else if("month"==t.variantValue&&i>0)for(g=0,p=c-l/2;g<p;g+=l)0!=(D=r.getDay())&&6!=D||t.xaxisWeeklySundayBackgroundColor&&this.path("b r % % % % f %",x+t.xaxisWeeklySubTitleLineWidth,d+e,l-2*t.xaxisWeeklySubTitleLineWidth,C-(d+e+t.xaxisWeeklySubTitleLineWidth),t.xaxisWeeklySundayBackgroundColor),this.path("lw % b m % % l % % s %",t.xaxisWeeklyVSubLineWidth,x,d,x,C,t.xaxisWeeklyVSubLineColor),f=r.getDate()+"",m=x+l/2,b=d+e/2,DxChart.text({object:this,textInfoPrefix:"xaxisWeeklySubTitle",x:m,y:b,color:0==D||6==D?t.xaxisWeeklySundayColor:t.xaxisWeeklySubTitleColor,text:f,valign:"center",halign:"center",marker:!1,angle:0,tag:"xaxis.labels"}),r.setDate(r.getDate()+1),x+=l,v++;this.path("lw % b m % % l % % s %",t.xaxisWeeklyTitleLineWidth,t.marginLeft,C,t.marginLeft+c,C,t.xaxisWeeklyTitleLineColor)},this.drawLabels=function(){"month"==this.properties.variantValue||"week"==this.properties.variantValue?this.drawXAxis():(DxChart.drawXAxis(this),DxChart.drawYAxis(this))},this.drawLink=function(){var t,e,i,s,a,o,r=this.properties,n=this.data;function h(t){for(var e=0;e<n.length;++e)if(n[e].label==t)return e}this.path("lw % fs % ss %",r.linkedLineWidth,r.linkedLineColor,r.linkedLineColor),s=r.xaxisWeeklyRowHeight;for(var l=r.xaxisScaleMin,c=0;c<n.length;++c)if((t=n[c]).link&&"number"==typeof t.start){e=this.marginLeft+(t.start-l)/(r.xaxisScaleMax-l)*this.weeklyWidth,i=this.marginTop+c*s,i+=s/2,e+=t.duration/(r.xaxisScaleMax-l)*this.weeklyWidth;var x=h(t.link);if(x>c){var d=n[x];a=this.marginLeft+(d.start-l)/(r.xaxisScaleMax-l)*this.weeklyWidth,o=this.marginTop+x*s+r.marginInner;var u=[],g=[];if(e>=(a+=10)){this.context.beginPath(),this.context.moveTo(e,i),this.context.lineTo(e+10,i);var p=(o-i)/2;this.context.lineTo(e+10,i+p),this.context.lineTo(a,i+p),this.context.lineTo(a,o),this.context.stroke(),u=["back",e,i,e+10,i,e+10,i+p,a,i+p,a,o],this.context.beginPath(),this.context.moveTo(a,o),this.context.lineTo(a-5,o-5),this.context.lineTo(a+5,o-5),this.context.lineTo(a,o),this.context.fill(),g=["back",a,o,a-5,o-5,a+5,o-5,a,o],this.coordsLink[c]=[u,g]}else this.context.beginPath(),this.context.moveTo(e,i),this.context.lineTo(a,i),this.context.lineTo(a,o),this.context.stroke(),u=["default",e,i,a,i],this.context.beginPath(),this.context.moveTo(a,o),this.context.lineTo(a-5,o-5),this.context.lineTo(a+5,o-5),this.context.fill(),g=["back",a,o,a-5,o-5,a+5,o-5,a,o],this.coordsLink[c]=[u,g]}}},this.drawEvents=function(){var t=this.properties,e=this.data;if(this.coords=[],t.backgroundVbars)for(var i=0,s=t.backgroundVbars.length;i<s;++i){t.backgroundVbars[i][0]+t.backgroundVbars[i][1]>t.xaxisScaleMax&&(t.backgroundVbars[i][1]=364-t.backgroundVbars[i][0]);var a=this.marginLeft+(t.backgroundVbars[i][0]-t.xaxisScaleMin)/(t.xaxisScaleMax-t.xaxisScaleMin)*this.graphArea,o=this.marginTop,r=this.graphArea/(t.xaxisScaleMax-t.xaxisScaleMin)*t.backgroundVbars[i][1],n=this.canvas.height-this.marginTop-this.marginBottom;a+r>this.canvas.width-this.marginRight&&(r=this.canvas.width-this.marginRight-a),this.context.fillStyle=t.backgroundVbars[i][2],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(a,o,r,n)}if(t.backgroundHbars)for(i=0,s=t.backgroundHbars.length;i<s;++i)if(t.backgroundHbars[i]){a=this.marginLeft,o=(this.canvas.height-this.marginTop-this.marginBottom)/this.data.length*i+this.marginTop,r=this.graphArea,n=this.barHeight;this.context.fillStyle=t.backgroundHbars[i],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(a,o,r,n)}var h=0;for(i=0;i<e.length;++i)if("number"==typeof e[i].start)this.drawSingleEvent(e[i],i,h++);else for(var l=0;l<e[i].length;++l){var c=l;this.drawSingleEvent(e[i][l],i,h++,c)}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=0,r=this.coords.length;o<r;o++){var n=this.coords[o][0],h=this.coords[o][1],l=this.coords[o][2],c=this.coords[o][3];if(s>=n&&s<=n+l&&a>=h&&a<=h+c){if(DxChart.parseTooltipText&&e.tooltipsData)var x=DxChart.parseTooltipText(e.tooltipsData,o);var d=this.coords[o][4].dataset,u=this.coords[o][4]&&"number"==typeof this.coords[o][4].index?this.coords[o][4].index:0,g=this.coords[o][4].label;return{object:this,x:n,y:h,width:l,height:c,dataset:d,index:u,sequentialIndex:this.coords[o][5],label:g,tooltip:"string"==typeof x?x:null}}}},this.drawSingleEvent=function(t,e,i){var s=this.properties;t.dataset=e,"number"==typeof arguments[3]&&(t.index=arguments[3]);var a,o,r,n,h=s.xaxisScaleMin;this.context.beginPath(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.color?t.color:s.colorsDefault,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"week"==s.variantValue||"month"==s.variantValue?(n=s.xaxisWeeklyRowHeight,a=this.marginLeft+(t.start-h)/(s.xaxisScaleMax-h)*this.weeklyWidth,o=this.marginTop+e*n,r=t.duration/(s.xaxisScaleMax-h)*this.weeklyWidth):(n=this.barHeight,a=this.marginLeft+(t.start-h)/(s.xaxisScaleMax-h)*this.graphArea,o=this.marginTop+e*n,a+(r=t.duration/(s.xaxisScaleMax-h)*this.graphArea)>this.canvas.width-this.marginRight&&(r=this.canvas.width-this.marginRight-a)),this.coords.push([a,o+s.marginInner,r,n-2*s.marginInner,t,i]),(s.borderUse||"number"==typeof t.border)&&(this.context.strokeStyle="string"==typeof t.border?t.border:"black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth="number"==typeof t.lineWidth?t.lineWidth:1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),0!==t.lineWidth&&this.context.strokeRect(a,o+s.marginInner,r,n-2*s.marginInner)),d=DxChart.isNull(t.complete)?t.color?t.color:s.colorsDefault:t.background?t.background:s.colorsDefault,d=DxChart.parseGradient(this,d,a,o+s.marginInner,r,n-2*s.marginInner),this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),this.context.fillRect(a,o+s.marginInner,r,n-2*s.marginInner);t.complete;var l=n/2;if("number"==typeof t.complete&&(d=t.color?t.color:"#00cc00",d=DxChart.parseGradient(this,d,a,o+s.marginInner,t.complete/100*r,n-2*s.marginInner),this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),this.context.fillRect(a,o+s.marginInner,t.complete/100*r,n-2*s.marginInner),s.labelsComplete)){this.context.beginPath();var c=DxChart.getTextInfo({object:this,prefix:"labelsComplete"});DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:a+r+5+s.labelsCompleteOffsetX,y:o+l+s.labelsCompleteOffsetY,text:String(t.complete)+"%",valign:"center",tag:"labels.complete"})}if("string"==typeof t.sublabel){var x=t.sublabel;g="right"==(u=t.sublabelAlign?t.sublabelAlign:"center")?a+r-5:"center"==u?a+r/2:a+5;var d=(c=DxChart.getTextInfo({object:this,prefix:"labelsInbar"})).color?c.color:"#000000";this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:g+s.labelsInbarOffsetX,y:o+l+s.labelsInbarOffsetY,text:x,valign:"center",halign:u,bounding:"string"==typeof s.labelsInbarBackground,boundingFill:"string"==typeof s.labelsInbarBackground?s.labelsInbarBackground:null,tag:"labels.inbar"})}if(("month"==s.variantValue||"week"==s.variantValue)&&"string"==typeof t.label){x=t.label;var u="right",g=a-5;d=(c=DxChart.getTextInfo({object:this,prefix:"labels"})).color?c.color:"#000000";this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:g-s.labelsOffsetX,y:o+l+s.labelsOffsetY,text:x,valign:"center",halign:u,bounding:!1,boundingFill:null,tag:"labels.inbar"})}if(s.labelsInbar&&s.labelsInbar[i]){x=String(s.labelsInbar[i]),u="left"==s.labelsInbarAlign?"left":"center";if("right"==(u="right"==s.labelsInbarAlign?"right":u))g=a+r-5;else if("center"==u)g=a+r/2;else g=a+5;s.labelsInbarAbove&&(g=a+r+5,u="left");c=DxChart.getTextInfo({object:this,prefix:"labelsInbar"});this.context.fillStyle=s.labelsInbarColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:g+s.labelsInbarOffsetX,y:o+l+s.labelsInbarOffsetY,text:x,valign:"center",halign:u,bounding:"string"==typeof s.labelsInbarBackground,boundingFill:"string"==typeof s.labelsInbarBackground?s.labelsInbarBackground:null,tag:"labels.inbar"})}},this.highlight=function(t){var e=this.properties;if("string"!=typeof e.highlightStyle||"invert"!==e.highlightStyle)"function"==typeof e.highlightStyle?e.highlightStyle(t):DxChart.Highlight.rect(this,t);else for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill())},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.marginLeft&&e[0]<this.canvas.width-this.marginRight&&e[1]>this.marginTop&&e[1]<this.canvas.height-this.marginBottom)return this},this.changing_mousemove=function(t){var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){var i=DxChart.Registry.get("changing.gantt");if(i){var s=DxChart.getMouseXY(t),a=i.object,o=i.dataset,r=i.index,n=(s[0]-i.mousex)/(a.canvas.width-a.marginLeft-a.marginRight)*e.xaxisScaleMax,h=i.event_start||0,l=i.event_duration,c="object"==typeof a.data[o][r]?a.data[o][r]:a.data[o];if(this.isDate){var x=e.xaxisScaleMax-e.xaxisScaleMin;n=(s[0]-i.mousex)/(a.canvas.width-a.marginLeft-a.marginRight)*x}var d="";if("move"===i.mode)if(d="move",n=Math.round(n),DxChart.isArray(a.data[o])){o=i.dataset,r="number"==typeof i.index?i.index:0;(c=a.data[o][r]).start=h+n,h+n<e.xaxisScaleMin?c.start=e.xaxisScaleMin:h+n+c.duration>e.xaxisScaleMax&&(c.start=e.xaxisScaleMax-c.duration)}else c.start=h+n,h+n<e.xaxisScaleMin?a.data[o].start=e.xaxisScaleMin:h+n+a.data[o].duration>e.xaxisScaleMax&&(a.data[o].start=e.xaxisScaleMax-a.data[o].duration);else if("resize"==i.mode){d="e-resize",s[0]>a.canvas.width-a.marginRight&&(s[0]=a.canvas.width-a.marginRight);n=(s[0]-DxChart.Registry.get("changing.gantt").mousex)/(a.canvas.width-a.marginLeft-a.marginRight)*e.xaxisScaleMax;if(n=Math.round(n),this.isDate){x=e.xaxisScaleMax-e.xaxisScaleMin;n=(s[0]-DxChart.Registry.get("changing.gantt").mousex)/(a.canvas.width-a.marginLeft-a.marginRight)*x,n=Math.round(n)}DxChart.isArray(a.data[o])?(a.data[o][r].duration=l+n,a.data[o][r].duration<=0&&(a.data[o][r].duration=1)):(a.data[o].duration=l+n,a.data[o].duration<0&&(a.data[o].duration=1))}DxChart.resetColorsToOriginalValues(a);DxChart.redrawCanvas(a.canvas),DxChart.Effects.updateCanvas(function(){isNexacroRuntime?this.canvas._refform.set_cursor("resize"==d?"ew-resize":"move"):t.target.cursor=d},a.canvas),DxChart._fireEvent(a,"onchange")}}},this.getXCoord=function(t){var e=this.properties,i=e.xaxisScaleMin,s=e.xaxisScaleMax,a=this.canvas.width-this.marginLeft-this.marginRight;return t>s||t<i?null:(t-i)/(s-i)*a+this.marginLeft},this.getValue=function(t){var e=this.properties;if(2==t.length)var i=t;else i=DxChart.getMouseXY(t);var s=i[0],a=(i[1],(s-this.marginLeft)/(this.canvas.width-this.marginLeft-this.marginRight));return((a*=e.xaxisScaleMax-e.xaxisScaleMin)<e.xaxisScaleMin||a>e.xaxisScaleMax)&&(a=null),a},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.data=DxChart.arrayClone(this.data),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.colorsDefault=DxChart.arrayClone(t.colorsDefault),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colorsDefault=this.parseSingleColorForGradient(t.colorsDefault),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){var e=this.properties,i=arguments[1]||{};if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var s=RegExp.$1.split(":"),a=i.start+i.duration>e.xaxisScaleMax?e.xaxisScaleMax:i.start+i.duration,o=this.context.createLinearGradient("number"==typeof i.start?this.getXCoord(i.start):this.marginLeft,0,"number"==typeof i.start?this.getXCoord(a):this.canvas.width-this.marginRight,0),r=1/(s.length-1);o.addColorStop(0,DxChart.trim(s[0]));for(var n=1;n<s.length;++n)o.addColorStop(n*r,DxChart.trim(s[n]))}return o||t},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t&&""!=t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.properties;this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData);var t=this,e=arguments[0]||{},i=arguments[1]?arguments[1]:function(){},s=(t.canvas,t.context,e.frames||30),a=0,o=DxChart.arrayClone(t.data),r=function(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else if(DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a<=s){for(var e=0,n=t.data.length;e<n;++e)if("object"==typeof t.data[e]&&t.data[e][0]&&"object"==typeof t.data[e][0])for(var h=0;h<t.data[e].length;++h)t.data[e][h].duration=a/s*o[e][h].duration;else t.data[e].duration=a/s*o[e].duration;t.reset(),a++,DxChart.Effects.updateCanvas(r,t.canvas)}else i(t)};return r(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetColorsToOriginalValues=function(){this.properties;for(var t=0;t<this.original_colors.data.length;++t)if(this.original_colors.data[t].background&&(this.data[t].background=DxChart.arrayClone(this.original_colors.data[t].background)),this.original_colors.data[t].color&&(this.data[t].color=DxChart.arrayClone(this.original_colors.data[t].color)),"object"==typeof this.original_colors.data[t][0]&&"number"==typeof this.original_colors.data[t][0].start)for(var e=0,i=this.original_colors.data[t].length;e<i;++e)this.data[t][e].background=DxChart.arrayClone(this.original_colors.data[t][e].background),this.data[t][e].color=DxChart.arrayClone(this.original_colors.data[t][e].color)},this.reset=function(){this.resetColorsToOriginalValues(),this.colorsParsed=!1,this.coordsText=[],this.original_colors=[],this.firstDraw=!0,this.coords=[]},this.isAdjustable=function(t){var e=this.properties;return!!DxChart.isNull(e.changeableOnly)||!!(DxChart.isArray(e.changeableOnly)&&t&&e.changeableOnly[t.sequentialIndex])},this.tooltipSubstitutions=function(t){var e=this["$"+t.index],i={start:e.start,end:e.end,duration:e.duration,complete:e.complete,label:e.label};return{index:e.index,dataset:e.dataset,sequentialIndex:t.index,value:i,format:this.properties.tooltipsDateFormat}},this.tooltipsFormattedCustom=function(t,e){return{}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.set_top(parseFloat(t.tooltip.top)+a[3]/2+5)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+a[3]/2+5+"px"))},DxChart.register(this),DxChart.parseProperties(this,t.options),this.resetData(t.data),this}function DxChartGauge(t){return DxChart._Base.call(this,t,"gauge"),DxChart.setDefaultProperties(this,"angles"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.centerx=null,this.properties.centery=null,this.properties.radius=null,this.properties.labelsCount=5,this.properties.labelsCentered=!1,this.properties.labelsOffsetRadius=0,this.properties.labelsOffsetAngle=0,this.properties.labelsSpecific=null,this.properties.labelsSpecificFormattedDecimals=0,this.properties.labelsSpecificFormattedPoint=".",this.properties.labelsSpecificFormattedThousand=";",this.properties.labelsSpecificFormattedUnitsPre="",this.properties.labelsSpecificFormattedUnitsPost="",this.properties.labelsOffsetX=0,this.properties.labelsOffsetY=0,this.properties.labelsColor=null,this.properties.labelsValue=!1,this.properties.labelsValueYPos=.5,this.properties.labelsValueUnitsPre="",this.properties.labelsValueUnitsPost="",this.properties.labelsValueBounding=!0,this.properties.labelsValueBoundingFill="white",this.properties.labelsValueBoundingStroke="black",this.properties.labelsValueColor=null,this.properties.labelsValueDecimals=null,this.properties.labelsValuePoint=null,this.properties.labelsValueThousand=null,this.properties.shadowUse=!0,this.properties.shadowStyle="0px 0px 15px gray",this.properties.shadowStyleObj=DxChart._parseShadowInfo(this.properties.shadowStyle),this.properties.colorsRedColor="#DC3912",this.properties.colorsRedWidth=10,this.properties.colorsYellowColor="#FF9900",this.properties.colorsYellowWidth=10,this.properties.colorsGreenColor="rgba(0,0,0,0)",this.properties.colorsGreenWidth=10,this.properties.colorsRanges=null,this.properties.needleSize=null,this.properties.needleTail=!1,this.properties.needleColors=["#D5604D","red","green","yellow"],this.properties.needleType="triangle",this.properties.needleWidth=7,this.properties.borderOuter="#ccc",this.properties.borderInner="#f1f1f1",this.properties.borderOutline="black",this.properties.borderGradient=!1,this.properties.backgroundColor="white",this.properties.centerpinColor="blue",this.properties.centerpinRadius=null,this.properties.tickmarksSmall=25,this.properties.tickmarksSmallColor="black",this.properties.tickmarksMedium=0,this.properties.tickmarksMediumColor="black",this.properties.tickmarksLarge=5,this.properties.tickmarksLargeColor="black",this.properties.clearto="rgba(0,0,0,0)",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){if(this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null,this.valueOriginal=this.value,"object"==typeof this.value)for(var s=0;s<this.value.length;++s)this.value[s]>this.max&&(this.value[s]=e),this.value[s]<this.min&&(this.value[s]=t);else this.value>this.max&&(this.value=e),this.value<this.min&&(this.value=t);this.properties.colorsRedStart=.9*this.max,this.properties.colorsGreenEnd=.7*this.max},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this,!0),this.currentValue=this.value,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),this.startAngle=t.anglesStart?t.anglesStart:DxChart.HALFPI/3+DxChart.HALFPI,this.endAngle=t.anglesEnd?t.anglesEnd:DxChart.TWOPI+DxChart.HALFPI-DxChart.HALFPI/3,isNexacroRuntime&&(this.startAngle=t.anglesStart?t.anglesStart-DxChart.HALFPI:DxChart.HALFPI/3,this.endAngle=t.anglesEnd?t.anglesEnd-DxChart.HALFPI:DxChart.TWOPI-DxChart.HALFPI/3),this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.centerpinRadius=.16*this.radius,this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),"number"==typeof t.centerpinRadius&&(this.centerpinRadius=t.centerpinRadius),t.contextmenu&&DxChart.showContext(this),this.drawBackGround(),this.drawGradient(),this.drawColorBands(),this.drawSmallTickmarks(),this.drawMediumTickmarks(),this.drawLargeTickmarks(),this.drawLabels(),this.drawTopTitle(),this.drawBottomTitle(),"object"==typeof this.value)for(var e=0;e<this.value.length;++e)this.drawNeedle(this.value[e],t.needleColors[e],e);else this.drawNeedle(this.value,t.needleColors[0],0);return this.drawCenterpin(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackGround=function(){var t=this.properties;t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);var e=this.centerx,i=this.centery,s=this.radius,a=e-s,o=i-s;isNexacroRuntime&&(this.context.save(),this.context.translate(a,o),e=s,i=s);var r=DxChart.parseRadialGradientInfo(this,t.backgroundColor,e,i,0,e,i,s);this.context.beginPath(),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),this.context.arc(e,i,s,0,DxChart.TWOPI,0),this.context.fill(),DxChart.noShadow(this),isNexacroRuntime&&(this.context.closePath(),this.context.restore(),e=this.centerx,i=this.centery);var n=t.borderWidth;this.context.beginPath(),this.context.fillStyle=t.borderOuter,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,0),this.context.fill(),this.context.beginPath(),this.context.fillStyle=t.borderInner,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius-n,0,DxChart.TWOPI,0),this.context.fill(),isNexacroRuntime&&(this.context.save(),this.context.translate(a,o),e=s,i=s),this.context.beginPath(),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),this.context.arc(e,i,s-n-4,0,DxChart.TWOPI,0),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore(),e=this.centerx,i=this.centery),t.backgroundGradient&&(this.context.beginPath(),this.context.fillStyle=DxChart.radialGradient({object:this,x1:this.centerx-this.radius,y1:this.centery-this.radius,r1:0,x2:this.centerx-this.radius/2,y2:this.centery-this.radius/2,r2:this.radius,colors:["rgba(255,255,255,0.2)","rgba(0,0,0,0.1)"]}),isNexacroRuntime&&this.context.setElementFillStyle(DxChart.radialGradient({object:this,x1:this.centerx-this.radius,y1:this.centery-this.radius,r1:0,x2:this.centerx-this.radius/2,y2:this.centery-this.radius/2,r2:this.radius,colors:["rgba(255,255,255,0.2)","rgba(0,0,0,0.1)"]})),this.context.arc(this.centerx,this.centery,this.radius-n-4,0,DxChart.TWOPI,0),this.context.fill()),this.context.beginPath(),this.context.strokeStyle=t.borderOutline,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,0),this.context.stroke()},this.drawSmallTickmarks=function(){var t=this.properties,e=t.tickmarksSmall;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var i=this.radius-t.borderWidth-10,s=(this.endAngle-this.startAngle)/e,a=0;a<=e;++a){this.context.beginPath(),this.context.strokeStyle=t.tickmarksSmallColor;var o=s*a+this.startAngle;if(isNexacroRuntime){this.context.setElementLineWidth(this.context.lineWidth),this.context.setElementStrokeStyle(this.context.strokeStyle),o+=DxChart.HALFPI;var r=this.centerx+Math.cos(o)*i,n=this.centery+Math.sin(o)*i,h=this.centerx+Math.cos(o)*(i-5),l=this.centery+Math.sin(o)*(i-5);this.context.moveTo(r,n),this.context.lineTo(h,l)}else{var c=o+1e-5;this.context.arc(this.centerx,this.centery,i,o,c,0),this.context.arc(this.centerx,this.centery,i-5,o,c,0)}this.context.stroke()}},this.drawMediumTickmarks=function(){var t=this.properties;if(t.tickmarksMedium){var e=t.tickmarksMedium;this.context.lineWidth=2,this.context.lineCap="round",this.context.strokeStyle=t.tickmarksMediumColor;for(var i=this.radius-t.borderWidth-10,s=(this.endAngle-this.startAngle)/e,a=0;a<=e;++a){this.context.beginPath();var o=s*a+this.startAngle+(this.endAngle-this.startAngle)/(2*e);if(isNexacroRuntime){if(this.context.setElementLineWidth(2),this.context.setElementLineCap("round"),this.context.setElementStrokeStyle(this.context.strokeStyle),o>this.startAngle&&o<this.endAngle){o=o+DxChart.HALFPI+1e-5;var r=this.centerx+Math.cos(o)*i,n=this.centery+Math.sin(o)*i,h=this.centerx+Math.cos(o)*(i-5),l=this.centery+Math.sin(o)*(i-5);this.context.moveTo(r,n),this.context.lineTo(h,l),this.context.stroke()}}else{var c=o+1e-5;o>this.startAngle&&o<this.endAngle&&(this.context.arc(this.centerx,this.centery,i,o,c,0),this.context.arc(this.centerx,this.centery,i-6,o,c,0),this.context.stroke())}}}},this.drawLargeTickmarks=function(){var t=this.properties,e=t.tickmarksLarge;this.context.lineWidth=3,this.context.lineCap="round";for(var i=this.radius-t.borderWidth-10,s=(this.endAngle-this.startAngle)/e,a=0;a<=e;++a){this.context.beginPath(),this.context.strokeStyle=t.tickmarksLargeColor;var o=s*a+this.startAngle;if(isNexacroRuntime){this.context.setElementLineWidth(3),this.context.setElementLineCap("round"),this.context.setElementStrokeStyle(t.tickmarksLargeColor),o=o+DxChart.HALFPI+1e-5;var r=this.centerx+Math.cos(o)*i,n=this.centery+Math.sin(o)*i,h=this.centerx+Math.cos(o)*(i-5),l=this.centery+Math.sin(o)*(i-5);this.context.moveTo(r,n),this.context.lineTo(h,l)}else{this.context.arc(this.centerx,this.centery,i,o,o+1e-5,0),this.context.arc(this.centerx,this.centery,i-10,o,o+1e-5,0)}this.context.stroke()}},this.drawCenterpin=function(){var t=this.properties,e=this.centerx,i=this.centery,s=this.centerpinRadius,a=e-s,o=i-s;isNexacroRuntime&&(this.context.save(),this.context.translate(a,o),e=s,i=s);var r="radial-gradient(#ddddff 0%,"+t.centerpinColor+" 100%)",n=DxChart.parseRadialGradientInfo(this,r,e+6,i-6,0,e+6,i-6,25);this.context.beginPath(),this.context.fillStyle=n,isNexacroRuntime&&this.context.setElementFillStyle(n),this.context.arc(e,i,s,0,DxChart.TWOPI,0),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore())},this.drawLabels=function(){var t=this.properties;this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);t.textFontStyleObj.face,t.textFontStyleObj.size;var e=t.labelsSpecific?t.labelsSpecific.length-1:t.labelsCount,i=t.labelsOffsetX,s=t.labelsOffsetY,a=t.labelsOffsetAngle,o=DxChart.getTextInfo({object:this,prefix:"labels"});if("string"==typeof t.labelsSpecific&&(e=t.labelsCount-1,t.labelsSpecific&&t.labelsSpecific.length)){"string"==typeof t.labelsSpecific&&(t.labelsSpecific=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsSpecific}));for(var r=0;r<t.labelsSpecific.length;++r)t.labelsSpecific[r]=DxChart.labelSubstitution({object:this,text:t.labelsSpecific[r],index:r,value:this.value,decimals:t.labelsSpecificFormattedDecimals||0,unitsPre:t.labelsSpecificFormattedUnitsPre||"",unitsPost:t.labelsSpecificFormattedUnitsPost||"",thousand:t.labelsSpecificFormattedThousand||",",point:t.labelsSpecificFormattedPoint||"."})}if(this.context.beginPath(),e)for(r=0;r<=e;++r){var n=this.radius-25-t.borderWidth-t.labelsOffsetRadius,h=(this.endAngle-this.startAngle)/e;h=this.startAngle+r*h,h-=DxChart.HALFPI,h+=a,isNexacroRuntime&&(h+=DxChart.HALFPI);var l=this.centerx-Math.sin(h)*n,c=this.centery+Math.cos(h)*n,x=l>this.centerx?"right":"left",d=c>this.centery?"bottom":"top";h==DxChart.HALFPI?d="center":h==DxChart.PI?x="center":h==DxChart.HALFPI+DxChart.PI&&(d="center"),t.labelsCentered&&(x="center",d="center");var u=(this.max-this.min)*(r/e)+this.min;DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:l+i,y:c+s,text:t.labelsSpecific?t.labelsSpecific[r]:DxChart.numberFormat({object:this,number:u.toFixed(t.scaleDecimals),unitspre:t.scaleUnitsPre,unitspost:t.scaleUnitsPost,point:t.scalePoint,thousand:t.scaleThousand}),halign:x,valign:d,tag:t.labelsSpecific?"labels.specific":"labels",cssClass:t.labelsSpecific?DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:r}):""})}if(this.context.fill(),t.labelsValue){l=this.centerx,c=this.centery+t.labelsValueYPos*this.radius;var g="string"==typeof t.labelsValueUnitsPre?t.labelsValueUnitsPre:t.scaleUnitsPre,p="string"==typeof t.labelsValueUnitsPost?t.labelsValueUnitsPost:t.scaleUnitsPost,f=t.labelsValueBounding,m=t.labelsValueBoundingFill,b=t.labelsValueBoundingStroke,C="number"==typeof t.labelsValueDecimals?t.labelsValueDecimals:t.scaleDecimals,y="string"==typeof t.labelsValuePoint?t.labelsValuePoint:t.scalePoint,v="string"==typeof t.labelsValueThousand?t.labelsValueThousand:t.scaleThousand;o=DxChart.getTextInfo({object:this,prefix:"labelsValue"});if("number"==typeof this.value){u=parseFloat(t.valueTextActual?this.valueOriginal:this.value);var D=DxChart.numberFormat({object:this,number:u.toFixed(C),unitspre:g,unitspost:p,point:y,thousand:v})}else{for(D=[],r=0;r<this.value.length;++r)D[r]=DxChart.numberFormat({object:this,number:this.value[r].toFixed(C),unitspre:g,unitspost:p,point:y,thousand:v});D=D.join(", ")}DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:l,y:c,text:D,halign:"center",valign:"center",bounding:f,"bounding.fill":m,"bounding.stroke":b,tag:"value.text"})}},this.drawTopTitle=function(){var t=this.properties,e=this.centerx,i=this.centery-25;("string"==typeof t.titleTopSubtitle&&(i-=20),"string"==typeof t.titleTopSubtitle||"number"==typeof t.titleTopSubtitle)&&(i-=DxChart.measureText({bold:t.titleTopSubtitleBold,italic:t.titleTopSubtitleItalic,size:t.titleTopSubtitleSize,font:t.titleTopSubtitleFont,text:"Mg"})[1]);"number"==typeof t.titleTopPos&&(i=this.centery-this.radius*t.titleTopPos);var s=DxChart.getTextInfo({object:this,prefix:"titleTop"});isNexacroRuntime&&(e=e+t.titleTop.length/2+5),t.titleTop&&("number"==typeof t.titleTopOffsetX&&(e+=t.titleTopOffsetX),"number"==typeof t.titleTopOffsetY&&(i+=t.titleTopOffsetY),this.context.fillStyle=t.titleTopColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:e,y:i,text:String(t.titleTop),halign:"center",valign:"bottom",tag:"title.top",marker:!1}));var a=t.titleTopSubtitle;if("string"==typeof a)s.size,s=DxChart.getTextInfo({object:this,prefix:"titleTopSubtitle"}),DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:e+t.titleTopSubtitleOffsetX,y:i+5+t.titleTopSubtitleOffsetY,text:a,valign:"top",halign:"center",tag:"subtitle.top",marker:!1})},this.drawBottomTitle=function(){var t=this.properties,e=this.centerx,i=this.centery+this.centerpinRadius+10;if("number"==typeof t.titleBottomPos&&(i=this.centery+this.radius*t.titleBottomPos),t.titleBottom){"number"==typeof t.titleBottomOffsetX&&(e+=t.titleBottomOffsetX),"number"==typeof t.titleBottomOffsetY&&(i+=t.titleBottomOffsetY),this.context.fillStyle=t.titleBottomColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var s=DxChart.getTextInfo({object:this,prefix:"titleBottom"});DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:e,y:i,text:String(t.titleBottom),halign:"center",valign:"top",tag:"title.bottom"})}},this.drawNeedle=function(t,e,i){var s=this.properties,a=s.needleType;this.context.lineWidth=.5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle="gray",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var o=DxChart.parseRadialGradientInfo(this,e,this.centerx,this.centery,0,this.centerx,this.centery,this.radius);this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(o);var r,n=(this.endAngle-this.startAngle)*((t-this.min)/(this.max-this.min));if(n+=this.startAngle,r="object"==typeof s.needleSize&&s.needleSize&&"number"==typeof s.needleSize[i]?s.needleSize[i]:"number"==typeof s.needleSize?s.needleSize:this.radius-25-s.borderWidth,"line"==a)if(this.context.beginPath(),this.context.lineWidth=s.needleWidth,this.context.strokeStyle=e,isNexacroRuntime){this.context.beginPath(),this.context.setElementLineCap("round"),this.context.setElementLineWidth(this.context.lineWidth),this.context.setElementStrokeStyle(this.context.strokeStyle),n+=DxChart.HALFPI;var h=this.centerx+Math.cos(n)*r,l=this.centery+Math.sin(n)*r;this.context.moveTo(h,l),this.context.lineTo(this.centerx,this.centery),this.context.stroke(),s.needleTail&&(this.context.beginPath(),h=this.centerx+Math.cos(n+DxChart.PI)*(this.centerpinRadius+5),l=this.centery+Math.sin(n+DxChart.PI)*(this.centerpinRadius+5),this.context.moveTo(h,l),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke())}else this.context.arc(this.centerx,this.centery,r,n,n+1e-4,!1),this.context.lineTo(this.centerx,this.centery),s.needleTail&&this.context.arc(this.centerx,this.centery,.2*this.radius,n+DxChart.PI,n+1e-5+DxChart.PI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke();else{if(isNexacroRuntime){this.context.beginPath(),n+=DxChart.HALFPI;h=this.centerx+Math.cos(n)*r,l=this.centery+Math.sin(n)*r;var c=this.centerpinRadius/this.radius*.5;if(this.context.arc(h,l,r,n+DxChart.HALFPI-c,n+DxChart.HALFPI+c,!1),this.context.lineTo(h,l),this.context.closePath(),this.context.stroke(),this.context.fill(),s.needleTail){this.context.beginPath(),h=this.centerx+Math.cos(n+DxChart.PI)*(this.centerpinRadius+5),l=this.centery+Math.sin(n+DxChart.PI)*(this.centerpinRadius+5);c=this.centerpinRadius/this.radius*2;this.context.arc(h,l,this.centerpinRadius,n-DxChart.HALFPI-c,n-DxChart.HALFPI+c,!1),this.context.lineTo(h,l),this.context.closePath(),this.context.stroke(),this.context.fill()}}else this.context.beginPath(),this.context.arc(this.centerx,this.centery,r,n,n+1e-5,!1),this.context.arc(this.centerx,this.centery,.5*this.centerpinRadius,n+DxChart.HALFPI,n+1e-5+DxChart.HALFPI,!1),s.needleTail&&this.context.arc(this.centerx,this.centery,.2*this.radius,n+DxChart.PI,n+1e-5+DxChart.PI,!1),this.context.arc(this.centerx,this.centery,.5*this.centerpinRadius,n-DxChart.HALFPI,n-1e-5-DxChart.HALFPI,!1),this.context.stroke(),this.context.fill();this.angle=n}},this.drawColorBands=function(){var t=this.properties;if(DxChart.isArray(t.colorsRanges))for(var e=t.colorsRanges,i=0;i<e.length;++i)this.context.fillStyle=e[i][2],this.context.lineWidth=0,isNexacroRuntime&&(this.context.setElementLineWidth(t.colorsGreenWidth),this.context.setElementLineCap("butt"),this.context.setElementStrokeStyle(e[i][2])),this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-t.borderWidth,(e[i][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(e[i][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!1),isNexacroRuntime?this.context.stroke():(this.context.arc(this.centerx,this.centery,this.radius-10-t.borderWidth-("number"==typeof e[i][3]?e[i][3]:10),(e[i][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(e[i][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!0),this.context.closePath(),this.context.fill());else{this.context.strokeStyle=t.colorsGreenColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsGreenColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var s=this.startAngle,a=this.startAngle+(this.endAngle-this.startAngle)*((t.colorsGreenEnd-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-t.borderWidth,s,a,!1),isNexacroRuntime?(this.context.setElementLineCap("butt"),this.context.setElementLineWidth(t.colorsGreenWidth),this.context.stroke()):(this.context.arc(this.centerx,this.centery,this.radius-(10+t.colorsGreenWidth)-t.borderWidth,a,s,!0),this.context.fill()),this.context.strokeStyle=t.colorsYellowColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsYellowColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var o=a,r=this.startAngle+(this.endAngle-this.startAngle)*((t.colorsRedStart-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-t.borderWidth,o,r,!1),isNexacroRuntime?(this.context.setElementLineCap("butt"),this.context.setElementLineWidth(t.colorsYellowWidth),this.context.stroke()):(this.context.arc(this.centerx,this.centery,this.radius-(10+t.colorsYellowWidth)-t.borderWidth,r,o,!0),this.context.fill()),this.context.strokeStyle=t.colorsRedColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsRedColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var n=r,h=this.startAngle+(this.endAngle-this.startAngle)*((this.max-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-t.borderWidth,n,h,!1),isNexacroRuntime?(this.context.setElementLineCap("butt"),this.context.setElementLineWidth(t.colorsRedWidth),this.context.stroke()):(this.context.arc(this.centerx,this.centery,this.radius-(10+t.colorsRedWidth)-t.borderWidth,h,n,!0),this.context.fill())}},this.getShape=function(t){},this.getValue=function(t){var e=DxChart.getMouseXY(t),i=e[0],s=e[1],a=DxChart.getAngleByXY(this.centerx,this.centery,i,s);a>=0&&a<=DxChart.HALFPI&&(a+=DxChart.TWOPI);var o=(a-this.startAngle)/(this.endAngle-this.startAngle)*(this.max-this.min);return(o+=this.min)<this.min&&(o=this.min),o>this.max&&(o=this.max),o},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.centerx-this.radius&&e[0]<this.centerx+this.radius&&e[1]>this.centery-this.radius&&e[1]<this.centery+this.radius&&DxChart.getHypLength(this.centerx,this.centery,e[0],e[1])<=this.radius)return this},this.drawGradient=function(){if(this.properties.borderGradient){this.context.beginPath();var t=this.context.createRadialGradient(this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius-15);t.addColorStop(0,"gray"),t.addColorStop(1,"white"),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.context.arc(this.centerx,this.centery,this.radius-15,DxChart.TWOPI,0,!0),this.context.fill()}},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){this.properties;return t>this.max||t<this.min?null:(t-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle},this.parseColors=function(){var t=this.properties;if(0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colorsRedColor=DxChart.arrayClone(t.colorsRedColor),this.original_colors.colorsYellowColor=DxChart.arrayClone(t.colorsYellowColor),this.original_colors.colorsGreenColor=DxChart.arrayClone(t.colorsGreenColor),this.original_colors.borderInner=DxChart.arrayClone(t.borderInner),this.original_colors.borderOuter=DxChart.arrayClone(t.borderOuter),this.original_colors.colorsRanges=DxChart.arrayClone(t.colorsRanges),this.original_colors.needleColors=DxChart.arrayClone(t.needleColors)),t.colorsRedColor=this.parseSingleColorForGradient(t.colorsRedColor),t.colorsYellowColor=this.parseSingleColorForGradient(t.colorsYellowColor),t.colorsGreenColor=this.parseSingleColorForGradient(t.colorsGreenColor),t.borderInner=this.parseSingleColorForGradient(t.borderInner),t.borderOuter=this.parseSingleColorForGradient(t.borderOuter),t.colorsRanges)for(var e=t.colorsRanges,i=0;i<e.length;++i)e[i][2]=this.parseSingleColorForGradient(e[i][2],this.radius-30)},this.reset=function(){},this.parseSingleColorForGradient=function(t){this.properties;var e=arguments[1]||0;if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var i=RegExp.$1.split(":"),s=this.context.createRadialGradient(this.centerx,this.centery,e,this.centerx,this.centery,this.radius),a=1/(i.length-1);s.addColorStop(0,DxChart.trim(i[0]));for(var o=1;o<i.length;++o)s.addColorStop(o*a,DxChart.trim(i[o]))}return s||t},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]?arguments[0]:{},i=arguments[1]?arguments[1]:function(){},s=e.frames||30,a=0;if("string"==typeof this.value&&(this.value=DxChart.str2num(this.value)),"number"==typeof this.value){var o=Number(this.currentValue);null==this.currentValue&&(this.currentValue=this.min,o=this.min);var r=(h=this.value)-o;(c=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=a/s*r+o,t.value>t.max&&(t.value=t.max),t.value<t.min&&(t.value=t.min),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(c,t.canvas):i(t))})()}else{if(null==this.currentValue){this.currentValue=[];for(var n=0;n<this.value.length;++n)this.currentValue[n]=this.min;o=DxChart.arrayClone(this.currentValue)}o=DxChart.arrayClone(this.currentValue);for(var h=DxChart.arrayClone(this.value),l=(r=[],n=0,h.length);n<l;++n)r[n]=h[n]-Number(this.currentValue[n]);var c;(c=function(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{a++;for(var e=0,n=t.value.length;e<n;++e)t.value[e]=a/s*r[e]+o[e],t.value[e]>t.max&&(t.value[e]=t.max),t.value[e]<t.min&&(t.value[e]=t.min);DxChart.redrawCanvas(t.canvas),a<s?DxChart.Effects.updateCanvas(c,t.canvas):i(t)}})()}return this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHBar(t){return DxChart._Base.call(this,t,"hbar"),this.yaxisLabelsSize=0,this.yaxisTitleSize=0,this.max=0,this.stackedOrGrouped=!1,DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.imagesequence=0,this.properties.marginInner=2,this.properties.marginLeft=80,this.properties.marginLeftAuto=!0,this.properties.marginInnerGrouped=2,this.properties.backgroundGridHlinesCount=null,this.properties.backgroundGridVlinesCount=5,this.properties.xaxisScale=!0,this.properties.xaxisScaleZerostart=!0,this.properties.yaxisScale=!1,this.properties.yaxisLabelsPosition="section",this.properties.resizable=!1,this.properties.resizableHandleAdjust=[0,0],this.properties.resizableHandleBackground=null,this.properties.labelsAboveImageGap=0,this.properties.labelsAboveImageType="rect",this.properties.labelsAboveImageLineColor="#dddddd",this.properties.labelsAboveImageLineWidth=1,this.properties.labelsAboveImageWidth=30,this.properties.labelsAboveImageHeight=10,this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),this.data=t,this.data=DxChart.str2num(this.data);for(var e=0,i=this.data.length;e<i;++e)"object"!=typeof this.data[e]||DxChart.isNull(this.data[e])||(this.stackedOrGrouped=!0);for(e=0,i=DxChart.arrayLinearize(t).length;e<i;++e)this["$"+e]={};this.data_arr=DxChart.arrayLinearize(this.data)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);this.imagesequence++;var t=this.properties;if(DxChart._BeforeDraw(this),this.yaxisLabelSubstitution(),DxChart.isNull(t.backgroundGridHlines.count)&&this.set("backgroundGridHlinesCount",this.data.length),"3d"===t.variantValue&&(t.textAccessible||this.context.setTransform(1,t.variantThreedAngle,0,1,.5,.5)),this.yaxisTitleSize=0,t.yaxisLabels){for(var e=t.yaxisLabels,i="right"===t.yaxisPosition?"marginRight":"marginLeft",s=DxChart.getTextInfo({object:this,prefix:"yaxisLabels"}),a=0,o=0;a<e.length;a+=1){var r=DxChart.measureText(e[a],s.bold,s.font,s.size)[0]||0;this.yaxisLabelsSize=Math.max(o,r),o=this.yaxisLabelsSize}if(t.yaxisTitle){s=DxChart.getTextInfo({object:this,prefix:"yaxisTitle"});var n=DxChart.measureText(t.yaxisTitle,s.bold,s.font,s.size)||[];this.yaxisTitleSize+=n[1],t[i]+=this.yaxisTitleSize}}if(t.marginLeftAuto){var h="right"===t.yaxisPosition?"marginRight":"marginLeft";this.set(h,this.yaxisLabelsSize+this.yaxisTitleSize+10),this[h]=this.yaxisLabelsSize+this.yaxisTitleSize+10}return this.coords=[],this.coords2=[],this.coordsText=[],this.max=0,t.xaxisScaleMin>0&&"stacked"===t.grouping&&(trace("[HBAR] Using xaxisScaleMin is not supported with stacked charts, resetting xaxisScaleMin to zero"),this.set("xaxisScaleMin",0)),this.graphwidth=this.canvas.width-this.marginLeft-this.marginRight,this.graphheight=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=t.textFontStyleObj.size/2,this.halfway=Math.round(this.graphwidth/2+this.marginLeft),DxChart.Background.draw(this),this.drawbars(),this.drawAxes(),this.drawLabels(),this.drawLabelsInbar(),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),t.contextmenu&&DxChart.showContext(this),DxChart.drawInGraphLabels(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this.yaxisLabelSubstitution=function(){var t=this.properties;if(t.yaxisLabels&&t.yaxisLabels.length){"string"==typeof t.yaxisLabels&&(t.yaxisLabels=DxChart.arrayPad({array:[],length:this.data.length,value:t.yaxisLabels}));for(var e=0;e<t.yaxisLabels.length;++e)t.yaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.yaxisLabels[e],index:e,value:this.data[e],decimals:t.yaxisLabelsFormattedDecimals||0,unitsPre:t.yaxisLabelsFormattedUnitsPre||"",unitsPost:t.yaxisLabelsFormattedUnitsPost||"",thousand:t.yaxisLabelsFormattedThousand||",",point:t.yaxisLabelsFormattedPoint||"."})}},this.drawLabels=function(){},this.drawbars=function(){var t,e=this.properties;this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);if(e.xaxisScaleMax)this.scale2=DxChart.getScale({object:this,options:{"scale.max":e.xaxisScaleMax,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisLabelsCount,"scale.strict":!0}}),this.max=this.scale2.max;else{for(var i=e.grouping,s=0;s<this.data.length;++s){if("object"==typeof this.data[s])var a="grouped"==i?Number(DxChart.arrayMax(this.data[s],!0)):Number(DxChart.arraySum(this.data[s]));else a=Number(Math.abs(this.data[s]));this.max=Math.max(Math.abs(this.max),Math.abs(a))}this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisLabelsCount}}),this.max=this.scale2.max,this.min=this.scale2.min}null==e.xaxisScaleDecimals&&1==Number(this.max)&&this.set("xaxisScaleDecimals",1);var o=0;this.numbars=DxChart.arrayLinearize(this.data).length,e.changeableValue&&!e.xaxisScaleMax&&this.set("xaxisScaleMax",this.scale2.max),"3d"===e.variantValue&&DxChart.draw3DAxes(this);var r=this.canvas.width-this.marginLeft-this.marginRight,n=r/2;for(s=this.data.length-1;s>=0;--s){var h=Math.abs(this.data[s]/this.max*r),l=this.graphheight/this.data.length,c=this.getXCoord(0),x=this.marginTop+s*l,d=e.marginInner;if(e.xaxisScaleMin>0&&e.xaxisScaleMax>e.xaxisScaleMin&&(c=this.getXCoord(e.xaxisScaleMin)),"right"===e.yaxisPosition&&(c=this.canvas.width-this.marginRight-Math.abs(h)),h<0&&(c-=h,h=Math.abs(h)),e.shadowUse&&(this.context.shadowColor=e.shadowStyleObj.color,this.context.shadowBlur=e.shadowStyleObj.blur,this.context.shadowOffsetX=e.shadowStyleObj.offsetX,this.context.shadowOffsetY=e.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),this.context.beginPath(),"number"==typeof this.data[s]||DxChart.isNull(this.data[s])){var u=l-2*d,g=(this.data[s]-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*this.graphwidth,p=c;if(this.scale2.min<0&&this.scale2.max>0&&"left"===e.yaxisPosition&&(g=this.data[s]/(this.max-e.xaxisScaleMin)*this.graphwidth),"center"==e.yaxisPosition?(g/=2,p+=n,this.data[s]<0?(g=(Math.abs(this.data[s])-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin),g*=this.graphwidth/2,p=this.graphwidth/2+this.marginLeft-g):this.data[s]>0&&(p=this.graphwidth/2+this.marginLeft)):"right"==e.yaxisPosition&&(g=Math.abs(g),p=this.canvas.width-this.marginRight-g),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),++o,t=e.colorsSequential&&"number"==typeof o?e.colors[this.numbars-o]?e.colors[this.numbars-o]:e.colors[e.colors.length-1]:e.colors[0],t=e.colorsGradientFullSize?DxChart.parseGradient(this,t,this.marginLeft,this.marginTop,this.canvas.width-this.marginLeft-this.marginRight,u):DxChart.parseGradient(this,t,p,this.marginTop+s*l+e.marginInner,g,u),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(t),"round"===e.corners&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(p,this.marginTop+s*l+e.marginInner,g,u),this.context.closePath(),this.context.stroke(),this.context.fill(),"round"===e.corners&&(this.context.rect=this.context.rectOld,this.context.rectOld=null),this.coords.push([p,x+d,g,l-2*d,this.context.fillStyle,this.data[s],!0]),"3d"===e.variantValue&&"number"==typeof this.data[s]){var f=this.context.strokeStyle,m=this.context.fillStyle;DxChart.noShadow(this);p=p;var b=x+d,C=g,y=l-2*d,v=e.variantThreedOffsetX,D=e.variantThreedOffsetY;a=this.data[s];this.path("b m % % l % % l % % l % % c s % f % f rgba(255,255,255,0.6)",p,b,p+v-("left"==e.yaxisPosition&&a<0?v:0),b-D,p+C+v-("center"==e.yaxisPosition&&a<0?v:0),b-D,p+C,b,this.context.strokeStyle,this.context.fillStyle),"right"===e.yaxisPosition||"center"===e.yaxisPosition&&a<0||!(a>=0)||DxChart.isNull(a)||this.path("b fs % m % % l % % l % % l % % c s % f % f rgba(0,0,0,0.25)",m,p+C,b,p+C+v,b-D,p+C+v,b-D+y,p+C,b+y,this.context.strokeStyle,m)}}else if("object"==typeof this.data[s]&&"stacked"===e.grouping){if("center"==e.yaxisPosition)alert("[HBAR] You can't have a stacked chart with the Y axis in the center, change it to grouped");else if("right"==e.yaxisPosition)c=this.canvas.width-this.marginRight;u=l-2*d;void 0===this.coords2[s]&&(this.coords2[s]=[]);for(var S=0;S<this.data[s].length;++S){e.shadowUse&&"3d"===e.variantValue&&(this.context.shadowColor=e.shadowStyleObj.color,this.context.shadowBlur=e.shadowStyleObj.blur,this.context.shadowOffsetX=e.shadowStyleObj.offsetX,this.context.shadowOffsetY=e.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),DxChart.isNull(this.data[s][S])||(this.data[s][S]=Math.abs(this.data[s][S]));this.data[s].length;this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),++o,e.colorsSequential&&"number"==typeof o?t=e.colors[this.numbars-o]?e.colors[this.numbars-o]:e.colors[e.colors.length-1]:e.colors[S]&&(t=e.colors[S]);h=this.data[s][S]/this.max*this.graphwidth,DxChart.arraySum(this.data[s]),this.max,this.graphwidth;if("right"===e.yaxisPosition&&(c-=h),t=DxChart.parseGradient(this,t,c,this.marginTop+e.marginInner+this.graphheight/this.data.length*s,h,l-2*d),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(t),"round"===e.corners&&S===this.data[s].length-1&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(c,this.marginTop+e.marginInner+this.graphheight/this.data.length*s,h,l-2*d),this.context.stroke(),this.context.fill(),this.context.beginPath(),"round"===e.corners&&S===this.data[s].length-1&&(this.context.rect=this.context.rectOld,this.context.rectOld=null),this.coords.push([c,x+d,h,l-2*d,this.context.fillStyle,DxChart.arraySum(this.data[s]),S==this.data[s].length-1]),this.coords2[s].push([c,x+d,h,l-2*d,this.context.fillStyle,DxChart.arraySum(this.data[s]),S==this.data[s].length-1]),"3d"===e.variantValue){DxChart.noShadow(this);f=this.context.strokeStyle,m=this.context.fillStyle,p=c,b=x+d,C=h,y=l-2*d,v=e.variantThreedOffsetX,D=e.variantThreedOffsetY,a=this.data[s][S];DxChart.isNull(a)||this.path("b m % % l % % l % % l % % c s % f % f rgba(255,255,255,0.6)",p,b,p+v,b-D,p+C+v,b-D,p+C,b,this.context.strokeStyle,this.context.fillStyle),"right"===e.yaxisPosition||"center"===e.yaxisPosition&&a<0||DxChart.isNull(a)||this.path("fs % b m % % l % % l % % l % % c s % f % f rgba(0,0,0,0.25)",m,p+C,b,p+C+v,b-D,p+C+v,b-D+y,p+C,b+y,this.context.strokeStyle,m),this.context.beginPath(),this.context.strokeStyle=f,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=m,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle)}"right"!==e.yaxisPosition&&(c+=h)}}else if("object"==typeof this.data[s]&&"grouped"==e.grouping){var k=e.marginInnerGrouped,w=(l-2*d-(this.data[s].length-1)*k)/this.data[s].length;void 0===this.coords2[s]&&(this.coords2[s]=[]);for(S=this.data[s].length-1;S>=0;--S){e.shadowUse&&DxChart.setShadow(this,e.shadowStyleObj.color,e.shadowStyleObj.offsetX,e.shadowStyleObj.offsetY,e.shadowStyleObj.blur),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),++o,e.colorsSequential&&"number"==typeof o?t=e.colors[this.numbars-o]?e.colors[this.numbars-o]:e.colors[e.colors.length-1]:e.colors[S]&&(t=e.colors[S]);var _=this.marginTop+l*s+w*S+d+k*S;if(e.xaxisScaleMin>0&&e.xaxisScaleMax>e.xaxisScaleMin){h=(this.data[s][S]-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*(this.canvas.width-this.marginLeft-this.marginRight);var T=this.getXCoord(e.xaxisScaleMin>0&&e.xaxisScaleMax>e.xaxisScaleMin?e.xaxisScaleMin:0)}else h=this.data[s][S]/(this.max-e.xaxisScaleMin)*(this.canvas.width-this.marginLeft-this.marginRight),T=this.getXCoord(0);if("center"==e.yaxisPosition?h/=2:"right"==e.yaxisPosition&&(h=Math.abs(h),T=this.canvas.width-this.marginRight-Math.abs(h)),h<0&&(T+=h,h*=-1),t=DxChart.parseGradient(this,t,T,_,h,w),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(t),"round"===e.corners&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(T,_,h,w),this.context.stroke(),this.context.fill(),"round"===e.corners&&(this.context.rect=this.context.rectOld,this.context.rectOld=null),this.coords.push([T,_,h,w,this.context.fillStyle,this.data[s][S],!0]),this.coords2[s].push([T,_,h,w,this.context.fillStyle,this.data[s][S],!0]),"3d"===e.variantValue){DxChart.noShadow(this);f=this.context.strokeStyle,m=this.context.fillStyle,p=T,b=_,C=h,y=w,v=e.variantThreedOffsetX,D=e.variantThreedOffsetY,a=this.data[s][S];this.path("b m % % l % % l % % l % % c s % f % f rgba(255,255,255,0.6)",p,b,p+v,b-D,p+C+v-(a<0?v:0),b-D,p+C,b,this.context.strokeStyle,this.context.fillStyle),"right"===e.yaxisPosition||"center"===e.yaxisPosition&&a<0||!(a>=0)||DxChart.isNull(a)||this.path("fs % b m % %  l % % l % % l % % c s % f % f rgba(0,0,0,0.25)",m,p+C,b,p+C+v,b-D,p+C+v,b-D+y,p+C,b+y,this.context.strokeStyle,m),this.context.beginPath(),this.context.strokeStyle=f,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=m,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle)}}_+=d}this.context.closePath()}if(this.context.stroke(),this.context.fill(),"right"===e.yaxisPosition&&this.path("cr % % % %",this.canvas.width-this.marginRight+e.variantThreedOffsetX,"0",this.marginRight,this.canvas.height),"right"===e.yaxisPosition&&"3d"===e.variantValue&&DxChart.draw3DYAxis(this),DxChart.noShadow(this),this.coords=DxChart.arrayReverse(this.coords),"grouped"===e.grouping)for(s=0;s<this.coords2.length;++s)this.coords2[s]=DxChart.arrayReverse(this.coords2[s]);this.redrawBars()},this.drawImage=function(t,e,i,s,a,o,r,n){var h;null==n&&(n=0);var l=t.split("/").join("");l=l.split("::").join("");var c=t;isNexacroRuntime&&(h={});var x=this.imagesequence;if("string"==typeof t)if(void 0===this.canvas["_cached_"+l+s]){var d=this;if(isNexacroRuntime){h.src=c,h.handle=nexacro._getImageObject(c,function(t,c,u,g){h.width=c,h.height=u,h.imagewidth=c,h.imageheight=u,d._drawImageCallback(x,l,h,e,i,s,a,o,n,r)},this,"",!1)}else{if(h=new Image,nexacro){if("url("==c.substring(0,4).toLowerCase()&&(c=c.substring(5,c.length-2)),!c||!c.length)return null;c=nexacro._getImageLocation(c)}h.onload=function(){d._drawImageCallback(x,l,h,e,i,s,a,o,n,r)},h.src=c}}else h=this.canvas["_cached_"+l+s],this._drawImageCallback(x,l,h,e,i,s,a,o,n,r)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){if(t==this.imagesequence){this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i);var x=this.context,d=x.lineWidth;if(x.save(),"rect"==n)x.beginPath(),x.moveTo(s,a),x.lineTo(s+o,a),x.lineTo(s+o,a+r),x.lineTo(s,a+r),x.lineTo(s,a),x.lineTo(s,a);else if("arc"==n){var u=parseInt(s+o/2),g=parseInt(a+r/2),p=parseInt(o/2);x.beginPath(),x.moveTo(u,g),x.arc(u,g,p,0,2*DxChart.PI)}h>0&&(x.lineWidth=h,isNexacroRuntime&&x.setElementLineWidth(h),x.strokeStyle=l,isNexacroRuntime&&x.setElementStrokeStyle(l),x.stroke()),x.clip(),x.drawImage(i,s,a,o,r),x.restore(),x.lineWidth=d,isNexacroRuntime&&x.setElementLineWidth(d)}},this.redrawBars=function(){var t=this.properties;if(t.redraw){var e=this.coords;t.textFontStyleObj.face,t.textFontStyleObj.size,t.textColor;DxChart.noShadow(this),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var i=0,s=0,a=0,o=t.labelsAboveImageGap||0,r=t.labelsAboveImageType,n=t.labelsAboveImageLineColor,h=t.labelsAboveImageLineWidth;if(e.length>0){var l=e[0][3],c=l/t.labelsAboveImageHeight;s=l,i=parseInt(t.labelsAboveImageWidth*c)}for(var x=0;x<e.length;++x){if(t.shadowUse&&this.path("b lw % r % % % % s % f %",t.lineWidth,e[x][0],e[x][1],e[x][2],e[x][3],t.colorsStroke,e[x][4]),t.labelsAboveImageUrl&&e[x][6]){var d=e[x][0]+e[x][2]+o,u=e[x][1];a=2*o+i,"right"===t.yaxisPosition?d=e[x][0]-o-i:"center"===t.yaxisPosition&&this.data_arr[x]<0&&(d=e[x][0]-o-i),this.drawImage(t.labelsAboveImageUrl[x],d,u,i,s,r,n,h)}else o=0,a=0;var g="left";if(t.labelsAbove&&e[x][6]){e[x][0],e[x][2],this.context.measureText(t.labelsAboveUnitsPre+this.coords[x][5]+t.labelsAboveUnitsPost).width,this.canvas.width;var p=DxChart.numberFormat({object:this,number:this.coords[x][5].toFixed(t.labelsAboveDecimals),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost,point:t.labelsAbovePoint,thousand:t.labelsAboveThousand});DxChart.noShadow(this),"object"==typeof t.labelsAboveSpecific&&t.labelsAboveSpecific&&t.labelsAboveSpecific[x]&&(p=t.labelsAboveSpecific[x]);d=e[x][0]+e[x][2]+5+a,u=e[x][1]+e[x][3]/2;1==t.labelsAboveFirst&&(d=e[x][0]+5),"right"===t.yaxisPosition?(d=e[x][0]-5-a,g="right",1==t.labelsAboveFirst&&(d=e[x][0]+e[x][2]-5)):"center"===t.yaxisPosition&&this.data_arr[x]<0&&(d=e[x][0]-5-a,g="right",1==t.labelsAboveFirst&&(d=e[x][0]+e[x][2]-5));var f=DxChart.getTextInfo({object:this,prefix:"labelsAbove"});DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:d+t.labelsAboveOffsetX,y:u+t.labelsAboveOffsetY,text:p,valign:"center",halign:g,tag:"labels.above"})}}}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=0,a=this.coords.length;s<a;s++){var o=i[0],r=i[1],n=this.coords[s][0],h=this.coords[s][1],l=this.coords[s][2],c=this.coords[s][3],x=s,d=DxChart.sequentialIndexToGrouped(s,this.data),u=!1;if(isNexacroRuntime)if(e.tooltipsHotspotYonly){var g=this.marginLeft,p=this.canvas.width-this.marginRight-this.marginLeft;o>=g&&o<=g+p&&r>=h&&r<=h+c&&(u=!0)}else o>=n&&o<=n+l&&r>=h&&r<=h+c&&(u=!0);else{var f=!1;if("round"===e.corners){var m=0===d[1];"stacked"===e.grouping&&m?(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect,f=!0):"stacked"===e.grouping||(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect,f=!0)}this.context.beginPath(),e.tooltipsHotspotYonly?this.context.rect(this.marginLeft,h,this.canvas.width-this.marginRight-this.marginLeft,c):this.context.rect(n,h,l,c),f&&(this.context.rect=this.context.rectOld,this.context.rectOld=null,f=null),u=this.context.isPointInPath(o,r)}if(u){if(DxChart.parseTooltipText)var b=DxChart.parseTooltipText(e.tooltipsData,s);var C=(d=DxChart.sequentialIndexToGrouped(x,this.data))[0];return{object:this,x:n,y:h,width:l,height:c,sequentialIndex:x,dataset:C,index:d[1],label:e.yaxisLabels&&"string"==typeof e.yaxisLabels[C]?e.yaxisLabels[C]:null,tooltip:"string"==typeof b?b:null}}}},this.getValue=function(t){var e=this.properties;if(2==t.length)var i=t[0],s=t[1];else{var a=DxChart.getMouseXY(t);i=a[0],s=a[1]}if(s<this.marginTop||s>this.canvas.height-this.marginBottom||i<this.marginLeft||i>this.canvas.width-this.marginRight)return null;if("center"==e.yaxisPosition){var o=(i-this.marginLeft)/(this.graphwidth/2)*(this.max-e.xaxisScaleMin);o-=this.max,e.xaxisScaleMin>0&&(o=(i-this.marginLeft-this.graphwidth/2)/(this.graphwidth/2)*(this.max-e.xaxisScaleMin),o+=e.xaxisScaleMin,i<this.marginLeft+this.graphwidth/2&&(o-=2*e.xaxisScaleMin))}else if("right"==e.yaxisPosition){o=(i-this.marginLeft)/this.graphwidth*(this.scale2.max-e.xaxisScaleMin);o=this.scale2.max-o}else{o=(i-this.marginLeft)/this.graphwidth*(this.scale2.max-e.xaxisScaleMin);o+=e.xaxisScaleMin}return o},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);if("3d"===e.variantValue&&!e.textAccessible){var s=e.variantThreedAngle*i[0];i[1]-=s}if(i[0]>=this.marginLeft&&i[0]<=this.canvas.width-this.marginRight&&i[1]>=this.marginTop&&i[1]<=this.canvas.height-this.marginBottom)return this},this.getXCoord=function(t){var e=this.properties;if("center"==e.yaxisPosition){if(t>this.max||t<-1*this.max)return null;var i=(this.canvas.width-e.marginLeft-e.marginRight)/2,s=(t-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*i+i;s=e.marginLeft+s}else{if(t>this.max||t<0)return null;i=this.canvas.width-e.marginLeft-e.marginRight,s=(t-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*i;s=e.marginLeft+s}return s},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.yaxisLabelsColor=DxChart.arrayClone(t.yaxisLabelsColor),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.axesColor=DxChart.arrayClone(t.axesColor),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.annotationColor=DxChart.arrayClone(t.annotationColor)),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.textColor=this.parseSingleColorForGradient(t.textColor),t.yaxisLabelsColor=this.parseSingleColorForGradient(t.yaxisLabelsColor),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.axesColor=this.parseSingleColorForGradient(t.axesColor),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.annotationColor=this.parseSingleColorForGradient(t.annotationColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this;this.coords2.forEach(function(s,a,o){var r=i.coords2[a][t],n=i.context.lineWidth;i.path("b lw 2 r % % % % f % s % lw %",r[0]-.5,r[1]-.5,r[2]+1,r[3]+1,e.keyInteractiveHighlightChartFill,e.keyInteractiveHighlightChartStroke,n)})},this.firstDrawFunc=function(){},this.getShapeByY=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=arguments[1]?arguments[1]:this,a=0,o=s.coords.length;a<o;a++)if(0!=s.coords[a].length){i[0];var r=i[1],n=s.coords[a][0],h=s.coords[a][1],l=s.coords[a][2],c=s.coords[a][3];if(r>=h&&r<=h+c){var x=DxChart.sequentialIndexToGrouped(a,this.data),d=x[0],u=x[1];if(e.tooltipsData)var g=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,a):e.tooltipsData[a];return{object:s,x:n,y:h,width:l,height:c,dataset:d,index:u,sequentialIndex:a,tooltip:g||null}}}return null},this.changing_mousemove=function(t){var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){var i=Number(this.getValue(t)),s=DxChart.Registry.get("changing.shape");if(s){if(DxChart.Registry.set("changing.shape",s),this.stackedOrGrouped&&"grouped"==e.grouping){var a=DxChart.sequentialIndexToGrouped(s.sequentialIndex,this.data);"number"==typeof this.data[a[0]]?this.data[a[0]]=Number(i):DxChart.isNull(this.data[a[0]])||(this.data[a[0]][a[1]]=Number(i))}else"number"==typeof this.data[s.dataset]&&(this.data[s.dataset]=Number(i));DxChart.redrawCanvas(t.target),DxChart._fireEvent(this,"onadjust")}}},this.drawLabelsInbar=function(){var t,e=this.properties;if(e.labelsInbar){var i=e.labelsInbarValign,s=e.labelsInbarHalign,a=DxChart.getTextInfo({object:this,prefix:"labelsInbar"});t="stacked"===e.grouping?function(t){for(var e=[],i=0;i<t.length;++i)if("number"==typeof t[i])e.push(t[i]);else if("object"==typeof t[i]&&!DxChart.isNull(t[i]))for(var s=t[i].length-1;s>=0;s--)e.push(t[i][s]);return e}(this.data):DxChart.arrayLinearize(this.data);for(var o=0;o<t.length;++o)if(DxChart.isNumber(t[o])&&!isNaN(t[o])&&this.coords[o][2]>0){var r=t[o].toFixed(e.labelsInbarDecimals),n=(DxChart.sequentialIndexToGrouped(o,this.data),DxChart.numberFormat({object:this,number:Number(r).toFixed(e.labelsInbarDecimals),unitspre:e.labelsInbarUnitsPre,unitspost:e.labelsInbarUnitsPost,point:e.labelsInbarPoint,thousand:e.labelsInbarThousand,formatter:e.labelsInbarFormatter})),h=DxChart.measureText({text:n,bold:a.bold,font:a.font,size:a.size}),l=this.coords[o][0]+this.coords[o][2]/2+e.labelsInbarOffsetX,c=this.coords[o][1]+this.coords[o][3]/2+e.labelsInbarOffsetY;h[0],h[1];"left"===e.labelsInbarHalign?(s="left",l=this.coords[o][0]+5+e.labelsInbarOffsetX):"right"===e.labelsInbarHalign&&(s="right",l=this.coords[o][0]+this.coords[o][2]-5+e.labelsInbarOffsetX),"bottom"===e.labelsInbarValign?(i="bottom",c=this.coords[o][1]-5+this.coords[o][3]+e.labelsInbarOffsetY):"top"===e.labelsInbarValign&&(i="top",c=this.coords[o][1]+5+e.labelsInbarOffsetY),DxChart.isArray(e.labelsInbarSpecific)&&(DxChart.isString(e.labelsInbarSpecific[o])||DxChart.isNumber(e.labelsInbarSpecific[o]))&&(n=e.labelsInbarSpecific[o]),DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:l,y:c,text:n,valign:i,halign:s,tag:"labels.above",bounding:DxChart.isString(e.labelsInbarBackground),boundingFill:e.labelsInbarBackground,boundingStroke:"transparent"})}}},this.grow=function(){var t=this.properties;this.cancelStopAnimation();var e=arguments[0]||{},i=e.frames||30,s=0,a=arguments[1]||function(){},o=this,r=this.get("labelsAbove");if(this.orgData=DxChart.arrayClone(this.data),0==t.xaxisScaleMax){for(var n=0,h=0;h<o.data.length;++h)n=DxChart.isArray(o.data[h])&&"stacked"==t.grouping?Math.max(n,DxChart.arraySum(o.data[h])):DxChart.isArray(o.data[h])&&"grouped"==t.grouping?Math.max(n,DxChart.arrayMax(o.data[h])):Math.max(n,Math.abs(DxChart.arrayMax(o.data[h])));var l=DxChart.getScale({object:o,options:{"scale.max":n,"scale.round":o.properties.xaxisScaleRound}});o.set("xaxisScaleMax",l.max)}if(DxChart.isArray(e.data)){for(n=0,h=0;h<e.data.length;++h)if("object"==typeof e.data[h])for(var c=0;c<e.data[h].length;++c)"string"==typeof e.data[h][c]&&e.data[h][c].match(/(\+|\-)([0-9]+)/)&&("+"===RegExp.$1?e.data[h][c]=this.orgData[h][c]+parseInt(RegExp.$2):e.data[h][c]=this.orgData[h][c]-parseInt(RegExp.$2)),n=Math.max(n,e.data[h][c]);else"string"==typeof e.data[h]&&e.data[h].match(/(\+|\-)([0-9]+)/)?("+"===RegExp.$1?e.data[h]=this.orgData[h]+parseFloat(RegExp.$2):e.data[h]=this.orgData[h]-parseFloat(RegExp.$2),n=Math.max(n,e.data[h])):n=Math.max(n,e.data[h]);var x=DxChart.getScale({object:this,options:{"scale.max":n}});DxChart.isNull(this.get("xaxisScaleMax"))&&this.set("xaxisScaleMax",x.max)}if(this.set("labelsAbove",!1),DxChart.isNull(t.xaxisScaleMax)){for(n=0,h=0;h<o.data.length;++h)if(DxChart.isArray(this.data[h])&&"stacked"===t.grouping)n=Math.max(n,Math.abs(DxChart.arraySum(this.data[h])));else if(DxChart.isArray(this.data[h])&&"grouped"===t.grouping){c=0;for(var d=[];c<this.data[h].length;c++)d.push(Math.abs(this.data[h][c]));n=Math.max(n,Math.abs(DxChart.arrayMax(d)))}else n=Math.max(n,Math.abs(this.data[h]));x=DxChart.getScale({object:this,options:{"scale.max":n}});this.set("xaxisScaleMax",x.max)}"number"==typeof e.xmax&&o.set("xaxisScaleMax",e.xmax);var u=function(){if(o.stopAnimationRequested)o.stopAnimationRequested=!1;else{for(var n=DxChart.Effects.getEasingMultiplier(i,s),h=0,l=o.orgData.length;h<l;++h)if("object"!=typeof o.data[h]||DxChart.isNull(o.data[h])){if(o.firstDraw||!e.data)t.xaxisScaleMin>0&&t.xaxisScaleMax>t.xaxisScaleMin?o.data[h]=n*(o.orgData[h]-t.xaxisScaleMin)+t.xaxisScaleMin:o.data[h]=n*o.orgData[h];else if(e.data&&e.data.length===o.orgData.length){d=e.data[h]-o.orgData[h];o.data[h]=n*d+o.orgData[h]}}else for(var c=0,x=o.data[h].length;c<x;++c)if(o.firstDraw||!e.data)t.xaxisScaleMin>0&&t.xaxisScaleMax>t.xaxisScaleMin?o.data[h][c]=n*(o.orgData[h][c]-t.xaxisScaleMin)+t.xaxisScaleMin:o.data[h][c]=n*o.orgData[h][c];else if(e.data&&e.data.length===o.orgData.length){var d=e.data[h][c]-o.orgData[h][c];o.data[h][c]=n*d+o.orgData[h][c]}if(DxChart.redrawCanvas(o.canvas),s<i)s+=1,DxChart.Effects.updateCanvas(u,o.canvas);else{var g=o.orgData;if(DxChart.isArray(e.data))for(var p=DxChart.arrayLinearize(g),f=0;f<p.length;++f)o["$"+f]||(o["$"+f]={});o.data=g,o.orgData=DxChart.arrayClone(g),r&&(o.set("labelsAbove",!0),DxChart.redraw()),a(o)}}};return u(),this},this.wave=function(){var t=this.properties;this.cancelStopAnimation();var e=this,i=arguments[0]||{};i.frames=i.frames||30,i.startFrames=[],i.counters=[];var s=i.frames/3,a=-1,o=arguments[1]||function(){},r=DxChart.arrayClone(e.data),n=t.labelsAbove;this.set("labelsAbove",!1);for(var h=0,l=e.data.length;h<l;h+=1)if(i.startFrames[h]=i.frames/2/(e.data.length-1)*h,"object"==typeof e.data[h]&&e.data[h]){i.counters[h]=[];for(var c=0;c<e.data[h].length;c++)i.counters[h][c]=0}else i.counters[h]=0;e.draw(),e.set("xaxisScaleMax",e.scale2.max),DxChart.clear(e.canvas);var x=function(){if(e.stopAnimationRequested)e.stopAnimationRequested=!1;else{++a;for(var h=0,l=e.data.length;h<l;h+=1)if(a>i.startFrames[h]){if("number"==typeof e.data[h])e.data[h]=Math.min(Math.abs(r[h]),Math.abs(r[h]*(i.counters[h]/s))),i.counters[h]+=1,r[h]<0&&(e.data[h]*=-1);else if(!DxChart.isNull(e.data[h]))for(var c=0,d=e.data[h].length;c<d;c+=1)t.xaxisScaleMin>0&&t.xaxisScaleMax>t.xaxisScaleMin?(e.data[h][c]=Math.min(Math.abs(r[h][c]),Math.abs((r[h][c]-t.xaxisScaleMin)*(i.counters[h][c]/s)+t.xaxisScaleMin)),i.counters[h][c]+=1):(e.data[h][c]=Math.min(Math.abs(r[h][c]),Math.abs(r[h][c]*(i.counters[h][c]/s))),i.counters[h][c]+=1),r[h][c]<0&&(e.data[h][c]*=-1)}else e.data[h]="object"==typeof e.data[h]&&e.data[h]?DxChart.arrayPad([],e.data[h].length,t.xaxisScaleMin>0?t.xaxisScaleMin:0):DxChart.isNull(e.data[h])?null:t.xaxisScaleMin>0?t.xaxisScaleMin:0;a>=i.frames?(n&&(e.set("labelsAbove",!0),DxChart.redrawCanvas(e.canvas)),o(e)):(DxChart.redrawCanvas(e.canvas),DxChart.Effects.updateCanvas(x,e.canvas))}};return x(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.isAdjustable=function(t){var e=t.object.properties;return!!DxChart.isNull(e.changeableOnly)||!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex])},this.roundedCornersRect=function(t,e,i,s){var a=(isNexacroRuntime?this.parent.parent.__object__.properties:this.canvas.__object__.properties).cornersRoundRadius;if(a=Math.min(i/2,s/2,a),isNexacroRuntime){var o=t+i,r=e+s;this.moveTo(t+i/2,e),this.arcTo(o,e,o,r,Math.min(e+r/2,a)),this.arcTo(o,r,t,r,a),this.arcTo(t,r,t,e,0),this.arcTo(t,e,a,e,Math.min(e+r/2,0)),this.lineTo(t+o/2,e)}else this.save(),this.translate(t,e),this.moveTo(i/2,0),this.arcTo(i,0,i,s,Math.min(s/2,a)),this.arcTo(i,s,0,s,a),this.arcTo(0,s,0,0,0),this.arcTo(0,0,a,0,Math.min(s/2,0)),this.lineTo(i/2,0),this.restore()},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data);if("object"==typeof this.data[e[0]])var i=this.data[e[0]];else i=[this.data[e[0]]];var s=this.data_arr[t.index],a=e[1],o=t.index;return"object"==typeof this.data[e[0]]&&"stacked"===this.properties.grouping&&(s=this.data[e[0]][this.data[e[0]].length-1-e[1]]),{index:a,dataset:e[0],sequentialIndex:o,value:s,values:i}},this.tooltipsFormattedCustom=function(t,e){if(this.stackedOrGrouped)var i=!DxChart.isNull(this.properties.tooltipsFormattedKeyLabels)&&"object"==typeof this.properties.tooltipsFormattedKeyLabels&&this.properties.tooltipsFormattedKeyLabels[e]?this.properties.tooltipsFormattedKeyLabels[e]:"";else i=!DxChart.isNull(this.properties.tooltipsFormattedKeyLabels)&&"object"==typeof this.properties.tooltipsFormattedKeyLabels&&this.properties.tooltipsFormattedKeyLabels[t.index]?this.properties.tooltipsFormattedKeyLabels[t.index]:"";return{label:i}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];if(isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),"3d"===this.properties.variant){var o=parseInt(t.tooltip.style.left),r=(a[1],properties.variantThreedAngle),n=Math.tan(r)*o;t.tooltip.style.top=parseInt(t.tooltip.style.top)+n+"px"}},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHeatmap(t){return DxChart._Base.call(this,t,"heatmap"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"errorbars"),DxChart.setDefaultProperties(this,"combined"),DxChart.setDefaultProperties(this,"default"),t.binddataset&&t.data.toString().indexOf("bind:")>=0&&(this.binddataset=t.binddataset),this.properties.animationGrowMultiplier=1,this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t);for(var e=0;e<t.length;++e)"object"!=typeof t[e]||DxChart.isNull(t[e])||(this.stackedOrGrouped=!0);var i=DxChart.arrayLinearize(t);for(e=0;e<i.length;++e)this["$"+e]={};this.data=t,this.orgData=DxChart.arrayClone(t),this.data_arr=DxChart.arrayLinearize(this.data)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this),this.coords=[],this.coords2=[],this.coordsText=[],this._Colors=[],this.max=0,this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=t.textFontStyleObj.size/2,t.backgroundGridHlinesCount=this.data[0].length,DxChart.Background.draw(this),this.drawGiude(),this.drawbars(),this.drawAxes(),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.redrawGiude=function(){this.needlePosition&&(this.context.clearRect(this.needlePosition.x-6,this.needlePosition.y-6,this.needlePosition.w+10,this.needlePosition.h+10),this.drawGiude())},this.drawGiude=function(){var t,e,i=this.properties,s=i.guidePosition,a=i.guidePositionX,o=i.guidePositionY,r=i.guideWidth,n=i.guideHeight,h=i.guideLineWidth,l=i.guideStrokeColor,c=i.guideNeedleColor,x=i.guideNeedleStrokeColor,d=i.guideNeedleLineWidth,u=i.guideNeedleWidth;this.context.lineWidth=h,isNexacroRuntime&&this.context.setElementLineWidth(h),null!=a&&null!=a&&null!=o&&null!=o||("top"==s||"bottom"==s?(t=Math.max(r,n),e=Math.min(r,n),a=this.canvas.width/2-t/2,o="top"==s?parseInt(this.marginTop/2):this.canvas.height-this.marginBottom/2):(t=Math.min(r,n),e=Math.max(r,n),o=this.canvas.height/2-e/2,a="right"==s?this.canvas.width-parseInt(this.marginRight/2):parseInt(this.marginLeft/2)));for(var g=i.colors,p=1/0,f=-1/0,m=0,b=g.length;m<b;m++){var C=g[m];p=Math.min(p,C[0]),f=Math.max(f,C[1])}var y=0-p,v=f+y;if(this.needlePosition={x:a,y:o,w:t,h:e,t:"top"==s||"bottom"==s?"h":"v",min:p,max:f,gap:f-p,minDefault:y,maxDefault:v},0!=i.guideUse){var D="linear-gradient(to "+("top"==s||"bottom"==s?"right,":"top,");for(m=0,b=g.length;m<b;m++){var S=(C=g[m])[0],k=C[1],w=C[2];m>0&&(D+=","),D+=" "+w+" "+(S-=y)/v*100+"%, "+w+" "+(k-=y)/v*100+"%"}D+=")";var _=DxChart.parseGradient(this,D,a,o,t,e);this.context.strokeStyle=l,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeColor),this.context.fillStyle=_,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.rect(a,o,t,e),this.context.closePath(),this.context.fill(),h>0&&this.context.stroke();var T,P,R,L=DxChart.getTextInfo({object:this,prefix:"guide"}),j=[],F=[];"left"==s||"right"==s?(T=a+t+10,R=o+e/2,F[0]=[T,o],F[1]=[T,R],F[2]=[T,o+e],j=[f,f-parseInt((f-p)/2),p]):(P=o+e+10,R=a+t/2,F[0]=[a,P],F[1]=[R,P],F[2]=[a+t,P],j=[p,f-parseInt((f-p)/2),f]);for(var E=0;E<3;E++){var O=F[E];DxChart.text({object:this,font:L.font,size:L.size,color:L.color,bold:L.bold,italic:L.italic,x:O[0],y:O[1],text:j[E],halign:"left",valign:"center",angle:1,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"})}this.context.lineWidth=d,isNexacroRuntime&&this.context.setElementLineWidth(d),this.context.strokeStyle=x,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeColor),this.context.fillStyle=c,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath();var I=DxChart.Registry.get("changing.shape");"left"==s||"right"==s?(null==i.guideNeedleValue&&(i.guideNeedleValue=F[2][1]-u),this.coords.push(["needle","v",p,f,a,o,t,e,a-5,i.guideNeedleValue,t+10,u]),this.context.rect(a-5,i.guideNeedleValue,t+10,u),I&&DxChart.text({object:this,font:L.font,size:L.size,color:L.color,bold:L.bold,italic:L.italic,x:a+t+10,y:i.guideNeedleValue,text:Math.round(i.guideNeedleCurrentValue),halign:"left",valign:"center",angle:1,marker:!1,bounding:!0,"bounding.fill":"#cccccc","bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"})):(null==i.guideNeedleValue&&(i.guideNeedleValue=a),this.coords.push(["needle","h",p,f,a,o,t,e,i.guideNeedleValue,o-5,u,e+10]),this.context.rect(i.guideNeedleValue,o-5,u,e+10),I&&DxChart.text({object:this,font:L.font,size:L.size,color:L.color,bold:L.bold,italic:L.italic,x:i.guideNeedleValue,y:o-15,text:Math.round(i.guideNeedleCurrentValue),halign:"left",valign:"center",angle:1,marker:!1,bounding:!0,"bounding.fill":"#cccccc","bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"})),this.context.closePath(),this.context.fill(),d>0&&this.context.stroke()}},this.drawAxes=function(){var t=this.properties;if(-1==DxChart.ISSAFARI&&(this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)),t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:this.data.length,value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e)t.xaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.xaxisLabels[e],index:e,value:this.data[e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."})}t.yaxisLabels&&(t.yaxisLabelsSpecific=t.yaxisLabels),t.LabelsCount=this.data[0].length,DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this._getColor=function(t,e,i){for(var s=0,a=t.length;s<a;s++){var o=t[s],r=o[0],n=o[1];if(r<=e&&n>=e){if(i){var h=Math.round(this.properties.guideNeedleCurrentValue);return h-this.properties.guideNeedleCurrentRangeValue<=e&&h+this.properties.guideNeedleCurrentRangeValue>=e?[DxChart._shadeColor(o[2],30),this.properties.colorsStroke||DxChart._shadeColor(o[2],-80)]:[DxChart._shadeColor(o[2],-30),this.properties.colorsStroke||DxChart._shadeColor(o[2],30)]}return[o[2],this.properties.colorsStroke||DxChart._shadeColor(o[2],30)]}}},this.drawbars=function(){var t,e=this.properties;this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var i=0;i<this.data.length;++i)t="object"==typeof this.data[i]?Number(DxChart.arrayMax(this.data[i],!0)):Number(this.data[i]),this.max=Math.max(Math.abs(this.max),Math.abs(t));var s,a,o,r=e.variantValue,n=(e.xaxisPosition,(this.canvas.width-this.marginLeft-this.marginRight)/this.data.length),h=(this.canvas.height-this.marginTop-this.marginBottom)/this.data[0].length,l=e.marginInner,c=e.shadowUse,x=e.shadowStyleObj.color,d=e.shadowStyleObj.blur,u=e.shadowStyleObj.offsetX,g=e.shadowStyleObj.offsetY,p=(e.colorsStroke,e.colors),f=(e.colorsGradient,e.labelsInbar,e.labelsInbarSpecific),m=("boolean"==typeof e.labelsInbarBold?e.labelsInbarBold:e.textFontStyleObj.bold,"boolean"==typeof e.labelsInbarItalic?e.labelsInbarItalic:e.textFontStyleObj.italic,e.labelsInbarColor||e.textColor,e.labelsInbarFontStyleObj.face||e.textFontStyleObj.face,"number"==typeof e.labelsInbarFontStyleObj.size?e.labelsInbarFontStyleObj.size:e.textFontStyleObj.size,e.labelsInbarBackground,e.labelsInbarDecimals),b=-1*e.labelsInbarAngle,C=e.labelsInbarUnitsPre,y=e.labelsInbarUnitsPost,v=e.labelsInbarPoint,D=e.labelsInbarThousand,S=e.labelsInbarFormatter,k=(this.coords,this.coords2,e.labelsInbarOffsetX,e.labelsInbarOffsetY,e.textFontStyleObj.italic,e.textFontStyleObj.bold,e.textColor,e.textFontStyleObj.face,e.textFontStyleObj.size,DxChart.getTextInfo({object:this,prefix:"labelsInbar"})),w=2*l+e.lineWidth;l+=e.lineWidth,this._Colors=[];var _=this.needlePosition.minDefault,T=this.needlePosition.maxDefault,P=n,R=h;n*=e.animationGrowMultiplier,h*=e.animationGrowMultiplier;i=0;for(var L=this.data.length;i<L;i+=1){var j=this.data[i];this._Colors[i]=[],s=i*P+this.marginLeft;for(var F=0,E=j.length;F<E;F++){var O;if(a=F*R+this.marginTop,null!=j[F]&&null!=j[F])if(c&&(this.context.shadowColor=x,this.context.shadowBlur=d,this.context.shadowOffsetX=u,this.context.shadowOffsetY=g,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),this.context.beginPath(),O=DxChart.Registry.get("changing.shape")?this._getColor(p,j[F],!0):this._getColor(p,j[F],!1)){var I;switch(this.context.strokeStyle=O[1],isNexacroRuntime&&this.context.setElementStrokeStyle(O[1]),this.context.fillStyle=O[0],isNexacroRuntime&&this.context.setElementFillStyle(O[0]),this._Colors[i][F]=O[0],!0===e.labelsInbar&&(I=f?f[F]||"":DxChart.numberFormat({object:this,number:Number(j[F].toFixed(m)),value:Number(j[F].toFixed(m)),unitspre:C,unitspost:y,point:v,thousand:D,formatter:S,dataset:0,index:i})),s,o=a,r){case"round":this.coords.push([i,F,I,j[F],s+l,a+l,n-w,h-w]),this.roundedCornersRect(s+l,a+l,n-w,h-w);break;case"roundRatio":o=a+(h-(h-l)*((j[F]-_)/T)),this.coords.push([i,F,I,j[F],s+l,o,n-w,h-(o-a)]),this.roundedCornersRect(s+l,o,n-w,h-(o-a));break;case"square":var A=Math.min(n,h);A-=w,this.coords.push([i,F,I,j[F],s+(n-A)/2,a+(h-A)/2,A,A]),this.context.rect(s+(n-A)/2,a+(h-A)/2,A,A);break;case"arc":A=Math.min(n,h);var N=s+(W=(A-=w)/2)+(n-A)/2,M=a+W+(h-A)/2;W>0&&(this.coords.push([i,F,I,j[F],N-W,M-W,A,A]),this.context.arc(N,M,W,0,DxChart.TWOPI,!1));break;case"arcRatio":A=Math.min(n,h),N=s+(W=(A-=w)/2)+(n-A)/2,M=a+W+(h-A)/2;var W,B=W*((j[F]-_)/T);B>0&&(this.coords.push([i,F,I,j[F],N-B,M-B,A,A]),this.context.arc(N,M,B,0,DxChart.TWOPI,!1));break;case"rectRatio":o=a+(h-(h-l)*((j[F]-_)/T)),this.coords.push([i,F,I,j[F],s+l,o,n-w,h-(o-a)]),this.context.rect(s+l,o,n-w,h-(o-a));break;default:this.coords.push([i,F,I,j[F],s+l,a+l,n-w,h-w]),this.context.rect(s+l,a+l,n-w,h-w)}if(this.context.closePath(),this.context.fill(),e.lineWidth>0&&this.context.stroke(),!0===e.labelsInbar)DxChart.measureText(I,k.bold,k.font,k.size)[0]<=n&&DxChart.text({object:this,font:k.font,size:k.size,color:k.color,bold:k.bold,italic:k.italic,x:s+n/2,y:a+h/2,text:I,halign:"center",valign:"center",angle:b,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"}),DxChart.noShadow(this)}}}},this.getShape=function(t){for(var e=this.properties,i=arguments[1]?arguments[1]:this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context,i.coords),n=0,h=r.length;n<h;n+=1)if(0!=i.coords[n].length){var l,c=r[n][4],x=r[n][5],d=r[n][6],u=r[n][7];if(!(a<c||a>c+d))if(!(o<x||o>x+u))if(this.context.beginPath(),this.context.rect(c,x,d,u),this.context.isPointInPath(a,o))return e.tooltipsData&&DxChart.parseTooltipText&&(l=DxChart.parseTooltipText(e.tooltipsData,n)),{object:this,x:c,y:x,width:d,height:u,type:"needle"==r[n][0]?"needle":"",align:"needle"==r[n][0]?r[n][1]:"",tooltip:"needle"==r[n][0]?null:"string"==typeof l?l:null,label:"needle"==r[n][0]?null:r[n][2],data:r[n][3],dataset:r[n][0],index:r[n][1],sequentialIndex:n,coord:r[n]}}return null},this.getValue=function(t){var e=this.properties;if(2==t.length)var i=t[0],s=t[1];else{var a=DxChart.getMouseXY(t);i=a[0],s=a[1]}if(s<e.marginTop||s>this.canvas.height-e.marginBottom||i<e.marginLeft||i>this.canvas.width-e.marginRight)return null;if("center"==e.xaxisPosition){var o=(this.chartArea/2-(s-e.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min);(o*=2)>=0?o+=this.scale2.min:o-=this.scale2.min}else if("top"==e.xaxisPosition){o=(this.chartArea-(s-e.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min);o=this.scale2.max-o,o=-1*Math.abs(o)}else{o=(this.chartArea-(s-e.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min);o+=this.scale2.min}return o},this.highlight=function(t){var e=t.object,i=e.properties,s=t.data;if(i.guideUse)if("v"==e.needlePosition.t){var a=e.needlePosition.y+e.needlePosition.h,o=(s-e.needlePosition.minDefault)/e.needlePosition.maxDefault,r=e.needlePosition.h*o;i.guideNeedleValue=a-r}else{e.needlePosition.x,e.needlePosition.w,o=(s-e.needlePosition.minDefault)/e.needlePosition.maxDefault,r=e.needlePosition.w*o;i.guideNeedleValue=e.needlePosition.x+r}DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);this.getShape(t);if(i[0]>=e.marginLeft&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.changing_mousemove=function(t,e){if(e&&"needle"==e.type){var i=e.coord,s=0,a=t.offsetX,o=t.offsetY;if("v"==e.align){s=o-e.object.properties.guideNeedleWidth,i[5]>s?s=i[5]-e.object.properties.guideNeedleWidth/2:i[5]+i[7]<s&&(s=i[5]+i[7]-e.object.properties.guideNeedleWidth/2);var r=i[5],n=i[5]+i[7],h=i[2],l=(x=i[3])-h,c=(s-r)/(n-r);e.object.properties.guideNeedleCurrentValue=x-l*c}else{s=a-e.object.properties.guideNeedleWidth,i[4]>s?s=i[4]-e.object.properties.guideNeedleWidth:i[4]+i[6]<s&&(s=i[4]+i[6]-e.object.properties.guideNeedleWidth/2);var x;r=i[4],n=i[4]+i[6],h=i[2],l=(x=i[3])-h,c=(s-r)/(n-r);e.object.properties.guideNeedleCurrentValue=h+l*c}DxChart.Registry.set("changing.shape",e),e.object.properties.guideNeedleValue=s,DxChart.redrawCanvas(e.object.canvas)}},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.crosshairsColor=t.crosshairsColor,this.original_colors.highlightStroke=t.highlightStroke,this.original_colors.highlightFill=t.highlightFill,this.original_colors.textColor=t.textColor,this.original_colors.backgroundBarsColor1=t.backgroundBarsColor1,this.original_colors.backgroundBarsColor2=t.backgroundBarsColor2,this.original_colors.backgroundGridColor=t.backgroundGridColor,this.original_colors.backgroundColor=t.backgroundColor,this.original_colors.colorsStroke=t.colorsStroke,this.original_colors.axesColor=t.axesColor);var e=t.keyColors;if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.textColor=this.parseSingleColorForGradient(t.textColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colorStroke=this.parseSingleColorForGradient(t.colorStroke),t.axesColor=this.parseSingleColorForGradient(t.axesColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this;this.coords2.forEach(function(s,a,o){if("object"==typeof s[t]&&s[t]){var r=s[t][0]-.5,n=s[t][1]-.5,h=s[t][2]+1,l=s[t][3]+1;i.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&i.context.setElementFillStyle(e.keyInteractiveHighlightChartFill),i.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&i.context.setElementStrokeStyle(i.context.strokeStyle),i.context.lineWidth=2,isNexacroRuntime&&i.context.setElementLineWidth(i.context.lineWidth),i.context.strokeRect(r,n,h,l),i.context.fillRect(r,n,h,l)}})},this.firstDrawFunc=function(){},this.drawAni=function(){arguments[0];var t=arguments[1],e=arguments[2];this.grow(t,e)},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||20,a=0,o=this.get("guideUse");return this.set("guideUse",!1),function e(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("animationGrowMultiplier",a/s),DxChart.redrawCanvas(t.canvas),a<s?(a++,DxChart.Effects.updateCanvas(e,t.canvas)):(this.set("guideUse",o),i(t)))}(),this},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.isAdjustable=function(t){var e=this.properties;return!(!DxChart.isNull(e.changeableOnly)&&DxChart.isArray(e.changeableOnly))||(t?!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex]):void 0)},this.tooltipSubstitutions=function(t){var e=this.coords[t.index],i=nexacro.toNumber(e[3].toFixed(2)),s=this.data[e[0]],a=this._Colors[e[0]];return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:i,values:s,colors:a}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties;return{label:this.stackedOrGrouped?!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];e.properties;isNexacroRuntime?(t.tooltip.set_left(s[0]+a[4]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[5]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),t.tooltip.top<0&&t.tooltip.set_top(50)):(t.tooltip.style.left=s[0]+a[4]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[5]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseInt(t.tooltip.style.top.replace("px",""))<0&&(t.tooltip.style.top="50px"))},this.roundedCornersRect=function(t,e,i,s){if(!(i<0||s<0)){var a=this.properties.cornersRoundRadius;a=Math.min(i/2,s/2,a),this.context.moveTo(t+i/2,e),this.context.arcTo(t+i,e,t+i,e+s,Math.min(s/2,a)),this.context.lineTo(t+i,e+s),this.context.lineTo(t,e+s),this.context.lineTo(t,e+s/2),this.context.arcTo(t,e,t+i/2,e,Math.min(s/2,a)),this.context.lineTo(t+i/2,e)}},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHorseShoe(t){return DxChart._Base.call(this,t,"horseshoe"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"ends"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsCenter=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.value<=1e-7&&(this.value=1e-7)},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this,!0),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginBottom-this.marginTop)/2+this.marginTop,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.parseColors(),this.drawMeter(),this.drawLabels(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawMeter=function(){var t=this.properties,e=this.getAngle(this.currentValue);if(t.backgroundColor&&this.path("fs % fr -5 -5 % %",t.backgroundColor,this.canvas.width+10,this.canvas.height+10),isNexacroRuntime?this.path("b lw % a % % % 0 6.29 false s %",t.width,this.centerx,this.centery,this.radius,t.colors[1]):this.path("b a % % % 0 6.29 false a % % % 6.29 0 true f %",this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius-t.width,t.colors[1]),isNexacroRuntime){var i=e-DxChart.HALFPI;this.path("b lw % a % % % % % false s %",t.width,this.centerx,this.centery,this.radius,DxChart.PI,i,t.colors[0])}else this.path("b a % % % % % false a % % % % % true f %",this.centerx,this.centery,this.radius,DxChart.TWOPI-DxChart.HALFPI,e,this.centerx,this.centery,this.radius-t.width,e,DxChart.TWOPI-DxChart.HALFPI,t.colors[0]);this.path("b lw 3 a % % % 0 % false f % s white",this.centerx,this.centery-this.radius+t.width/2,"number"==typeof t.endsRadius?t.endsRadius:1.5*t.width,DxChart.TWOPI,"string"==typeof t.endsColor?t.endsColor:t.colors[0]);var s=DxChart.getRadiusEndPoint(this.centerx,this.centery,e,this.radius-t.width/2);this.path("b lw 3 a % % % 0 % false f % s white",s[0],s[1],"number"==typeof t.endsRadius?t.endsRadius:1.5*t.width,DxChart.TWOPI,"string"==typeof t.endsColor?t.endsColor:t.colors[0]),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawLabels=function(){var t=this.properties;if(t.labelsCenter){t.labelsCenterSpecific&&(t.labelsCenterSpecific2=DxChart.labelSubstitution({object:this,text:t.labelsCenterSpecific,index:0,value:this.value,decimals:t.labelsCenterSpecificFormattedDecimals||0,unitsPre:t.labelsCenterSpecificFormattedUnitsPre||"",unitsPost:t.labelsCenterSpecificFormattedUnitsPost||"",thousand:t.labelsCenterSpecificFormattedThousand||",",point:t.labelsCenterSpecificFormattedPoint||"."}));var e=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});DxChart.text({object:this,font:e.font,italic:e.italic,bold:e.bold,size:e.size,color:e.color,x:isNexacroRuntime?this.centerx+t.labelsCenterOffsetX+10:this.centerx+t.labelsCenterOffsetX,y:this.centery+t.labelsCenterOffsetY,text:t.labelsCenterSpecific?t.labelsCenterSpecific2:DxChart.numberFormat({object:this,number:this.value.toFixed(t.labelsCenterDecimals),unitspre:t.labelsCenterUnitsPre,unitspost:t.labelsCenterUnitsPost,point:t.labelsCenterPoint,thousand:t.labelsCenterThousand}),halign:"center",valign:"center",accessible:t.textAccessible})}},this.getShape=function(t){},this.getValue=function(t){this.properties;if("number"==typeof t){var e=t;e+=DxChart.HALFPI}else{var i=DxChart.getMouseXY(t);e=DxChart.getAngleByXY(this.centerx,this.centery,i[0],i[1]);(e+=DxChart.HALFPI)>DxChart.TWOPI&&(e-=DxChart.TWOPI)}var s=e/DxChart.TWOPI*(this.max-this.min)+this.min;return s=Math.max(s,this.min),s=Math.min(s,this.max)},this.getObjectByXY=function(t){this.properties;var e=DxChart.getMouseXY(t);return DxChart.getHypLength(this.centerx,this.centery,e[0],e[1])>this.radius?null:this},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){this.properties;if("number"==typeof t){if(t>this.max||t<this.min)return null;s=(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI}else var e=t.offsetX,i=t.offsetY,s=DxChart.getAngleByXY({cx:this.centerx,cy:this.centery,x:e,y:i});return t===this.max&&(s-=1e-5),t===this.min&&(s+=1e-5),s>DxChart.PI+DxChart.HALFPI&&(s-=DxChart.TWOPI),s},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor);var e=t.colors;if(e&&e.length)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.properties;this.cancelStopAnimation();var t=this;t.currentValue=t.currentValue||t.min;var e=(arguments[0]||{}).frames||30,i=0,s=(t.value-t.currentValue)/e,a=arguments[1]||function(){},o=t.currentValue,r=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=o+i++*s,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i<=e?DxChart.Effects.updateCanvas(r,t.canvas):a(t))};return r(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHProgress(t){return DxChart._Base.call(this,t,"hprogress"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsPosition="bottom",this.properties.Count=10,this.properties.progressHeight=null,this.properties.backgroundColor="linear-gradient(to bottom,#cccccc 0%,#eeeeee 50%,#efefef 100%)",this.properties.tickmarksColor="#999999",this.properties.keyPosition="margin",this.properties.shadowUse=!1,this.properties.keyShadow=!1,this.properties.keyHalign="right",this.properties.PositionGutterBoxed=!1,this.properties.borderInner=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null;for(var s=DxChart.arrayLinearize(i),a=0;a<s.length;++a)this["$"+a]={}},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(this.currentValue=this.value,DxChart._BeforeDraw(this),this.width=this.canvas.width-this.marginLeft-this.marginRight,this.height=this.canvas.height-this.marginTop-this.marginBottom,"number"==typeof t.progressHeight){var e=this.canvas.height-this.marginTop-this.marginBottom;if(e>t.progressHeight){this.height=t.progressHeight;var i=(e-t.progressHeight)/2;this.marginTop=this.marginTop+i,this.marginBottom=this.marginBottom+i}}return this.coords=[],this.coordsText=[],this.drawbar(),this.drawTickMarks(),this.drawLabels(),this.drawTitle(),t.beveled&&this.drawBevel(),t.contextmenu&&DxChart.showContext(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawbar=function(){var t=this.properties;this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.labelsCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),t.shadowUse&&DxChart.setShadow({object:this,prefix:"shadow"});var e=DxChart.parseGradient(this,t.backgroundColor,this.marginLeft,this.marginTop,this.width,this.height);this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(e),this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.colorsStrokeOuterLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeRect(this.marginLeft,this.marginTop,this.width,this.height),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillRect(this.marginLeft,this.marginTop,this.width,this.height),DxChart.noShadow(this);var i=DxChart.parseGradient(this,t.colors[0],this.marginLeft,this.marginTop,this.width,this.height);this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var s=t.marginInner,a=Math.min(this.width,(DxChart.arraySum(this.value)-this.min)/(this.max-this.min)*this.width);if(t.tickmarksInnerCount>0){var o=(this.canvas.width-this.marginLeft-this.marginRight)/t.tickmarksInnerCount;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var r=this.marginLeft;r<this.canvas.width-this.marginRight;r+=o)this.context.moveTo(Math.round(r),this.marginTop),this.context.lineTo(Math.round(r),this.marginTop+2),this.context.moveTo(Math.round(r),this.canvas.height-this.marginBottom),this.context.lineTo(Math.round(r),this.canvas.height-this.marginBottom-2);this.context.stroke()}if("number"==typeof this.value){var n=0;t.borderInner&&(this.context.lineWidth=t.colorsStrokeInnerLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.marginLeft,y:this.marginTop+s,width:a,height:this.height-s-s,stroke:t.colorsStrokeInner}),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)),this.drawCurvedBar({x:this.marginLeft+n,y:this.marginTop+s+n,width:a-2*n,height:this.height-s-s-2*n,fill:i}),this.coords.push([this.marginLeft,this.marginTop+s,a,this.height-s-s])}else if("object"==typeof this.value){this.context.beginPath();for(var h=this.marginLeft,l=(n=0,0),c=this.value.length;l<c;++l){var x=this.value[l]/DxChart.arraySum(this.value)*a;i=DxChart.parseGradient(this,t.colors[l],h,this.marginTop+s,x,this.height-s-s);t.borderInner&&(this.context.lineWidth=t.colorsStrokeInnerLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:h,y:this.marginTop+s,width:x,height:this.height-s-s,fill:i,stroke:t.colorsStrokeInner}),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)),this.drawCurvedBar({x:h+n,y:this.marginTop+s+n,width:x-2*n,height:this.height-s-s-2*n,fill:i}),this.coords.push([h,this.marginTop+s,x,this.height-s-s]),h+=x}}if(t.arrows){r=this.marginLeft+a;var d=this.marginTop;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.moveTo(r,d-3),this.context.lineTo(r+2,d-7),this.context.lineTo(r-2,d-7),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.moveTo(r,d+this.height+4),this.context.lineTo(r+2,d+this.height+9),this.context.lineTo(r-2,d+this.height+9),this.context.closePath(),this.context.stroke(),this.context.fill()}if(t.labelsInner){if("string"==typeof t.labelsInnerSpecific)var u=String(t.labelsInnerSpecific);else{var g=(g="number"==typeof this.value?this.value:DxChart.arraySum(this.value)).toFixed("number"==typeof t.labelsInnerDecimals?t.labelsInnerDecimals:t.scaleDecimals);u=DxChart.numberFormat({object:this,number:g,unitspre:"string"==typeof t.labelsInnerUnitsPre?t.labelsInnerUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsInnerUnitsPost?t.labelsInnerUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsInnerPoint?t.labelsInnerPoint:t.scalePoint,thousand:"string"==typeof t.labelsInnerThousand?t.labelsInnerThousand:t.scaleThousand})}var p=DxChart.getTextInfo({object:this,prefix:"labelsInner"});DxChart.text({object:this,font:p.font,size:p.size,color:p.color,bold:p.bold,italic:p.italic,x:this.marginLeft+a+5+t.labelsInnerOffsetX,y:this.marginTop+this.height/2+t.labelsInnerOffsetY,text:u,valign:"center",halign:"left",bounding:"string"==typeof t.labelsInnerBackgroundFill,boundingFill:t.labelsInnerBackgroundFill,boundingStroke:t.labelsInnerBorder?t.labelsInnerBorderColor:"rgba(0,0,0,0)",boundingLineWidth:t.labelsInnerBorderLineWidth,tag:"label.inner"})}this.path("b")},this.drawTickMarks=function(){var t=this.properties;if(this.context.strokeStyle=t.tickmarksColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.tickmarksOuterCount>0){this.context.beginPath(),this.tickInterval=this.width/t.tickmarksOuterCount;if("top"===t.labelsPosition)for(var e=this.marginLeft+0;e<=this.width+this.marginLeft+.1;e+=this.tickInterval)this.context.moveTo(Math.round(e),this.marginTop),this.context.lineTo(Math.round(e),this.marginTop-4);else for(e=this.marginLeft+0;e<=this.width+this.marginLeft+.1;e+=this.tickInterval)this.context.moveTo(Math.round(e),this.marginTop+this.height),this.context.lineTo(Math.round(e),this.marginTop+this.height+4);this.context.stroke()}},this.drawLabels=function(){var t=this.properties;if(!DxChart.isNull(t.labelsSpecific))return this.drawSpecificLabels();this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);t.textFontStyleObj.bold,t.textFontStyleObj.italic,t.textColor,t.textFontStyleObj.face,t.textFontStyleObj.size;for(var e,i=t.labelsOffsetX,s=t.labelsOffsetY,a=0,o=this.scale2.labels.length;a<o;a++){if("top"==t.labelsPosition)var r=this.width*(a/this.scale2.labels.length)+this.marginLeft+this.width/this.scale2.labels.length,n=this.marginTop-6,h="bottom";else r=this.width*(a/this.scale2.labels.length)+this.marginLeft+this.width/this.scale2.labels.length,n=this.height+this.marginTop+4,h="top";e=DxChart.getTextInfo({object:this,prefix:"labels"}),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:r+i,y:n+s,text:this.scale2.labels[a],valign:h,halign:"center",tag:"scale"})}e||(e=DxChart.getTextInfo({object:this,prefix:"labels"}));var l=DxChart.numberFormat({object:this,number:Number(this.min).toFixed(t.scaleDecimals),unitspre:t.scaleUnitsPre,unitspost:t.scaleUnitsPost});"top"==t.labelsPosition?DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:this.marginLeft+i,y:this.marginTop-6+s,text:l,valign:"bottom",halign:"center",tag:"scale"}):DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:this.marginLeft+i,y:this.canvas.height-this.marginBottom+5+s,text:l,valign:"top",halign:"center",tag:"scale"})},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=0,r=this.coords.length;o<r;o++){var n=this.coords[o][0],h=this.coords[o][1],l=this.coords[o][2],c=this.coords[o][3],x=o;if(this.context.beginPath(),this.drawCurvedBar({x:n,y:h,height:c,width:l}),this.context.isPointInPath(s,a)){if(DxChart.parseTooltipText)var d=DxChart.parseTooltipText(e.tooltipsData,x);return{object:this,x:n,y:h,width:l,height:c,dataset:0,index:x,sequentialIndex:x,tooltip:"string"==typeof d?d:null}}}},this.getValue=function(t){this.properties;var e=DxChart.getMouseXY(t),i=(e[0]-this.marginLeft)/this.width;return i*=this.max-this.min,i+=this.min,e[0]<this.marginLeft&&(i=this.min),e[0]>this.canvas.width-this.marginRight&&(i=this.max),i},this.highlight=function(t){var e=this.properties;t.index,this.coords.length;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.lineWidth=e.highlightLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(e.highlightLineWidth),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else this.context.lineWidth=e.highlightLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(e.highlightLineWidth),this.drawCurvedBar({x:t.x-.5,y:t.y-.5,width:t.width+1,height:t.height+1,stroke:e.highlightStroke,fill:e.highlightFill}),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(1)},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.marginLeft&&e[0]<this.canvas.width-this.marginRight&&e[1]>this.marginTop&&e[1]<this.canvas.height-this.marginBottom)return this},this.changing_mousemove=function(t){var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){DxChart.getMouseXY(t);var i=this.getValue(t);"number"==typeof i&&(this.value=Number(i.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))}},this.drawSpecificLabels=function(){var t=this.properties;if(t.labelsSpecific&&t.labelsSpecific.length){"string"==typeof t.labelsSpecific&&(t.labelsSpecific=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsSpecific}));for(var e=0;e<t.labelsSpecific;++e)t.labelsSpecific[e]=DxChart.labelSubstitution({object:this,text:t.labelsSpecific[e],index:e,value:"object"==typeof this.value&&"number"==typeof this.value[e]?this.value[e]:this.value,decimals:t.labelsSpecificFormattedDecimals||0,unitsPre:t.labelsSpecificFormattedUnitsPre||"",unitsPost:t.labelsSpecificFormattedUnitsPost||"",thousand:t.labelsSpecificFormattedThousand||",",point:t.labelsSpecificFormattedPoint||"."})}var i=t.labelsSpecific;if(i){var s="top"==t.labelsPosition?"bottom":"top",a=this.width/(i.length-1),o=t.labelsOffsetX,r=t.labelsOffsetY,n=DxChart.getTextInfo({object:this,prefix:"labels"});this.context.beginPath(),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(e=0;e<i.length;++e)DxChart.text({object:this,font:n.font,size:n.size,color:n.color,bold:n.bold,italic:n.italic,x:this.marginLeft+a*e+o,y:"top"==t.labelsPosition?this.marginTop-7+r:this.canvas.height-this.marginBottom+7+r,text:i[e],valign:s,halign:"center",tag:"labels.specific",cssClass:t.labelsSpecific?DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e}):""});this.context.fill()}},this.getXCoord=function(t){var e=this.min;if(t<e||t>this.max)return null;var i=this.canvas.width-this.marginLeft-this.marginRight,s=(t-e)/(this.max-e)*i;return s=this.marginLeft+s},this.overChartArea=function(t){var e=DxChart.getMouseXY(t),i=e[0],s=e[1];return i>=this.marginLeft&&i<=this.canvas.width-this.marginRight&&s>=this.marginTop&&s<=this.canvas.height-this.marginBottom},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.tickmarksColor=DxChart.arrayClone(t.tickmarksColor),this.original_colors.colorsStrokeInner=DxChart.arrayClone(t.colorsStrokeInner),this.original_colors.colorsStrokeOuter=DxChart.arrayClone(t.colorsStrokeOuter),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightColor=DxChart.arrayClone(t.highlightColor));t.colors;t.tickmarksColor=this.parseSingleColorForGradient(t.tickmarksColor),t.colorsStrokeInner=this.parseSingleColorForGradient(t.colorsStrokeInner),t.colorsStrokeOuter=this.parseSingleColorForGradient(t.colorsStrokeOuter),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke)},this.reset=function(){},this.drawBevel=function(){this.properties;for(var t=0,e=0;t<this.coords.length;++t)e+=this.coords[t][2];this.context.save(),this.context.beginPath(),this.context.rect(this.coords[0][0],this.coords[0][1],e,this.coords[0][3]),this.context.clip(),this.context.save(),this.context.beginPath(),this.drawCurvedBar({x:this.coords[0][0],y:this.coords[0][1],width:e,height:this.coords[0][3]}),this.context.clip(),this.context.beginPath(),this.context.shadowColor="black",this.context.shadowOffsetX=2,this.context.shadowOffsetY=2,this.context.shadowBlur=15,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.coords[0][0]-51,y:this.coords[0][1]-1,width:e+52,height:this.coords[0][3]+2}),this.context.stroke(),this.context.restore(),this.context.restore(),DxChart.noShadow(this)},this.drawTitle=function(){DxChart.drawTitle(this)},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords[t];this.context.beginPath(),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.rect(i[0]-.5,i[1]-.5,i[2]+1,i[3]+1),this.context.fill(),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawCurvedBar=function(t){this.context.beginPath(),this.context.rect(t.x,t.y,t.width,t.height),t.stroke&&(this.context.strokeStyle=t.stroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke()),t.fill&&(this.context.fillStyle=t.fill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill())},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.properties;this.cancelStopAnimation();var t=this,e=(t.canvas,t.context,t.currentValue),i=(arguments[0]||{}).frames||30,s=0,a=arguments[1]||function(){};if("object"==typeof t.value){if(DxChart.isNull(t.currentValue)){t.currentValue=[];for(var o=0,r=t.value.length;o<r;++o)t.currentValue[o]=0}var n=[],h=[];for(o=0,r=t.value.length;o<r;++o)n[o]=t.value[o]-Number(t.currentValue[o]),h[o]=n[o]/i;if(null==e){e=[];for(o=0,r=t.value.length;o<r;++o)e[o]=0}}else h=(n=t.value-Number(t.currentValue))/i;var l=function(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else if(++s<=i){if("object"==typeof t.value){t.value=[];for(var o=0,r=e.length;o<r;++o)t.value[o]=e[o]+h[o]*s}else t.value=e+h*s;DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(l,t.canvas)}else a()};return l(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){this.value,this.value;return{index:t.index,dataset:0,sequentialIndex:t.index,value:"number"==typeof this.value?this.value:this.value[t.index],values:"number"==typeof this.value?[this.value]:[this.value[t.index]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors[t.index],a=DxChart.isString(i.tooltipsFormattedKeyLabels[t.index])?i.tooltipsFormattedKeyLabels[t.index]:"";return i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[t.index]&&(s=i.tooltipsFormattedKeyColors[t.index]),{label:a,color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+a[2]/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+a[2]/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),isNexacroRuntime?parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.style.set_top(parseFloat(t.tooltip.getOffsetTop())+20):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px")},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartLine(t){if(DxChart._Base.call(this,t,"line"),DxChart.setDefaultProperties(this,"default"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"trendline"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"animation"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"filled"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"backdrop"),DxChart.setDefaultProperties(this,"combined"),DxChart.setDefaultProperties(this,"errorbars"),DxChart.setDefaultProperties(this,"null"),DxChart.setDefaultProperties(this,"variant"),this.properties.trendlineClip=!0,this.properties.trendlineMargin=25,this.properties.trendlineLinewidth=1,this.properties.trendlineMargin=25,this.properties.trendlineClip=!0,this.canvas){t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),this.data=t,this.orgData=DxChart.str2num(this.data),("number"==typeof this.orgData[0]||DxChart.isNull(this.orgData[0]))&&(this.orgData=[DxChart.arrayClone(this.orgData)]),this.unmodified_data=DxChart.arrayClone(this.orgData),this.data_arr=DxChart.arrayLinearize(this.orgData);for(var e=0;e<this.data_arr.length;++e)this["$"+e]={}},this.appendAxis=function(t){DxChart.appendAxis(this,t)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t,e=this.properties;if(DxChart._BeforeDraw(this),e.xaxisLabels&&e.xaxisLabels.length){"string"==typeof e.xaxisLabels&&(this.properties.xaxisLabels=DxChart.arrayPad({array:[],length:this.orgData[0].length,value:e.xaxisLabels}));for(var i=0;i<this.properties.xaxisLabels.length;++i)this.properties.xaxisLabels[i]=DxChart.labelSubstitution({object:this,text:e.xaxisLabels[i],index:i,value:this.orgData[0][i],decimals:e.xaxisLabelsFormattedDecimals||0,unitsPre:e.xaxisLabelsFormattedUnitsPre||"",unitsPost:e.xaxisLabelsFormattedUnitsPost||"",thousand:e.xaxisLabelsFormattedThousand||",",point:e.xaxisLabelsFormattedPoint||"."})}if(this.data=DxChart.arrayClone(this.orgData),this.max=0,this.properties.filledUse&&!this.properties.filledRange&&this.data.length>1&&this.properties.filledAccumulative)for(var s=[],a=0;a<this.data.length;++a)for(var o=0;o<this.data[a].length;++o)this.data[a][o]=Number(s[o]?s[o]:0)+this.data[a][o],s[o]=this.data[a][o];if(this.properties.yaxisScaleMax){if(this.max=this.properties.yaxisScaleMax,this.min=this.properties.yaxisScaleMin?this.properties.yaxisScaleMin:0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.properties.yaxisScaleMin,"scale.strict":!0,"scale.thousand":this.properties.yaxisScaleThousand,"scale.point":this.properties.yaxisScalePoint,"scale.decimals":this.properties.yaxisScaleDecimals,"scale.labels.count":this.properties.yaxisLabelsCount,"scale.round":this.properties.yaxisScaleRound,"scale.units.pre":this.properties.yaxisScaleUnitsPre,"scale.units.post":this.properties.yaxisScaleUnitsPost}}),this.max=this.scale2.max?this.scale2.max:0,!this.properties.outofbounds)for(var r=0;r<this.data.length;++r)if(DxChart.isArray(this.data[r]))for(var n=0;n<this.data[r].length;n++)this.hasnegativevalues=this.data[r][n]<0||this.hasnegativevalues}else{for(this.min=this.properties.yaxisScaleMin?this.properties.yaxisScaleMin:0,r=0;r<this.data.length;++r)for(n=0;n<this.data[r].length;n++)this.max=Math.max(this.max,this.data[r][n]?Math.abs(parseFloat(this.data[r][n])):0),this.properties.outofbounds||(this.hasnegativevalues=this.data[r][n]<0||this.hasnegativevalues);this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":e.yaxisScaleMin,"scale.thousand":e.yaxisScaleThousand,"scale.point":e.yaxisScalePoint,"scale.decimals":e.yaxisScaleDecimals,"scale.labels.count":e.yaxisLabelsCount,"scale.round":e.yaxisScaleRound,"scale.units.pre":e.yaxisScaleUnitsPre,"scale.units.post":e.yaxisScaleUnitsPost,"scale.formatter":e.yaxisScaleFormatter}}),this.max=this.scale2.max?this.scale2.max:0}e.contextmenu&&DxChart.showContext(this),this.coords=[],this.coordsText=[],this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=e.textFontStyleObj.size/2,"3d"==e.variantValue&&DxChart.draw3DAxes(this),DxChart.Background.draw(this),e.backgroundHbars&&e.backgroundHbars.length>0&&DxChart.drawBars(this),e.lineAbove||this.drawAxes(),this.context.save(),this.context.beginPath(),e.animationTraceCenter?this.context.rect(this.canvas.width/2*(1-e.animationTraceClip),0,this.canvas.width*e.animationTraceClip,this.canvas.height):this.context.rect(0,0,this.canvas.width*e.animationTraceClip,this.canvas.height),this.context.clip();i=0;for(var h=0,l=this.data.length;i<l;i++,h++)this.context.beginPath(),e.filledUse||this.setShadow(i),e.filledColors?"object"==typeof e.filledColors&&e.filledColors[h]?t=e.filledColors[h]:"object"==typeof e.filledColors&&e.filledColors.toString().indexOf("gradient")>0?t=e.filledColors:"string"==typeof e.filledColors&&(t=e.filledColors):t=e.filledUse?e.colors[h]:null,c=e.tickmarksStyle&&"object"==typeof e.tickmarksStyle?e.tickmarksStyle[i]:e.tickmarksStyle&&"string"==typeof e.tickmarksStyle?e.tickmarksStyle:e.tickmarksStyle&&"function"==typeof e.tickmarksStyle?e.tickmarksStyle:null,e.outofboundsClip&&this.path("sa b r % % % % cl b",0,this.marginTop,this.canvas.width,this.canvas.height-this.marginTop-this.marginBottom),this.drawLine(this.data[i],e.colors[h],t,this.getLineWidth(h),c,i),e.outofboundsClip&&this.context.restore(),this.context.stroke();if(e.outofboundsClip&&this.path("sa b r % % % % cl b",0,this.marginTop,this.canvas.width,this.canvas.height-this.marginTop-this.marginBottom),e.filledUse&&e.filledAccumulative&&!e.lineCurve){for(i=0;i<this.coords2.length;++i){this.context.beginPath(),this.context.lineWidth=this.getLineWidth(i),isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=this.hidden(i)?"rgba(0,0,0,0)":e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(h=0,l=this.coords2[i].length;h<l;++h)0==h||null==this.coords2[i][h][1]||this.coords2[i][h-1]&&null==this.coords2[i][h-1][1]?this.context.moveTo(this.coords2[i][h][0],this.coords2[i][h][1]):(e.lineStepped&&this.context.lineTo(this.coords2[i][h][0],this.coords2[i][h-1][1]),this.context.lineTo(this.coords2[i][h][0],this.coords2[i][h][1]));this.context.stroke()}if(e.tickmarksStyle){this.context.beginPath(),this.context.fillStyle="white",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(i=0,l=this.coords2.length;i<l;++i){this.context.beginPath(),this.context.strokeStyle=e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(h=0;h<this.coords2[i].length;++h)if("object"==typeof this.coords2[i][h]&&"number"==typeof this.coords2[i][h][0]&&"number"==typeof this.coords2[i][h][1]){var c="object"==typeof e.tickmarksStyle?e.tickmarksStyle[i]:e.tickmarksStyle;this.drawTick(this.coords2[i],this.coords2[i][h][0],this.coords2[i][h][1],this.context.strokeStyle,!1,0==h?0:this.coords2[i][h-1][0],0==h?0:this.coords2[i][h-1][1],c,h,i)}}this.context.stroke(),this.context.fill()}}else if(e.filledUse&&e.filledAccumulative&&e.lineCurve){for(i=0;i<this.coordsLineCurve.length;i+=1){this.context.beginPath(),this.context.strokeStyle=e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=this.getLineWidth(i),isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(h=0,l=this.coordsLineCurve[i].length;h<l;h+=1){o=this.coordsLineCurve[i][h];0==h?this.context.moveTo(o[0],o[1]):this.context.lineTo(o[0],o[1])}this.context.stroke()}for(i=0,l=this.coords2.length;i<l;i+=1){h=0;for(var x=this.coords2[i].length;h<x;++h)if("object"==typeof this.coords2[i][h]&&"number"==typeof this.coords2[i][h][0]&&"number"==typeof this.coords2[i][h][1]){c="object"!=typeof e.tickmarksStyle||DxChart.isNull(e.tickmarksStyle)?e.tickmarksStyle:e.tickmarksStyle[i];this.context.strokeStyle=e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.drawTick(this.coords2[i],this.coords2[i][h][0],this.coords2[i][h][1],e.colors[i],!1,0==h?0:this.coords2[i][h-1][0],0==h?0:this.coords2[i][h-1][1],c,h,i)}}}if(e.nullBridge)for(i=0;i<this.data.length;++i)this.nullBridge(i,this.data[i],e);if(e.outofboundsClip&&this.context.restore(),this.context.restore(),this.context.beginPath(),e.lineAbove&&this.drawAxes(),this.drawLabels(),this.drawRange(),e.keyData&&e.keyData.length&&DxChart.drawKey&&DxChart.drawKey(this,e.keyData,e.colors),e.labelsAbove&&this.drawAboveLabels(),DxChart.drawInGraphLabels(this),e.filledUse&&e.filledRange&&2==this.data.length){this.context.beginPath();l=this.coords.length/2;this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=this.hidden(0)?"rgba(0,0,0,0)":e.colors[0],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(i=0;i<l;++i)DxChart.isNull(this.coords[i][1])||(0==i?this.context.moveTo(this.coords[i][0],this.coords[i][1]):this.context.lineTo(this.coords[i][0],this.coords[i][1]));this.context.stroke(),this.context.beginPath(),e.colors[1]&&(this.context.strokeStyle=this.hidden(1)?"rgba(0,0,0,0)":e.colors[1],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle));for(i=this.coords.length-1;i>=l;--i)DxChart.isNull(this.coords[i][1])||(i==this.coords.length-1?this.context.moveTo(this.coords[i][0],this.coords[i][1]):this.context.lineTo(this.coords[i][0],this.coords[i][1]));this.context.stroke()}else e.filledUse&&e.filledRange;for(i=0;i<this.data.length;++i)(DxChart.isArray(e.trendlineValue)&&e.trendlineValue[i]||!DxChart.isArray(e.trendlineValue)&&e.trendlineValue)&&this.drawTrendline(i);return DxChart.addCustomText(this),DxChart.installEventListeners(this),e.tooltipsDataset&&this.addDatasetTooltip(),DxChart.drawHorizontalLines(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){var t=this.properties;if(this.context.beginPath(),DxChart.drawXAxis(this),DxChart.drawYAxis(this),t.yaxisAppenObject.length>0)for(var e=0,i=this.properties.yaxisAppenObject.length;e<i;e++);this.context.beginPath()},this.drawLabels=function(){},this.drawLine=function(t,e,i,s,a,o){var r=this.properties;if(r.animationUnfoldY&&1!=r.animationFactor)for(var n=0;n<t.length;++n)t[n]*=r.animationFactor;var h=!1,l=null,c=0;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);var x=[];if(o>0)var d=this.coords2[o-1];this.setLinecap({index:o}),this.setLinejoin({index:o});for(var u=(this.canvas.width-2*r.marginInner-this.marginLeft-this.marginRight)/(t.length-1),g=(n=0,t.length);n<g;n+=1){var p=t[n];l=this.getYCoord(p);(null==t[n]||"bottom"==r.xaxisPosition&&t[n]<this.min&&!r.outofbounds||"center"==r.xaxisPosition&&t[n]<-1*this.max&&!r.outofbounds||(t[n]<this.min&&"center"!==r.xaxisPosition||t[n]>this.max)&&!r.outofbounds)&&(l=null),n>0?c+=u:c=this.marginInner+this.marginLeft,r.animationUnfoldX&&(c*=r.animationFactor)<this.marginLeft&&(c=this.marginLeft),this.coords.push([c,l]),x.push([c,l])}this.context.stroke(),this.coords2[o]=x,this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),i&&(this.context.fillStyle=i,isNexacroRuntime&&(i instanceof nexacro._CanvasGradient&&(this.context._globalAlphaFill=1,this.context.setElementGlobalAlpha(1)),this.context.setElementFillStyle(this.context.fillStyle)));var f,m=r.lineStepped,b=r.filledUse;"top"==r.xaxisPosition?f=this.marginTop:"center"==r.xaxisPosition?f=this.marginTop+this.chartArea/2:"bottom"==r.xaxisPosition&&(f=this.getYCoord(r.yaxisScaleMin));for(n=0,g=x.length;n<g;n+=1){c=x[n][0],l=x[n][1];var C=x[n-1]?x[n-1][1]:null,y=n+1==x.length;!r.outofbounds&&(C<this.marginTop||C>this.canvas.height-this.marginBottom)&&(h=!0),0==n||h||!l||!C||C<this.marginTop?(r.filledUse&&!r.filledRange?(r.outofbounds&&null!==C&&null!==l||this.context.moveTo(c+1,f),"top"==r.xaxisPosition&&this.context.moveTo(c+1,f),m&&n>0&&this.context.lineTo(c,x[n-1][1]),this.context.lineTo(c,l)):this.context.moveTo(c+1,l),h=null==l):(m&&this.context.lineTo(c,x[n-1][1]),l>=this.marginTop&&l<=this.canvas.height-this.marginBottom||r.outofbounds?(y&&r.filledUse&&!r.filledRange&&"right"==r.yaxisPosition&&(c-=1),m&&y?m&&y&&this.context.lineTo(c,l):(this.context.lineTo(c,l),b&&x[n+1]&&null==x[n+1][1]&&this.context.lineTo(c,f)),h=!1):h=!0)}if(r.filledUse&&!r.filledRange&&!r.lineCurve){r.filledColors;if(o>0&&r.filledAccumulative){this.context.lineTo(c,d?d[n-1][1]:this.canvas.height-this.marginBottom-1+("center"==r.xaxisPosition?(this.canvas.height-this.marginTop-this.marginBottom)/2:0));for(var v=n-1;v>=0;--v)this.context.lineTo(0==v?d[v][0]+1:d[v][0],d[v][1])}else if("top"==r.xaxisPosition)this.context.lineTo(c,r.marginTop+1),this.context.lineTo(x[0][0],r.marginTop+1);else if("number"==typeof x[n-1][1]){var D=this.getYCoord(0);this.context.lineTo(c,D),this.context.lineTo(x[0][0],D)}this.context.fillStyle=this.hidden(o)?"rgba(0,0,0,0)":i,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.closePath(),this.context.fill(),this.context.beginPath()}this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke(),r.backdropValue&&this.drawBackdrop(x,e),this.context.save(),this.context.beginPath(),r.animationTraceCenter?this.context.rect(this.canvas.width/2*(1-r.animationTraceClip),0,this.canvas.width*r.animationTraceClip,this.canvas.height):this.context.rect(0,0,this.canvas.width*r.animationTraceClip,this.canvas.height),this.context.clip(),"null"!=typeof r.errorbarsValue&&this.drawErrorbars(),this.setShadow(o),this.redrawLine(x,e,s,o,i),this.context.stroke(),DxChart.noShadow(this);for(n=0;n<x.length;++n)if(n=Number(n),this.context.strokeStyle=e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),m&&n==x.length-1&&this.context.beginPath(),"endcircle"!=a&&"endsquare"!=a&&"filledendsquare"!=a&&"endtick"!=a&&"endtriangle"!=a&&"arrow"!=a&&"filledarrow"!=a||0==n&&"arrow"!=a&&"filledarrow"!=a||n==x.length-1){var S=n<=0?null:x[n-1][0];C=n<=0?null:x[n-1][1];this.drawTick(t,x[n][0],x[n][1],e,!1,S,C,a,n,o)}this.context.restore(),this.drawAngledLabels(),this.context.beginPath(),this.context.arc(this.canvas.width+5e4,this.canvas.height+5e4,2,0,6.38,1)},this.drawTick=function(t,e,i,s,a,o,r,n,h,l){var c=this.properties;if(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,1]),c.tickmarksColor&&(s=c.tickmarksColor),!this.hidden(l)){if(DxChart.isNull(i))return!1;if((!(i>this.canvas.height-this.marginBottom)||c.outofbounds)&&(!(i<this.marginTop)||c.outofbounds)){this.context.beginPath();if(this.path("lw % ss % fs %",c.tickmarksLineWidth?c.tickmarksLineWidth:c.lineWidth,a?c.shadowStyleObj.color:s,a?c.shadowStyleObj.color:s),"circle"==n||"round"==n||"filledcircle"==n||"endcircle"==n||"filledendcircle"===n)"round"!=n&&"circle"!=n&&"filledcircle"!=n&&("endcircle"!=n&&"filledendcircle"!==n||0!=h&&h!=t.length-1)||(this.path("b a % % % % % %",e+0,i+0,c.tickmarksSize,0,360/(180/DxChart.PI),!1),-1!==n.indexOf("filled")?this.path("fs %",a?c.shadowStyleObj.color:s):this.path("fs %",a?c.shadowStyleObj.color:c.tickmarksStyleInnerColor?c.tickmarksStyleInnerColor:"white"),this.context.fill(),this.context.stroke());else if("halftick"==n)this.path("b m % % l % % s null",Math.round(e),i,Math.round(e),i+c.tickmarksSize);else if("tick"==n)this.path("b m % % l % % s",Math.round(e),i-c.tickmarksSize,Math.round(e),i+c.tickmarksSize);else if("endtick"!=n||0!=h&&h!=t.length-1)if("cross"==n){var x=c.tickmarksSize;this.path("b m % % l % % m % % l % % s %",e-x,i-x,e+x,i+x,e+x,i-x,e-x,i+x,s)}else if("triangle"==n||"filledtriangle"==n||"endtriangle"==n&&(0==h||h==t.length-1))this.path("b m % % l % % l % % c f % s null",Math.round(e-c.tickmarksSize),i+c.tickmarksSize,Math.round(e),i-c.tickmarksSize,Math.round(e+c.tickmarksSize),i+c.tickmarksSize,"filledtriangle"===n?a?c.shadowStyleObj.color:this.context.strokeStyle:"white");else if("borderedcircle"==n||"dot"==n)this.path("lw % b a % % % % % false c f % s %",c.tickmarksStyleDotLineWidth||1e-8,e,i,c.tickmarksSize,0,360/(180/DxChart.PI),c.tickmarksStyleDotFill||s,c.tickmarksStyleDotStroke||s);else if("square"==n||"rect"==n||"filledsquare"==n||"endsquare"==n&&(0==h||h==t.length-1)||"filledendsquare"==n&&(0==h||h==t.length-1))this.path("b r % % % % f % s %",Math.round(e-c.tickmarksSize),Math.round(i-c.tickmarksSize),2*c.tickmarksSize,2*c.tickmarksSize,"white",this.context.strokeStyle),"filledsquare"!=n&&"filledendsquare"!=n||this.path("b r % % % % f %",Math.round(e-c.tickmarksSize),Math.round(i-c.tickmarksSize),2*c.tickmarksSize,2*c.tickmarksSize,a?c.shadowStyleObj.color:this.context.strokeStyle),this.path("f null s null");else if("diamond"===n||"filleddiamond"===n||"enddiamond"===n&&(0==h||h==t.length-1)||"filledenddiamond"===n&&(0==h||h==t.length-1))this.path("b m % % l % % l % % l % % c f % s",e-c.tickmarksSize,i,e,i-c.tickmarksSize,e+c.tickmarksSize,i,e,i+c.tickmarksSize,"filled"===n.substr(0,6)?a?c.shadowStyleObj.color:this.context.strokeStyle:"white");else if("filledarrow"==n){c.lineCurve&&(e=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][0],i=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][1],o=this.coordsLineCurve[l][this.coordsLineCurve[l].length-3][0],r=this.coordsLineCurve[l][this.coordsLineCurve[l].length-3][1]);var d=Math.abs(e-o),u=Math.abs(i-r);if(i<r)var g=Math.atan(d/u)+1.57;else g=Math.atan(u/d)+3.14;this.path("b lj miter m % % a % % % % % false a % % % % % false c s % f %",e,i,e,i,c.tickmarksSize,g-.3,g-.3,e,i,c.tickmarksSize,g+.3,g+.3,this.context.strokeStyle,this.context.fillStyle)}else if("arrow"===n){c.lineCurve&&(e=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][0],i=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][1],o=this.coordsLineCurve[l][this.coordsLineCurve[l].length-2][0],r=this.coordsLineCurve[l][this.coordsLineCurve[l].length-2][1]);var p=this.context.lineWidth;d=Math.abs(e-o),u=Math.abs(i-r);if(this.context.lineWidth,i<r)g=Math.atan(d/u)+1.57;else g=Math.atan(u/d)+3.14;this.path("b lj miter m % % a % % % % % false m % % a % % % % % false s % lw %",e,i,e,i,c.tickmarksSize,g-.3,g-.3,e,i,e,i,c.tickmarksSize,g+.3,g+.3,this.context.strokeStyle,p)}else if("string"!=typeof n||"image:"!==n.substr(0,6)&&"data:"!==n.substr(0,5)&&"/"!==n.substr(0,1)&&"../"!==n.substr(0,3)&&"images/"!==n.substr(0,7)&&"src:"!==n.substr(0,4))"function"==typeof n&&n(this,t,t[h],h,e,i,s,o,r);else{var f=new Image;"image:"===n.substr(0,6)?f.src=n.substr(6):"src:"===n.substr(0,4)?f.src=n.substr(4):f.src=n;var m=this;f.onload=function(){"center"===c.tickmarksStyleImageHalign&&(e-=this.width/2),"right"===c.tickmarksStyleImageHalign&&(e-=this.width),"center"===c.tickmarksStyleImageValign&&(i-=this.height/2),"bottom"===c.tickmarksStyleImageValign&&(i-=this.height),e+=c.tickmarksStyleImageOffsetX,i+=c.tickmarksStyleImageOffsetY,m.context.drawImage(this,e,i)}}else this.path("b m % % l % % s",Math.round(e),i-c.tickmarksSize,Math.round(e),i+c.tickmarksSize)}}},this.drawRange=function(){var t=this.properties;if(t.filledRange&&t.filledUse){DxChart.isNull(t.filledRangeThreshold)&&(t.filledRangeThreshold=this.ymin,t.filledRangeThresholdColors=[t.filledColors,t.filledColors]);for(var e=0;e<2;++e){t.filledRangeThresholdColors;var i=this.getYCoord(t.filledRangeThreshold);this.context.save(),0==e?(this.context.beginPath(),this.context.rect(0,0,this.canvas.width,i),this.context.clip()):(this.context.beginPath(),this.context.rect(0,i,this.canvas.width,this.canvas.height),this.context.clip()),this.context.beginPath(),this.context.fillStyle=1==e?t.filledRangeThresholdColors[1]:t.filledRangeThresholdColors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=this.hidden(e)?0:1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var s=this.coords.length/2,a=0;a<s;++a)0==a?this.context.moveTo(this.coords[a][0],this.coords[a][1]):this.context.lineTo(this.coords[a][0],this.coords[a][1]);for(a=this.coords.length-1;a>=s;--a)DxChart.isNull(this.coords[a][1])?this.context.moveTo(this.coords[a][0],this.coords[a][1]):this.context.lineTo(this.coords[a][0],this.coords[a][1]);this.context.fill(),this.context.restore()}}},this.redrawLine=function(t,e,i,s,a){var o=this.properties;if(o.redraw&&!o.filledRange){var r=-1==e.toString().indexOf("CanvasGradient");if(this.context.strokeStyle="object"==typeof e&&e&&r?e[0]:e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=i,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),(o.dotted||o.dashed)&&(o.dashed?isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([2,6]):o.dotted&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,5]))),this.hidden(s)&&(this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle)),o.lineCurve)this.drawCurvyLine(t,this.hidden(s)?"rgba(0,0,0,0)":e,i,s,a);else{this.setLinejoin({index:s}),this.setLinecap({index:s}),this.context.beginPath();for(var n=t.length,h=this.canvas.width,l=this.canvas.height,c=!1,x=0;x<n;++x){t[x][0];var d=t[x][1];if(x>0)var u=t[x-1][0],g=t[x-1][1];!(0==x&&t[x]||d<this.marginTop||g<this.marginTop||d>l-this.marginBottom||x>0&&u>h-this.marginRight||x>0&&g>l-this.marginBottom||null==g||1==c)||o.outofbounds&&null!=d&&null!=g?(o.lineStepped&&x>0&&this.context.lineTo(t[x][0],t[x-1][1]),this.context.lineTo(t[x][0],t[x][1]),c=!1):(this.context.moveTo(t[x][0],t[x][1]),c=!1)}if(o.colorsAlternate&&"object"==typeof e&&e[0]&&e[1])for(x=1;x<n;++x){u=t[x-1][0];null!=(g=t[x-1][1])&&null!=t[x][1]&&(this.context.beginPath(),this.context.strokeStyle=e[t[x][1]<g?0:1],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=o.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.moveTo(u,g),this.context.lineTo(t[x][0],t[x][1]),this.context.stroke())}this.context.stroke(),this.context.beginPath(),(o.dashed||o.dotted)&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,0]))}}},this.drawBackdrop=function(t,e){var i=properties.backdropSize;this.path("lw % ga % ss %",i,properties.backdropAlpha,e);var s=[];if(this.context.beginPath(),properties.lineCurve){for(var a=0;a<t.length;++a)s.push(t[a][1]);this.drawLineCurve(this.context,s,e,null)}else{this.context.moveTo(t[0][0],t[0][1]);for(var o=1;o<t.length;++o)DxChart.isNull(t[o][1])||t[o-1]&&DxChart.isNull(t[o-1][1])?this.context.moveTo(t[o][0],t[o][1]):this.context.lineTo(t[o][0],t[o][1])}this.context.stroke(),this.context.globalAlpha=1,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),DxChart.noShadow(this)},this.getLineWidth=function(t){var e=this.properties.lineWidth;return"number"==typeof e?e:"object"==typeof e?e[t]?e[t]:e[0]:void 0},this.getShape=function(t){var e=this.properties,i=this,s=DxChart.getMouseXY(t),a=s[0],o=s[1];arguments[1]&&(i=arguments[1]);for(var r=0;r<i.coords.length;++r){for(var n=i.coords[r][0],h=i.coords[r][1],l=0,c=r;c+1>this.data[l].length;)c-=this.data[l].length,l++;if(a<=n+e.tooltipsHotspotSize&&a>=n-e.tooltipsHotspotSize&&o<=h+e.tooltipsHotspotSize&&o>=h-e.tooltipsHotspotSize){if(DxChart.parseTooltipText)var x=DxChart.parseTooltipText(e.tooltipsData,r);if(this.hidden(l))continue;return{object:i,x:n,y:h,dataset:l,index:c,sequentialIndex:r,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[c]?e.xaxisLabels[c]:null,tooltip:"string"==typeof x?x:null}}if(1==e.tooltipsHotspotXonly&&a<=n+e.tooltipsHotspotSize&&a>=n-e.tooltipsHotspotSize){x=DxChart.parseTooltipText(e.tooltipsData,r);return{object:i,x:n,y:h,dataset:l,index:c,sequentialIndex:r,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[c]?e.xaxisLabels[c]:null,tooltip:x}}}},this.getShapeByX=function(t){var e=this,i=DxChart.getMouseXY(t),s=i[0];i[1];arguments[1]&&(e=arguments[1]);for(var a=0;a<e.coords.length;++a){for(var o=e.coords[a][0],r=e.coords[a][1],n=0,h=a;h+1>this.data[n].length;)h-=this.data[n].length,n++;if(s<=o+properties.tooltipsHotspotSize&&s>=o-properties.tooltipsHotspotSize)return{object:e,x:o,y:r,dataset:n,index:h,sequentialIndex:a,label:properties.xaxisLabels&&"string"==typeof properties.xaxisLabels[h]?properties.xaxisLabels[h]:null}}},this.drawAboveLabels=function(){var t=this.properties,e=t.labelsAboveUnitsPre,i=t.labelsAboveUnitsPost,s=t.labelsAboveDecimals,a=t.labelsAbovePoint,o=t.labelsAboveThousand,r=t.labelsAboveBackground||"white",n="boolean"!=typeof t.labelsAboveBorder&&"number"!=typeof t.labelsAboveBorder||t.labelsAboveBorder,h=t.labelsAboveBorderStyleObj.color,l=t.labelsAboveBorderStyleObj._width,c=(t.labelsAboveBorderStyleObj.style,t.labelsAboveOffsetY),x=t.labelsAboveSpecific,d=t.labelsAboveFormatter,u=DxChart.arrayLinearize(this.orgData),g=DxChart.getTextInfo({object:this,prefix:"labelsAbove"});c-=g.size,this.context.beginPath();for(var p=0,f=this.coords.length;p<f;p+=1){var m=DxChart.sequentialIndexToGrouped(p,this.data),b=m[0],C=m[1],y=this.coords[p];DxChart.isNull(y[1])||(this.hidden(b)||DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:y[0]+t.labelsAboveOffsetX,y:y[1]+c,text:x&&x[p]?x[p]:x?"":DxChart.numberFormat({object:this,number:"number"==typeof s?u[p].toFixed(s):u[p],value:"number"==typeof s?u[p].toFixed(s):u[p],unitspre:e,unitspost:i,point:a,thousand:o,formatter:d,index:C,dataset:b}),valign:"center",halign:"center",bounding:n||!1,boundingFill:r||"white",boundingStroke:h||"rgba(0,0,0,0)",boundingLineWidth:l||1,tag:"labels.above"}))}},this.drawCurvyLine=function(t,e,i,s,a){for(var o=this.properties,r=[],n=0;n<t.length;++n)r.push(t[n][1]);if(o.filledUse){this.context.beginPath();var h=this.getYCoord(o.yaxisScaleMin);if(this.context.moveTo(t[0][0],h),this.drawLineCurve(this.context,r,e,s),o.filledAccumulative&&s>0)for(n=this.coordsLineCurve[s-1].length-1;n>=0;n-=1)this.context.lineTo(this.coordsLineCurve[s-1][n][0],this.coordsLineCurve[s-1][n][1]);else this.context.lineTo(t[t.length-1][0],h);this.context.fill()}this.context.beginPath(),this.context.moveTo(t[0][0],t[0][1]),this.drawLineCurve(this.context,r,e,s),this.context.stroke()},this.getValue=function(t){var e=this.properties;if(2==t.length){t[0];var i=t[1]}else{var s=DxChart.getMouseXY(t);s[0],i=s[1]}var a=this,o=e.xaxisPosition;if(i<e.marginTop)return"bottom"==o||"center"==o?this.max:this.min;if(i>this.canvas.height-e.marginBottom)return"bottom"==o?this.min:this.max;if("center"==e.xaxisPosition){var r=(a.chartArea/2-(i-e.marginTop))/a.chartArea*(a.max-a.min);return(r*=2)>0?r+=this.min:r-=this.min,r}if("top"==e.xaxisPosition){r=(a.chartArea-(i-e.marginTop))/a.chartArea*(a.max-a.min);return r=-1*Math.abs(a.max-r)}r=(a.chartArea-(i-e.marginTop))/a.chartArea*(a.max-a.min);return r+=a.min},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("invert"===e.highlightStyle)this.context.save(),this.context.beginPath(),this.context.rect(this.marginLeft,this.marginTop,this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom),this.context.clip(),this.context.beginPath(),this.context.moveTo(t.x,this.marginTop),this.context.arc(t.x,t.y,25,4.71,4.72,!0),this.context.lineTo(t.x,this.marginTop),this.context.lineTo(this.canvas.width-this.marginRight,this.marginTop),this.context.lineTo(this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft,this.marginTop),this.context.closePath(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill(),this.context.beginPath(),this.context.arc(t.x,t.y,25,0,6.29,!1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.restore();else if("halo"===e.highlightStyle){t.object;var i=e.colors[t.dataset];this.context.beginPath(),this.context.arc(t.x,t.y,13,0,6.283,!1),this.context.fillStyle="rgba(255,255,255,0.75)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.75)"),this.context.fill(),this.context.globalAlpha=.15,isNexacroRuntime&&(this.context.setElementGlobalAlpha(.15),this.context._globalAlphaFill=.15,this.context._globalAlphaStroke=.15),this.context.beginPath(),this.context.arc(t.x,t.y,13,0,6.283,!1),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.context.fill(),this.context.globalAlpha=1,isNexacroRuntime&&(this.context.setElementGlobalAlpha(1),this.context._globalAlphaFill=1,this.context._globalAlphaStroke=1),this.context.beginPath(),this.context.arc(t.x,t.y,7,0,6.283,!1),this.context.fillStyle="white",isNexacroRuntime&&this.context.setElementFillStyle("white"),this.context.fill(),this.context.beginPath(),this.context.arc(t.x,t.y,5,0,6.283,!1),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.context.fill()}else DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);if(i[0]>this.marginLeft-5&&i[0]<this.canvas.width-this.marginRight+5&&i[1]>e.marginTop-5&&i[1]<this.canvas.height-this.marginBottom+5)return this},this.changing_mousemove=function(t){if(this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){var e=Number(this.getValue(t)),i=DxChart.Registry.get("changing.shape");i&&(DxChart.Registry.set("changing.shape",i),this.orgData[i.dataset][i.index]=Number(e),DxChart.redrawCanvas(t.target),DxChart._fireEvent(this,"onadjust"))}},this.getYCoord=function(t){var e,i=this.properties;if(!0===arguments[1])var s=!0;if("number"!=typeof t)return null;var a=i.xaxisPosition;if("top"==a)e=(t-this.min)/(this.max-this.min)*this.chartArea,i.yaxisScaleInvert&&(e=this.chartArea-e),e+=this.marginTop;else if("center"==a)e=(t-this.min)/(this.max-this.min)*(this.chartArea/2),e=this.chartArea/2-e,e+=this.marginTop;else{if(!s&&(t<this.min||t>this.max)&&0==i.outofbounds)return null;e=(t-this.min)/(this.max-this.min)*this.chartArea,i.yaxisScaleInvert&&(e=this.chartArea-e),e=this.canvas.height-this.marginBottom-e}return e},this.drawLineCurve=function(t,e,i,s){this.coordsLineCurve[s]=[];var a=[],o=this.marginLeft,r=this.marginRight,n=this.marginInner,h=(this.canvas.width-(o+r)-2*n)/(e.length-1);this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var l=0,c=e.length;l<c;l+=1)"object"==typeof e[l]&&e[l]&&2==e[l].length&&(e[l]=Number(e[l][1]));var x=[e[0]];for(l=0;l<e.length;++l)x.push(e[l]);x.push(e[e.length-1]+(e[e.length-1]-e[e.length-2]));for(var d=1;d<x.length-2;++d)for(var u=0;u<10;++u){var g=p(u/10,x[d-1],x[d],x[d+1],x[d+2]);a.push((d-1)*h+u*(h/10)+o+n),this.context.lineTo(a[a.length-1],g),"number"==typeof s&&this.coordsLineCurve[s].push([a[a.length-1],g])}function p(t,e,i,s,a){return.5*(2*i+(0-e+s)*t+(t*t*(2*e-5*i+4*s-a)+(0-e+3*i-3*s+a)*(t*t*t)))}this.context.lineTo((d-1)*h+o+n,x[d]),"number"==typeof s&&this.coordsLineCurve[s].push([(d-1)*h+o+n,x[d]])},this.parseColors=function(){var t=this.properties;this.original_colors.colors||(this.original_colors={},this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.fillledColors=DxChart.arrayClone(t.filledColors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.backgroundHbars=DxChart.arrayClone(t.backgroundHbars),this.original_colors.backgroundBarsColor1=t.backgroundBarsColor1,this.original_colors.backgroundBarsColor2=t.backgroundBarsColor2,this.original_colors.backgroundGridColor=t.backgroundGridColor,this.original_colors.backgroundColor=t.backgroundColor,this.original_colors.textColor=t.textColor,this.original_colors.crosshairsColor=t.crosshairsColor,this.original_colors.annotationColor=t.annotationColor,this.original_colors.titleColor=t.titleColor,this.original_colors.xaxisTitleColor=t.xaxisTitleColor,this.original_colors.yaxisTitleColor=t.yaxisTitleColor,this.original_colors.keyBackground=t.keyBackground,this.original_colors.axesColor=t.axesColor,this.original_colors.highlightFill=t.highlightFill);for(var e=0;e<t.colors.length;++e)"object"==typeof this.original_colors.colors[e]&&this.original_colors.colors[e][0]&&this.original_colors.colors[e][1]?(t.colors[e][0]=this.parseSingleColorForGradient(this.original_colors.colors[e][0]),t.colors[e][1]=this.parseSingleColorForGradient(this.original_colors.colors[e][1])):t.colors[e]=this.parseSingleColorForGradient(this.original_colors.colors[e]);if(t.filledColors)if("string"==typeof this.original_colors.fillledColors)t.filledColors=this.parseSingleColorForGradient(this.original_colors.fillledColors,"vertical","filled");else for(e=0;e<t.filledColors.length;++e)t.filledColors[e]=this.parseSingleColorForGradient(this.original_colors.fillledColors[e],"vertical","filled");if(!DxChart.isNull(t.keyColors))for(e=0;e<t.keyColors.length;++e)t.keyColors[e]=this.parseSingleColorForGradient(this.original_colors.keyColors[e]);if(!DxChart.isNull(t.backgroundHbars))for(e=0;e<t.backgroundHbars.length;++e)t.backgroundHbars[e][2]=this.parseSingleColorForGradient(this.original_colors.backgroundHbars[e][2]);var i=["backgroundBarsColor1","backgroundBarsColor2","backgroundGridColor","backgroundColor","crosshairsColor","annotationColor","textColor","titleColor","xaxisTitleColor","yaxisTitleColor","keyBackground","axesColor","highlightFill"];for(e=0;e<i.length;++e)t[i[e]]=this.parseSingleColorForGradient(this.original_colors[i[e]])},this.reset=function(){},this.setShadow=function(t){var e=this.properties;if(e.shadowUse){var i=e.shadowStyleObj.color;"object"==typeof i&&i[t-1]?this.context.shadowColor=i[t]:"object"==typeof i?this.context.shadowColor=i[0]:"string"==typeof i&&(this.context.shadowColor=i),this.context.shadowBlur=e.shadowStyleObj.blur,this.context.shadowOffsetX=e.shadowStyleObj.offsetX,this.context.shadowOffsetY=e.shadowStyleObj.offsetY,isNexacroRuntime&&(this.context.setElementShadowColor(this.context.shadowColor),this.context.setElementShadowBlur(this.context.shadowBlur),this.context.setElementShadowOffsetX(this.context.shadowOffsetX),this.context.setElementShadowOffsetY(this.context.shadowOffsetY))}},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords2[t];if(i){var s=this.context.lineWidth,a=this.context.lineCap;if(this.context.lineWidth=e.lineWidth+10,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),e.lineCurve)this.drawLineCurve(this.context,i,e.keyInteractiveHighlightChart,null);else for(var o=0,r=i.length;o<r;o+=1)0==o||DxChart.isNull(i[o][1])||null!=typeof i[o-1][1]&&DxChart.isNull(i[o-1][1])?this.context.moveTo(i[o][0],i[o][1]):this.context.lineTo(i[o][0],i[o][1]);this.context.stroke(),this.context.lineWidth=s,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap=a,isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)}},this.firstDrawFunc=function(){},this.drawErrorbars=function(){var t=this.properties;this.context.save(),DxChart.noShadow(this);var e=this.coords,i=t.errorbarsValue;t.errorbarsCapped||(t.errorbarsCappedWidth=.001,a=5e-4),this.context.lineWidth=t.errorbarsLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var s=0;s<e.length;++s){var a=t.errorbarsCappedWidth/2||5,o=t.errorbarsColor||"black";if(i[s]&&"number"==typeof i[s][3]?this.context.lineWidth=i[s][3]:"number"==typeof t.errorbarsLineWidth?this.context.lineWidth=t.errorbarsLineWidth:this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"number"==typeof i||"number"==typeof i[s]){if("number"==typeof i)var r=n=this.getYCoord(this.min)-this.getYCoord(this.min+i);else r=n=this.getYCoord(this.min)-this.getYCoord(this.min+i[s]);(n||r)&&(this.path("lj miter lc square b m % % l % % m % % l % % l % % m % % l % % s %",e[s][0]-a,e[s][1]+r,e[s][0]+a,e[s][1]+r,e[s][0],e[s][1]+r,e[s][0],e[s][1]-n,e[s][0]-a,e[s][1]-n,e[s][0],e[s][1]-n,e[s][0]+a,e[s][1]-n,o),this.path("lj miter lc square b m % % l % % s %",e[s][0]-a,e[s][1]+r,e[s][0]+a,e[s][1]+r,o))}else if("object"==typeof i[s]&&!DxChart.isNull(i[s])){var n=this.getYCoord(this.min)-this.getYCoord(this.min+i[s][0]);r=this.getYCoord(this.min)-this.getYCoord(this.min+i[s][1]);if("string"==typeof i[s][2]&&(o=i[s][2]),a="number"==typeof i[s][4]?i[s][4]/2:a,"object"==typeof i[s]&&"number"==typeof i[s][3]?this.context.lineWidth=i[s][3]:"number"==typeof t.errorbarsLineWidth?this.context.lineWidth=t.errorbarsLineWidth:this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.isNull(i[s][0])||this.path("lc square b  m % % l % % l % % m % % l % % s %",e[s][0],e[s][1],e[s][0],e[s][1]-n,e[s][0]-a,Math.round(e[s][1]-n),e[s][0],Math.round(e[s][1]-n),e[s][0]+a,Math.round(e[s][1]-n),o),"number"==typeof i[s][1]){r=Math.abs(this.getYCoord(i[s][1])-this.getYCoord(0));this.path("b m % % l % % l % % m % % l % % s %",e[s][0],e[s][1],e[s][0],e[s][1]+r,e[s][0]-a,Math.round(e[s][1]+r),e[s][0],Math.round(e[s][1]+r),e[s][0]+a,Math.round(e[s][1]+r),o)}}}this.context.restore()},this.hide=function(){var t=this.properties;if("number"==typeof arguments[0])t.lineVisible[arguments[0]]=!1;else if("object"==typeof arguments[0])for(var e=0;e<arguments[0].length;++e)t.lineVisible[arguments[0][e]]=!1;else for(e=0;e<this.orgData.length;++e)t.lineVisible[e]=!1;return DxChart.redraw(),this},this.show=function(){var t=this.properties;if("number"==typeof arguments[0])t.lineVisible[arguments[0]]=!0;else if("object"==typeof arguments[0])for(var e=0;e<arguments[0].length;++e)t.lineVisible[arguments[0][e]]=!0;else for(e=0;e<this.orgData.length;++e)t.lineVisible[e]=!0;return DxChart.redraw(),this},this.hidden=function(t){return!this.properties.lineVisible[t]},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"toRight":this.trace(e,i);break;case"toBottom":this.unfold(e,i);break;case"toTop":this.wave(e,i);break;case"toCenter":this.foldtocenter(e,i);break;case"fromCenter":this.unfoldFromCenterTrace(e,i)}},this.unfold=function(){var t=this.properties,e=this,i=arguments[0]?arguments[0]:{},s=i.frames?i.frames:30,a=0,o=arguments[1]?arguments[1]:function(){},r=t.animationUnfoldInitial;return t.animationFactor=t.animationUnfoldInitial,function i(){t.animationFactor=a/s*(1-r)+r,DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a<s?(a++,DxChart.Effects.updateCanvas(i,e.canvas)):o(e)}(),this},this.trace=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=e.frames||30,s=0,a=arguments[1]||function(){};if(t.set("animationTraceClip",e.reverse?1:0),t.properties.labelsAbove){t.set("labelsAbove",!1);var o=!0}return function r(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(DxChart.redrawCanvas(t.canvas),s++<i?(t.set("animationTraceClip",e.reverse?1-s/i:s/i),DxChart.Effects.updateCanvas(r,t.canvas)):(o&&(isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(t.canvas._refform,function(){t.set("labelsAbove",!0),DxChart.redrawCanvas(t.canvas)},500):setTimeout(function(){t.set("labelsAbove",!0),DxChart.redraw()},500)),a(t)))}(),this},this.wave=function(){this.properties;if(this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData),this.draw(),1!==this.orgData[0].length){var t=this,e=arguments[0]||{},i=this.get("labelsAbove");e.frames=e.frames||60,e.startFrames=[],e.counters=[];var s=e.frames/3,a=-1,o=arguments[1]||function(){},r=DxChart.arrayClone(this.unmodified_data);this.set("labelsAbove",!1);for(var n=0;n<r.length;++n)for(var h=0;h<r[n].length;++h)e.startFrames[h]=e.frames/2/(r[0].length-1)*h,e.counters[h]=0,e.reverse||(this.orgData[n][h]=0);return e.reverse&&(e.startFrames=DxChart.arrayReverse(e.startFrames)),this.set("yaxisScaleMax",this.scale2.max),DxChart.clear(this.canvas),function n(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{++a;for(var h=0;h<r.length;++h)if(e.reverse)for(var l=r[h].length-1;l>=0;l-=1)a>e.startFrames[l]&&(t.orgData[h][l]=Math.max(0,r[h][l]-Math.abs(r[h][l]*(e.counters[l]++/s))),r[h][l]<0&&(t.orgData[h][l]*=-1));else{l=0;for(var c=r[h].length;l<c;l+=1)a>e.startFrames[l]&&(t.orgData[h][l]=Math.min(Math.abs(r[h][l]),Math.abs(r[h][l]*(e.counters[l]++/s))),r[h][l]<0&&(t.orgData[h][l]*=-1))}a>=e.frames?(i&&(isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(t.canvas._refform,function(){t.set("labelsAbove",!0),DxChart.redrawCanvas(t.canvas)},500):setTimeout(function(){t.set("labelsAbove",!0),DxChart.redraw()},500)),o(t)):(DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(n,t.canvas))}}(),this}this.unfold(arguments[0])},this.foldtocenter=function(){this.properties;this.cancelStopAnimation(),this.scale2||(isNexacroRuntime?this.canvas.set_visible(!1):this.canvas.style.visibility="hidden",this.draw(),DxChart.clear(this.canvas),isNexacroRuntime?this.canvas.set_visible(!0):this.canvas.style.visibility="visible");var t=this,e=(arguments[0]||{}).frames||30,i=0,s=arguments[1]||function(){},a=t.scale2.max/2;t.set("yaxisScaleMax",t.scale2.max);var o=DxChart.arrayClone(t.orgData);return function r(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{for(var n=0,h=t.orgData.length;n<h;++n)if(t.orgData[n].length)for(var l=0,c=t.orgData[n].length;l<c;++l){var x=t.orgData[n];x[l]>a?x[l]=o[n][l]-(o[n][l]-a)*(i/e):x[l]=o[n][l]+(a-o[n][l])/e*i}DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i++<e?DxChart.Effects.updateCanvas(r,t.canvas):s(t)}}(),this},this.unfoldFromCenterTrace=function(){this.properties;var t=this,e=(arguments[0]||{}).frames||30,i=DxChart.arrayClone(t.orgData),s=arguments[1]||function(){};isNexacroRuntime?t.canvas.set_visible(!1):t.canvas.style.visibility="hidden",t.draw();t.scale2.max;DxChart.clear(t.canvas),isNexacroRuntime?t.canvas.set_visible(!0):t.canvas.style.visibility="visible";var a="center"==t.get("xaxisPosition")?t.min:(t.max-t.min)/2+t.min;t.set("yaxisScaleMax",t.max);for(var o=0,r=t.orgData.length;o<r;++o)for(var n=0;n<t.orgData[o].length;++n)t.orgData[o][n]=t.get("filled")&&t.get("filledAccumulative")&&o>0?0:a;return DxChart.clear(t.canvas),t.trace({frames:e/2},function(){t.orgData=i,t.unfoldFromCenter({frames:e/2},s)}),t},this.unfoldFromCenter=function(){var t=this.properties;this.cancelStopAnimation();var e=this,i=(arguments[0]||{}).frames||30,s=arguments[1]||function(){};if(!e.scale2){isNexacroRuntime?e.canvas.set_visible(!1):e.canvas.style.visibility="hidden",e.draw();var a=e.scale2.max;DxChart.clear(e.canvas),isNexacroRuntime?e.canvas.set_visible(!0):e.canvas.style.visibility="visible"}var o="center"===e.get("xaxisPosition")?t.yaxisScaleMin:(e.max-e.min)/2+e.min,r=DxChart.arrayClone(e.orgData),n=null;if(e.set("yaxisScaleMax",a),!n){n=[];for(var h=0,l=r.length;h<l;++h){n[h]=[];for(var c=0,x=r[h].length;c<x;++c)t.filledUse&&t.filledAccumulative&&h>0?(n[h][c]=r[h][c]/i,e.orgData[h][c]=o):(n[h][c]=(r[h][c]-o)/i,e.orgData[h][c]=o)}}return function t(){if(e.stopAnimationRequested)e.stopAnimationRequested=!1;else{for(var a=0;a<r.length;++a)for(var o=0;o<r[a].length;++o)e.orgData[a][o]+=n[a][o];DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),--i>0?DxChart.Effects.updateCanvas(t,e.canvas):(e.orgData=DxChart.arrayClone(r),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),s(e))}}(),this},this.stopAnimation=function(){this.orgData=DxChart.arrayClone(this.unmodified_data),1!==this.get("animationTraceClip")&&this.set("animationTraceClip",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.isAdjustable=function(t){var e=this.properties;return!!DxChart.isNull(e.changeableOnly)||!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex])},this.tooltipSubstitutions=function(t){var e=this.properties,i=DxChart.sequentialIndexToGrouped(t.index,this.data);if(e.tooltipsDataset)return{dataset:i[1],index:i[0],sequentialIndex:t.index,values:this.data[i[1]]};for(var s=0,a=[];s<this.orgData.length;++s)a.push(this.orgData[s][i[1]]);return{index:i[1],dataset:i[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:a}},this.tooltipsFormattedCustom=function(t,e){return{}},this.addDatasetTooltip=function(){var t=this;this.datasetTooltipsListener=function(e,i){var s;if(isNexacroRuntime?(s=DxChart.getMouseXY(i),(e=i).type="click"):s=DxChart.getMouseXY(e),t.properties.tooltipsDatasetEvent||(t.properties.tooltipsDatasetEvent="click"),t.properties.lineCurve)var a=t.coordsLineCurve;else a=t.coords2;for(var o=0;o<a.length;++o){for(var r="b lc round lw 10 m {1} {2}".format(a[o][0][0],a[o][0][1]),n=0;n<a[o].length;++n)r+=" l {1} {2}".format(a[o][n][0],a[o][n][1]);if(t.path(r),isNexacroRuntime?t.context.isPointInPath(s[0],s[1]):t.context.isPointInStroke(s[0],s[1])){var h=!0;if("click"===e.type||"mousemove"===e.type&&"mousemove"===t.properties.tooltipsDatasetEvent&&(!DxChart.Registry.get("tooltip")||o!=DxChart.Registry.get("tooltip").__dataset__)){DxChart.hideTooltip(),DxChart.redraw(),t.set("tooltipsPositionStatic",!1),t.set("tooltipsEffect","fade"),t.tooltipsDatasetIndex=o,DxChart.showTooltip({object:t,text:"string"==typeof t.properties.tooltipsDataset?t.properties.tooltipsDataset:t.properties.tooltipsDataset[o],x:0,y:0,index:o,event:e});var l=t.coords2[o][Math.floor(t.coords2[o].length/2)][0],c=t.coords2[o][Math.floor(t.coords2[o].length/2)][1],x=DxChart.getCanvasXY(t.canvas),d=DxChart.Registry.get("tooltip"),u=d.offsetWidth,g=d.offsetHeight;isNexacroRuntime?(u=d.getOffsetWidth(),g=d.getOffsetHeight(),d.set_left(x[0]+l-u/2),d.set_top(x[1]+c-g-20)):(d.style.left=x[0]+l-u/2+"px",d.style.top=x[1]+c-g-20+"px");for(r="b lw %1 m %2 %3".format(t.properties.lineWidth+10,a[o][0][0],a[o][0][1]),n=0;n<a[o].length;++n)r+=" l {1} {2}".format(a[o][n][0],a[o][n][1]);r+=" ga 0.2 s "+t.properties.colors[o]+" ga 1",t.path(r)}"mousemove"===e.type&&(e.target.style.cursor="pointer")}if(h){if(isNexacroRuntime)break}else"click"===e.type&&(DxChart.hideTooltip(),DxChart.redraw()),isNexacroRuntime?t.canvas.set_cursor("default"):t.canvas.style.cursor="default"}e.stopPropagation()},this.datasetTooltipsListenerAdded||(isNexacroRuntime?this.canvas.setEventHandler("onclick",this.datasetTooltipsListener,this):(this.canvas.addEventListener("click",this.datasetTooltipsListener,!1),this.canvas.addEventListener("mousemove",this.datasetTooltipsListener,!1),window.addEventListener("click",function(t){DxChart.redraw()},!1)),this.datasetTooltipsListenerAdded=!0)},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-15+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-15+e.properties.tooltipsOffsetY+"px")},this.drawTrendline=function(){var t=DxChart.getArgs(arguments,"dataset"),e=this.properties,i=e.trendlineColor,s=e.trendlineLinewidth,a=e.trendlineMargin;e.trendlineClip&&this.path("b sa r % % % % cl",this.marginLeft,this.marginTop,this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom);for(var o=[],r=0;r<this.data.length;++r){o[r]=[];for(var n=0;n<this.data[r].length;++n)o[r].push([n,this.data[r][n]])}DxChart.isArray(e.trendlineColors)&&(i=e.trendlineColors),"object"==typeof i&&i[t.dataset]?i=i[t.dataset]:"object"==typeof i&&(i="gray"),"object"==typeof s&&"number"==typeof s[t.dataset]?s=s[t.dataset]:"object"==typeof s&&(s=1),"object"==typeof a&&"number"==typeof a[t.dataset]?a=a[t.dataset]:"object"==typeof a&&(a=25);r=0;for(var h=0,l=0;r<this.data[t.dataset].length;++r)h+=o[t.dataset][r][0],l+=o[t.dataset][r][1];for(var c=h/o[t.dataset].length,x=l/o[t.dataset].length,d=(r=0,[]),u=[],g=[],p=[];r<this.data[t.dataset].length;++r)d[r]=o[t.dataset][r][0]-c,u[r]=o[t.dataset][r][1]-x,g[r]=d[r]*u[r],p[r]=d[r]*d[r];var f=DxChart.arraySum(g)/DxChart.arraySum(p),m=x-f*c,b=[[0,0*f+m],[o[0].length-1,f*(o[0].length-1)+m]];b[0][0]=this.marginLeft,b[0][1]=this.getYCoord(b[0][1],!0),b[1][0]=this.canvas.width-this.marginRight,b[1][1]=this.getYCoord(b[1][1],!0),(!0===e.trendlineDashed||DxChart.isArray(e.trendlineDashed)&&e.trendlineDashed[t.dataset])&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([4,4])),(!0===e.trendlineDotted||DxChart.isArray(e.trendlineDotted)&&e.trendlineDotted[t.dataset])&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([1,4])),DxChart.isArray(e.trendlineDashArray)&&(2===e.trendlineDashArray.length&&"number"==typeof e.trendlineDashArray[0]&&"number"==typeof e.trendlineDashArray[1]?isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash(e.trendlineDashArray):DxChart.isArray(e.trendlineDashArray)&&DxChart.isArray(e.trendlineDashArray[t.dataset])&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash(e.trendLineDashArray[t.dataset]))),this.path(" lc round lw % b m % % l % % s %",s,Math.max(b[0][0],this.coords2[t.dataset][0][0]-a),b[0][1],Math.min(b[1][0],this.coords2[t.dataset][this.coords2[t.dataset].length-1][0]+a),b[1][1],i),isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([5,0]),e.trendlineClip&&this.context.restore()},this.nullBridge=function(t,e,i){for(var s=!1,a=i,o=0;o<e.length;o++){var r=null,n=null;if(!1===s&&DxChart.isNumber(e[o])&&(s=!0),DxChart.isNull(e[o])&&s){r=o-1;for(var h=o+1;h<e.length;++h)if(!DxChart.isNull(e[h])){if(n=h,isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash(a.nullBridgeDashArray),null==this.coords2[t][r][1])return;this.path("b lw % m % % l % % s %","number"==typeof a.nullBridgeLineWidth?a.nullBridgeLineWidth:this.getLineWidth(t),this.coords2[t][r][0],this.coords2[t][r][1],this.coords2[t][n][0],this.coords2[t][n][1],"string"==typeof a.nullBridgeColors?a.nullBridgeColors:"object"==typeof a.nullBridgeColors&&!DxChart.isNull(a.nullBridgeColors)&&a.nullBridgeColors[t]?a.nullBridgeColors[t]:a.colors[t]),r=null,n=null;break}}}},this.drawAngledLabels=function(){var t=this.properties;if(t.labelsAngled){DxChart.noShadow(this);for(var e=this.coords,i=function(e){var i={},s=["text","labelsAngled","labelsAngled"+e],a=["Font","Color","Size","Bold","Italic"];for(var o in s)for(var r in a){var n=s[o]+a[r];n&&(DxChart.isString(t[n])||DxChart.isNumber(t[n])||DxChart.isBoolean(t[n]))&&(i[a[r].toLowerCase()]=t[n])}return i},s=0;s<e.length-1;++s){var a=(e[s+1][0]-e[s][0])/2,o=(e[s+1][1]-e[s][1])/2;if(e[s+1][1]<e[s][1])var r=0,n=i("Up");else if(e[s+1][1]>e[s][1])r=1,n=i("Down");else r=2,n=i("Level");var h=DxChart.getAngleByXY({cx:e[s][0],cy:e[s][1],x:e[s+1][0],y:e[s+1][1]});DxChart.text({object:this,accessible:!t.changeableValue&&(!DxChart.isBoolean(t.labelsAngledAccessible)||t.labelsAngledAccessible),font:n.font,color:n.color,size:n.size,bold:n.bold,italic:n.italic,x:e[s][0]+a,y:e[s][1]+o-5,text:t.labelsAngledSpecific&&(DxChart.isString(t.labelsAngledSpecific[s])||DxChart.isNumber(t.labelsAngledSpecific[s]))?t.labelsAngledSpecific[s]:t.labelsAngled[r],halign:"center",valign:"bottom",angle:h*(180/Math.PI)})}}},this.setLinecap=function(){var t=this.properties,e=DxChart.getArgs(arguments,"index");DxChart.isArray(t.lineCap)&&DxChart.isString(t.lineCap[e.index])?this.context.lineCap=t.lineCap[e.index]:DxChart.isString(t.lineCap)?this.context.lineCap=t.lineCap:this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)},this.closest=function(t){var e=[];if("object"!=typeof t||"object"!=typeof t.event||t.event.type){if("object"==typeof t&&"number"==typeof t.pageX){t={event:t,tolerance:25}}}else"number"!=typeof t.tolerance&&(t.tolerance=25);for(var i=this.coords2,s=DxChart.getMouseXY(t.event),a="number"==typeof t.tolerance?t.tolerance:25,o=0;o<i.length;++o)for(var r=0;r<i[o].length;++r)if(t.xonly)s[0]>i[o][r][0]-a&&s[0]<i[o][r][0]+a&&e.push({dataset:o,index:r,distance:Math.abs(s[0]-i[o][r][0])});else{var n=DxChart.getHypLength({x1:i[o][r][0],y1:i[o][r][1],x2:s[0],y2:s[1]});n<=a&&e.push({dataset:o,index:r,distance:n})}return e.sort(function(t,e){return t.distance-e.distance}),e[0]},this.growPoint=function(){var t=DxChart.getArgs(arguments,"index,value"),e=this;"number"!=typeof t.dataset&&(t.dataset=0);for(var i=this.orgData[t.dataset][t.index],s="number"==typeof t.frames?t.frames:15,a=0;a<s;a++)!function(a){isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(e.canvas._refform,function(){e.orgData[t.dataset][t.index]=(t.value-i)*(a+1)/s+i,e.data_arr=DxChart.arrayLinearize(e.orgData),DxChart.redrawCanvas(e.canvas)},16.666*a):setTimeout(function(){e.orgData[t.dataset][t.index]=(t.value-i)*(a+1)/s+i,e.data_arr=DxChart.arrayLinearize(e.orgData),DxChart.redrawCanvas(e.canvas)},16.666*a)}(a)},this.setLinejoin=function(){var t=this.properties,e=DxChart.getArgs(arguments,"index");DxChart.isArray(t.linejoin)&&DxChart.isString(t.linejoin[e.index])?this.context.lineJoin=t.linejoin[e.index]:DxChart.isString(t.linejoin)?this.context.lineJoin=t.linejoin:this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin)},this.resetData(t.data),DxChart.register(this);for(var e=0;e<this.orgData.length;++e)this.properties.lineVisible[e]=!0;return DxChart.parseProperties(this,t.options),this}}function DxChartMeter(t){return DxChart._Base.call(this,t,"meter"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.backgroundColor="white",this.properties.labelsCount=10,this.properties.labelsValue=!0,this.properties.lineWidth=1,this.properties.labelsValueBackground=!0,this.properties.borderUse=!0,this.properties.borderColor="black",this.properties.labelsCenterValue=!0,this.properties.labelsValueAccessible=!1,this.properties.labelsInnerPercent=.925,this.properties.needleColor="black",this.properties.tickmarksSmallSize=5,this.properties.tickmarksLargeSize=5,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.properties.anglesStart=DxChart.PI,this.properties.anglesEnd=DxChart.TWOPI,isNexacroRuntime&&(this.properties.anglesStart=this.properties.anglesStart-DxChart.HALFPI,this.properties.anglesEnd=this.properties.anglesEnd-DxChart.HALFPI),this.properties.colorsGreenStart=.35*(this.max-this.min)+this.min,this.properties.colorsGreenEnd=this.max,this.properties.colorsGreenColor="#207A20",this.properties.colorsYellowStart=.1*(this.max-this.min)+this.min,this.properties.colorsYellowEnd=.35*(this.max-this.min)+this.min,this.properties.colorsYellowColor="#D0AC41",this.properties.colorsRedStart=this.min,this.properties.colorsRedEnd=.1*(this.max-this.min)+this.min,this.properties.needleUse=!0},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this,!0),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-this.marginBottom,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,this.canvas.height-this.marginTop-this.marginBottom),this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.drawBackground(),this.drawLabels(),t.needleUse&&this.drawNeedle(),this.drawReadout(),DxChart.drawTitle(this),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties;if("string"!=typeof t.backgroundImageUrl||this.__background_image__){if(this.__background_image__){e=0+t.backgroundImageOffsetX,i=0+t.backgroundImageOffsetY;t.backgroundImageStretch?this.context.drawImage(this.__background_image__,e,i,this.canvas.width,this.canvas.height):this.context.drawImage(this.__background_image__,e,i)}}else{var e=0+t.backgroundImageOffsetX,i=0+t.backgroundImageOffsetY,s=new Image;this.__background_image__=s,s.src=t.backgroundImageUrl;var a=this;s.onload=function(){t.backgroundImageStretch?a.context.drawImage(this,e,i,a.canvas.width,a.canvas.height):a.context.drawImage(this,e,i),DxChart.redraw()}}if(this.context.beginPath(),this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,t.anglesStart,t.anglesEnd,!1),this.context.fill(),DxChart.noShadow(this),t.shadowUse){this.context.beginPath();var o=.06*this.radius>40?40:.06*this.radius;this.context.arc(this.centerx,this.centery,o,0,DxChart.TWOPI,0),this.context.fill(),DxChart.noShadow(this)}if(t.tickmarksSmallCount){for(var r=t.tickmarksSmallSize,n=0;n<t.anglesEnd-t.anglesStart;n+=DxChart.PI/t.tickmarksSmallCount){if(this.context.beginPath(),this.context.strokeStyle=t.tickmarksSmallColor,isNexacroRuntime){var h=t.anglesStart+DxChart.HALFPI;this.context.setElementStrokeStyle(this.context.strokeStyle);e=this.centerx+Math.cos(h+n)*this.radius,i=this.centery+Math.sin(h+n)*this.radius;var l=this.centerx+Math.cos(h+n)*(this.radius-r),c=this.centery+Math.sin(h+n)*(this.radius-r);this.context.moveTo(e,i),this.context.lineTo(l,c)}else this.context.arc(this.centerx,this.centery,this.radius,t.anglesStart+n,t.anglesStart+n+1e-5,0),this.context.arc(this.centerx,this.centery,this.radius-r,t.anglesStart+n,t.anglesStart+n+1e-5,0);this.context.stroke()}this.context.beginPath(),this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius-r-1,t.anglesStart,t.anglesEnd,!1),this.context.closePath(),this.context.fill()}var x=t.tickmarksLargeSize;if(t.tickmarksLargeCount)for(var d=["white","white",t.tickmarksLargeColor],u=0;u<d.length;++u)for(n=0;n<t.anglesEnd-t.anglesStart;n+=(t.anglesEnd-t.anglesStart)/t.tickmarksLargeCount){if(this.context.beginPath(),this.context.strokeStyle=d[u],isNexacroRuntime){this.context.setElementStrokeStyle(d[u]);h=t.anglesStart+DxChart.HALFPI,e=this.centerx+Math.cos(h+n+.001)*this.radius,i=this.centery+Math.sin(h+n+.001)*this.radius,l=this.centerx+Math.cos(h+n+.001)*(this.radius-x),c=this.centery+Math.sin(h+n+.001)*(this.radius-x);this.context.moveTo(e,i),this.context.lineTo(l,c)}else this.context.arc(this.centerx,this.centery,this.radius,t.anglesStart+n,t.anglesStart+n+.001,0),this.context.arc(this.centerx,this.centery,this.radius-x,t.anglesStart+n,t.anglesStart+n+1e-4,0);this.context.stroke()}this.context.beginPath(),this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius-(x+2),t.anglesStart,t.anglesEnd,!1),this.context.closePath(),this.context.fill();var g,p,f=t.colorsRanges;if(g=0,p=.85*this.radius,t.segmentsRadiusStart>0&&(g=t.segmentsRadiusStart,p=.85*this.radius),DxChart.isArray(t.colorsRanges)){f=t.colorsRanges;var m=this.centery,b=0;null!=t.roundFill&&null!=t.roundFill&&(m+=10,b=.12*Math.PI);for(n=0;n<f.length;n++){this.context.strokeStyle=t.colorsStroke?t.colorsStroke:f[n][2],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),T=DxChart.parseRadialGradientInfo(this,f[n][2],this.centerx,m,g,this.centerx,m,p),this.context.fillStyle=T,isNexacroRuntime&&this.context.setElementFillStyle(T),this.context.lineWidth=t.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);var C=0,y=b;if(n>0&&(C=b,y=0),this.context.beginPath(),this.context.arc(this.centerx,m,null!=t.roundFill&&null!=t.roundFill?this.radius:.85*this.radius,(f[n][0]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart-C,(f[n][1]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart-y,!1),t.segmentsRadiusStart>0)if(isNexacroRuntime){this.context.lineTo(this.centerx,m),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath();var v=("transparent"==t.backgroundColor2?null:t.backgroundColor2)||("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementStrokeStyle(t.colorsStroke?t.colorsStroke:f[n][2]),this.context.setElementFillStyle(v),this.context.arc(this.centerx,m,t.segmentsRadiusStart,(f[n][0]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(f[n][1]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),this.context.lineTo(this.centerx,m),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath();v=("transparent"==t.backgroundColor2?null:t.backgroundColor2)||("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementStrokeStyle(v),this.context.setElementFillStyle(v),this.context.arc(this.centerx,m,t.segmentsRadiusStart-1,t.anglesStart-.1,t.anglesEnd+.1,!1),this.context.lineTo(this.centerx,this.centery)}else this.context.arc(this.centerx,m,t.segmentsRadiusStart,(f[n][1]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart-y,(f[n][0]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart+-C,!0);else this.context.lineTo(this.centerx,this.centery);this.context.closePath(),this.context.stroke(),this.context.fill()}if(null!=t.roundFill&&null!=t.roundFill){var D=t.roundFill;e=(f[D][1]-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart;isNexacroRuntime&&(e=(f[D][1]-this.min)/(this.max-this.min)*(t.anglesEnd+DxChart.HALFPI-(t.anglesStart+DxChart.HALFPI))+(t.anglesStart+DxChart.HALFPI));var S=this.radius-(this.radius-t.segmentsRadiusStart)/2,k=(this.radius-t.segmentsRadiusStart)/2;e-=b;var w=DxChart.getRadiusEndPoint(this.centerx,m,e,S),_=DxChart.getRadiusEndPoint(this.centerx,m,e-.05*DxChart.HALFPI,S),T=DxChart.parseRadialGradientInfo(this,f[D][2],this.centerx,m,g,this.centerx,m,p);this.context.strokeStyle=t.colorsStroke?t.colorsStroke:f[D][2],this.context.fillStyle=T,this.context.lineWidth=t.lineWidthSegments,isNexacroRuntime&&(this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.setElementFillStyle(T),this.context.setElementLineWidth(this.context.lineWidth)),this.context.beginPath(),this.context.arc(w[0],w[1],k,0,2*Math.PI,!1),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.arc(_[0],_[1],k,0,2*Math.PI,!1),this.context.closePath(),this.context.fill()}this.context.beginPath()}else{if(this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStroke?t.colorsStroke:t.colorsGreenColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),T=DxChart.parseRadialGradientInfo(this,t.colorsGreenColor,this.centerx,this.centery,g,this.centerx,this.centery,p),this.context.fillStyle=T,isNexacroRuntime&&this.context.setElementFillStyle(T),this.context.lineWidth=t.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(t.colorsGreenStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsGreenEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),t.segmentsRadiusStart>0)if(isNexacroRuntime){this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath();v=("transparent"==t.backgroundColor2?null:t.backgroundColor2)||("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementStrokeStyle(t.colorsStroke?t.colorsStroke:t.colorsGreenColor),this.context.setElementFillStyle(v),this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart,(t.colorsGreenStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsGreenEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),this.context.lineTo(this.centerx,this.centery)}else this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart,(t.colorsGreenEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsGreenStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!0);else this.context.lineTo(this.centerx,this.centery);if(this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=t.colorsStroke?t.colorsStroke:t.colorsYellow,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),T=DxChart.parseRadialGradientInfo(this,t.colorsYellowColor,this.centerx,this.centery,0,this.centerx,this.centery,.85*this.radius),this.context.fillStyle=T,isNexacroRuntime&&this.context.setElementFillStyle(T),this.context.lineWidth=t.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(t.colorsYellowStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsYellowEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),t.segmentsRadiusStart>0)if(isNexacroRuntime){this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath();v=("transparent"==t.backgroundColor2?null:t.backgroundColor2)||("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementStrokeStyle(t.colorsStroke?t.colorsStroke:t.colorsYellow),this.context.setElementFillStyle(v),this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart,(t.colorsYellowStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsYellowEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),this.context.lineTo(this.centerx,this.centery)}else this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart,(t.colorsYellowEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsYellowStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!0);else this.context.lineTo(this.centerx,this.centery);if(this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=t.colorsStroke?t.colorsStroke:t.colorsRedColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),T=DxChart.parseRadialGradientInfo(this,t.colorsRedColor,this.centerx,this.centery,0,this.centerx,this.centery,.85*this.radius),this.context.fillStyle=T,isNexacroRuntime&&this.context.setElementFillStyle(T),this.context.lineWidth=t.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(t.colorsRedStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsRedEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),t.segmentsRadiusStart>0)if(isNexacroRuntime){this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath();v=("transparent"==t.backgroundColor2?null:t.backgroundColor2)||("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementStrokeStyle(t.colorsStroke?t.colorsStroke:t.colorsYellow),this.context.setElementFillStyle(v),this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart,(t.colorsRedStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsRedEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!1),this.context.lineTo(this.centerx,this.centery)}else this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart,(t.colorsRedEnd-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,(t.colorsRedStart-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart,!0);else this.context.lineTo(this.centerx,this.centery);if(this.context.closePath(),this.context.stroke(),this.context.fill(),isNexacroRuntime&&t.segmentsRadiusStart>0){this.context.beginPath();v=("transparent"==t.backgroundColor2?null:t.backgroundColor2)||("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementFillStyle(v),this.context.arc(this.centerx,this.centery,t.segmentsRadiusStart-2,t.anglesStart+(t.borderUse?.1:-.1),t.anglesEnd-(t.borderUse?.1:-.1),!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill()}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}t.borderUse&&(this.context.strokeStyle=t.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,t.anglesStart,t.anglesEnd,!1),this.context.closePath(),this.context.stroke()),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawNeedle=function(){var t=this.properties,e=(this.value-this.min)/(this.max-this.min)*(t.anglesEnd-t.anglesStart)+t.anglesStart;if("string"!=typeof t.needleImageUrl||this.__needle_image__)this.__needle_image__&&(this.context.save(),DxChart.rotateCanvas(this.canvas,this.centerx,this.centery,e),this.context.drawImage(this.__needle_image__,this.centerx+t.needleImageOffsetX,this.centery+t.needleImageOffsetY),this.context.restore());else{var i=new Image;this.__needle_image__=i,i.src=t.needleImageUrl;var s=this;i.onload=function(){s.context.save(),DxChart.rotateCanvas(s.canvas,s.centerx,s.centery,e),s.context.drawImage(this,s.centerx+t.needleImageOffsetX,s.centery+t.needleImageOffsetY),s.context.restore(),DxChart.redraw()}}var a="number"==typeof t.needleRadius?t.needleRadius:.7*this.radius;if("pointer"===t.needleType){var o=.06*this.radius>40?40:.06*this.radius;if(this.context.beginPath(),this.context.fillStyle=t.needleColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,o,0,DxChart.TWOPI,!1),this.context.fill(),this.context.beginPath(),isNexacroRuntime){e+=DxChart.HALFPI;var r=this.centerx+Math.cos(e+DxChart.HALFPI+0)*o,n=this.centery+Math.sin(e+DxChart.HALFPI+0)*o,h=this.centerx+Math.cos(e-DxChart.HALFPI-0)*o,l=this.centery+Math.sin(e-DxChart.HALFPI-0)*o,c=this.centerx+Math.cos(e)*a,x=this.centery+Math.sin(e)*a;this.context.moveTo(c,x),this.context.lineTo(r,n),this.context.lineTo(h,l)}else this.context.arc(this.centerx,this.centery,o,e+DxChart.HALFPI,e+DxChart.HALFPI+1e-4,!1),this.context.arc(this.centerx,this.centery,a,e,e+.001,!1),this.context.arc(this.centerx,this.centery,o,e-DxChart.HALFPI,e-DxChart.HALFPI+.001,!1);this.context.fill()}else{if(this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=this.radius>=200?7:3,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.beginPath(),this.context.strokeStyle=t.needleColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),"number"==typeof t.needleLineWidth&&(this.context.lineWidth=t.needleLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)),isNexacroRuntime){this.context.beginPath();var d=e+DxChart.HALFPI;this.context.setElementLineWidth(this.context.lineWidth);var u=this.centerx+Math.cos(d)*a,g=this.centery+Math.sin(d)*a;this.context.moveTo(this.centerx,this.centery),this.context.lineTo(u,g),this.context.closePath(),this.context.stroke()}else this.context.arc(this.centerx,this.centery,a,e,e+.001,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke();if(t.needleHead){if(this.context.fillStyle=t.needleColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.lineWidth=1,isNexacroRuntime){d=e+DxChart.HALFPI;this.context.setElementLineWidth(this.context.lineWidth);u=this.centerx+Math.cos(d)*(a+15),g=this.centery+Math.sin(d)*(a+15),r=this.centerx+Math.cos(d+t.needleHeadWidth)*(a-t.needleHeadLength+15),n=this.centery+Math.sin(d+t.needleHeadWidth)*(a-t.needleHeadLength+15),h=this.centerx+Math.cos(d-t.needleHeadWidth)*(a-t.needleHeadLength+15),l=this.centery+Math.sin(d-t.needleHeadWidth)*(a-t.needleHeadLength+15);this.context.moveTo(u,g),this.context.lineTo(u,g),this.context.lineTo(r,n),this.context.lineTo(h,l)}else this.context.arc(this.centerx,this.centery,a+15,e,e+.001,0),this.context.arc(this.centerx,this.centery,a-t.needleHeadLength+15,e+t.needleHeadWidth,e+t.needleHeadWidth,0),this.context.arc(this.centerx,this.centery,a-t.needleHeadLength+15,e-t.needleHeadWidth,e-t.needleHeadWidth,1);this.context.fill()}if(t.needleTail){this.context.beginPath(),this.context.strokeStyle=t.needleColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),"number"==typeof t.needleLineWidth&&(this.context.lineWidth=t.needleLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth));e=(this.value-this.min)/(this.max-this.min)*(this.properties.anglesEnd-this.properties.anglesStart)+this.properties.anglesStart+DxChart.PI;this.context.arc(this.centerx,this.centery,25,e,e+.001,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()}o=.06*this.radius>40?40:.06*this.radius;this.context.beginPath(),this.context.fillStyle=t.centerpinStroke,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,o,.001,DxChart.TWOPI,0),this.context.fill(),this.context.fillStyle=t.centerpinFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.arc(this.centerx,this.centery,o-2,.001,DxChart.TWOPI,0),this.context.fill()}},this.drawLabels=function(){var t=this.properties;if(t.labelsValue){this.radius,t.textItalic;var e=t.scaleUnitsPost,i=t.scaleUnitsPre,s=t.scalePoint,a=t.scaleThousand,o=this.centerx,r=this.centery,n=(this.min,this.max,t.scaleDecimals),h=t.labelsCount,l=t.labelsRadiusOffset,c=t.labelsSpecific,x=DxChart.getTextInfo({object:this,prefix:"labels"});if(c)for(var d,u,g=0;g<c.length;++g)"string"==typeof c[g]||"number"==typeof c[g]?(p=this.getAngle((this.max-this.min)/c.length/2+(this.max-this.min)/c.length*g+this.min),isNexacroRuntime&&(p+=DxChart.HALFPI),d=p*(180/DxChart.PI),u=c[g].toString(),f=DxChart.getRadiusEndPoint(this.centerx,this.centery,p,this.radius*t.labelsInnerPercent+l)):(p=this.getAngle(c[g][1]),isNexacroRuntime&&(p+=DxChart.HALFPI),d=p*(180/DxChart.PI),u=c[g][0].toString(),f=DxChart.getRadiusEndPoint(this.centerx,this.centery,p,this.radius*t.labelsInnerPercent+l)),DxChart.text({object:this,font:x.font,size:x.size,color:x.color,bold:x.bold,italic:x.italic,x:isNexacroRuntime&&270==d?f[0]-10:f[0],y:f[1],text:u,halign:"center",valign:"bottom",angle:d+90,bounding:!1,tag:"labels-specific"});else{this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(g=0;g<=h;++g){var p=(t.anglesEnd-t.anglesStart)*(g/h)+t.anglesStart,f=DxChart.getRadiusEndPoint(o,r,p+(0!=g&&g!=h||!t.borderUse?0:0==g?.05:-.05),this.radius*t.labelsInnerPercent-("bottom"===t.textValign?15:0)+l);isNexacroRuntime&&(p+=DxChart.HALFPI,f=DxChart.getRadiusEndPoint(o,r,p+(0!=g&&g!=h||!t.borderUse?0:0==g?.05:-.05),this.radius*t.labelsInnerPercent-("bottom"===t.textValign?15:0)+l));var m,b=t.anglesStart,C=t.anglesEnd,y=C-b,v=b*(180/DxChart.PI),D=(DxChart.PI,y*(180/DxChart.PI)),S=t.textValign;m=t.borderUse?0==g?"left":g==h?"right":"center":"center";var k=D*(1/h)*g+v-270;isNexacroRuntime&&(k+=90),t.labelsNoAngle&&(k=0);var w=(this.max-this.min)*(g/h)+this.min;DxChart.text({object:this,font:x.font,size:x.size,color:x.color,bold:x.bold,italic:x.italic,x:f[0],y:f[1],text:DxChart.numberFormat({object:this,number:w.toFixed(0===w?0:n),unitspre:i,unitspost:e,point:s,thousand:a}),halign:m,valign:S,angle:k,bounding:!1,boundingFill:0==g||g==h?"white":null,tag:"scale"})}}}},this.drawReadout=function(){var t=this.properties;if(t.labelsCenterValue){var e=DxChart.numberFormat({object:this,number:this.value.toFixed(0===this.value?0:t.labelsCenterDecimals),unitspre:t.labelsCenterUnitsPre,unitspost:t.labelsCenterUnitsPost,point:t.labelsCenterPoint,thousand:t.labelsCenterThousand});if("string"==typeof t.labelsCenterSpecific&&""!=t.labelsCenterSpecific&&(e=t.labelsCenterSpecific),!e||""==e)return;var i=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:this.centerx+t.labelsCenterOffsetX,y:this.centery-i.size-15+t.labelsCenterOffsetY,text:e,halign:"center",valign:"bottom",bounding:t.labelsCenterBackground,boundingFill:t.labelsCenterBackgroundFill,boundingStroke:t.labelsCenterBackgroundStroke,accessible:t.labelsValueAccessible,tag:"value.text"})}},this.getShape=function(t){},this.getValue=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=DxChart.getAngleByXY(this.centerx,this.centery,i[0],i[1]);if(DxChart.getHypLength(this.centerx,this.centery,i[0],i[1])>this.radius)return null;s<DxChart.HALFPI&&(s+=DxChart.TWOPI);var a=(s-e.anglesStart)/(e.anglesEnd-e.anglesStart)*(this.max-this.min)+this.min;return a=Math.max(a,this.min),a=Math.min(a,this.max)},this.getObjectByXY=function(t){this.properties;var e=DxChart.getMouseXY(t),i=DxChart.getHypLength(this.centerx,this.centery,e[0],e[1]);if(e[0]>this.centerx-this.radius&&e[0]<this.centerx+this.radius&&e[1]>this.centery-this.radius&&e[1]<this.centery+this.radius&&i<=this.radius)return this},this.changing_mousemove=function(t){properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){return t>this.max||t<this.min?null:(t-this.min)/(this.max-this.min)*(this.properties.anglesEnd-this.properties.anglesStart)+this.properties.anglesStart},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsGreenColor=DxChart.arrayClone(t.colorsGreenColor),this.original_colors.colorsYellowColor=DxChart.arrayClone(t.colorsYellowColor),this.original_colors.colorsRedColor=DxChart.arrayClone(t.colorsRedColor),this.original_colors.colorsRanges=DxChart.arrayClone(t.colorsRanges))},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.cancelStopAnimation();var t=this;t.currentValue=t.currentValue||t.min;var e=(arguments[0]||{}).frames||30,i=0,s=(t.value-t.currentValue)/e,a=arguments[1]||function(){},o=t.currentValue;return function r(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=o+i++*s,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i<=e?DxChart.Effects.updateCanvas(r,t.canvas):a(t))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartOdo(t){return DxChart._Base.call(this,t,"odo"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsMargin=35,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null,this.properties.colorsGreenMax=.75*this.max,this.properties.colorsRedMin=.9*this.max},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),this.currentValue=this.value,this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2)-(t.borderUse?25:0),this.diameter=2*this.radius,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.range=this.max-this.min,this.coordsText=[],t.keyData&&t.keyData.length>0&&this.canvas.width>this.canvas.height&&(this.centerx=5+this.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius,t.borderUse&&(this.radius-=25)),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawBackground(),this.drawLabels(),this.drawNeedle(this.value,t.needleColor),t.needleExtra.length>0)for(var e=0;e<t.needleExtra.length;++e){var i=t.needleExtra[e];this.drawNeedle(i[0],i[1],i[2])}if(t.keyData&&t.keyData.length>0){var s=[t.needleColor];if(t.needleExtra.length>0)for(e=0;e<t.needleExtra.length;++e){i=t.needleExtra[e];s.push(i[1])}DxChart.drawKey(this,t.keyData,s)}return t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties;if(this.context.beginPath(),t.shadowOuterUse&&DxChart.setShadow(this,t.shadowOuterStyleObj.color,t.shadowOuterStyleObj.offsetx,t.shadowOuterStyleObj.offsety,t.shadowOuterStyleObj.blur),isNexacroRuntime&&t.borderUse){var e=this.centerx,i=this.centery,s=e-(h=this.radius),a=i-h;this.context.save(),this.context.translate(s,a),e=h,i=h;var o=DxChart.parseRadialGradientInfo(this,t.borderColor,e,i,h-2,e,i,h+20);this.context.beginPath(),this.context.setElementFillStyle(o),this.context.arc(e,i,h+20,0,DxChart.TWOPI,0),this.context.closePath(),this.context.fill(),this.context.restore(),this.context.beginPath()}var r=t.backgroundColor;if(this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,1e-4,DxChart.TWOPI,!1),isNexacroRuntime&&(this.context.lineTo(this.centerx,this.centery),this.context.closePath()),this.context.fill(),DxChart.noShadow(this),this.context.strokeStyle="#666666",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),isNexacroRuntime&&this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),isNexacroRuntime&&(this.context.lineTo(this.centerx,this.centery),this.context.closePath()),this.context.fill(),t.tickmarks){this.context.beginPath(),this.context.strokeStyle="#bbbbbb",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var n=0;n<=360;n+=3)this.context.arc(this.centerx,this.centery,this.radius,0,n/57.3,!1),this.context.lineTo(this.centerx,this.centery);this.context.stroke()}this.context.beginPath(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle="black",isNexacroRuntime&&(t.borderUse||this.context.setElementStrokeStyle(this.context.strokeStyle)),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),this.context.strokeStyle=r,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius-5,0,DxChart.TWOPI,!1),this.context.fill(),isNexacroRuntime&&t.borderUse||this.context.stroke(),this.context.beginPath(),this.context.strokeStyle=t.backgroundLinesColor,isNexacroRuntime&&(this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.moveTo(this.centerx,this.centery));for(n=0;n<360;n+=18)this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.toRadians(n),!1),this.context.lineTo(this.centerx,this.centery);this.context.closePath(),this.context.stroke(),isNexacroRuntime&&t.borderUse||(this.context.beginPath(),this.context.strokeStyle=t.backgroundBorderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.context.stroke()),t.shadowInnerUse&&(this.context.beginPath(),DxChart.setShadow(this,t.shadowInnerStyleObj.color,t.shadowInnerStyleObj.offsetx,t.shadowInnerStyleObj.offsety,t.shadowInnerStyleObj.blur),this.context.arc(this.centerx,this.centery,this.radius-t.labelsMargin,0,DxChart.TWOPI,0),this.context.fill(),this.context.stroke(),DxChart.noShadow(this));var h;e=this.centerx,i=this.centery,s=e-(h=this.radius),a=i-h;isNexacroRuntime&&(this.context.save(),this.context.translate(s,a),e=h,i=h);var l=t.colorsGreenColor,c=(o=DxChart.parseRadialGradientInfo(this,l,e,i,0,e,i,this.radius),DxChart.HALFPI);isNexacroRuntime&&(c=DxChart.PI),t.tickmarksHighlighted&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(o),this.context.arc(e,i,this.radius-2.5,-1*c,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-c,0),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)),this.context.beginPath(),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(o),this.context.arc(e,i,this.radius-t.labelsMargin,0-c,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-c,!1),this.context.lineTo(e,i),this.context.closePath(),this.context.fill();var x=t.colorsYellowColor;o=DxChart.parseRadialGradientInfo(this,x,e,i,0,e,i,this.radius),t.tickmarksHighlighted&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(o),this.context.arc(e,i,this.radius-2.5,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-c,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-c,0),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)),this.context.beginPath(),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(o),this.context.arc(e,i,this.radius-t.labelsMargin,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-c,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-c,!1),this.context.lineTo(e,i),this.context.closePath(),this.context.fill();var d=t.colorsRedColor;if(o=DxChart.parseRadialGradientInfo(this,d,e,i,0,e,i,this.radius),t.tickmarksHighlighted&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(o),this.context.arc(e,i,this.radius-2.5,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-c,DxChart.TWOPI-c,0),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)),this.context.beginPath(),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(o),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(o),this.context.arc(e,i,this.radius-t.labelsMargin,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-c,DxChart.TWOPI-c,!1),this.context.lineTo(e,i),this.context.closePath(),this.context.fill(),isNexacroRuntime&&(this.context.restore(),e=this.centerx,i=this.centery),!isNexacroRuntime&&t.borderUse){o=DxChart.parseRadialGradientInfo(this,t.borderColor,this.centerx,this.centery,this.radius-2,this.centerx,this.centery,this.radius+20);this.context.beginPath(),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(o),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.arc(this.centerx,this.centery,this.radius+20,0,DxChart.TWOPI,0),this.context.arc(this.centerx,this.centery,this.radius-2,DxChart.TWOPI,0,1),this.context.fill()}if(this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.titleText&&DxChart.drawTitle(this),!t.tickmarksHighlighted)for(n=18;n<=360;n+=36)this.context.beginPath(),this.context.strokeStyle=t.tickmarksLargeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.arc(this.centerx,this.centery,this.radius-1,DxChart.toRadians(n),DxChart.toRadians(n+.01),!1),this.context.arc(this.centerx,this.centery,this.radius-7,DxChart.toRadians(n),DxChart.toRadians(n+.01),!1),this.context.stroke()},this.drawNeedle=function(t,e){var i=this.properties,s=arguments[2]?arguments[2]:this.radius-i.labelsMargin;if(this.context.fillStyle="#999999",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,10,0,DxChart.TWOPI,!1),this.context.fill(),this.context.closePath(),this.context.fill(),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="#666666",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,8,0,DxChart.TWOPI,!1),this.context.fill(),this.context.closePath(),this.context.stroke(),this.context.fill(),"pointer"==i.needleType){if(this.context.strokeStyle=e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=i.needleWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.beginPath(),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),i.needleTail){var a=(t/this.range*360+90)/(180/DxChart.PI);if(isNexacroRuntime){var o=this.centerx+20*Math.cos(a),r=this.centery+20*Math.sin(a);this.context.lineTo(o,r),this.context.closePath(),this.context.stroke(),this.context.beginPath()}else this.context.arc(this.centerx,this.centery,20,a,(t/this.range*360+90+.01)/(180/DxChart.PI),!1)}a=(t/this.range*360-90)/(180/DxChart.PI);if(isNexacroRuntime){o=this.centerx+Math.cos(a)*(s-10),r=this.centery+Math.sin(a)*(s-10);this.context.moveTo(this.centerx,this.centery),this.context.lineTo(o,r),this.context.closePath(),this.context.stroke()}else this.context.arc(this.centerx,this.centery,s-10,a,(t/this.range*360-90+.1)/(180/DxChart.PI),!1);this.context.closePath()}else if("triangle"==i.needleType){if(this.context.lineWidth=.01,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineEnd="square",this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.beginPath(),this.context.fillStyle=i.needleTriangleBorder,isNexacroRuntime){this.context.setElementLineWidth(2),this.context.setElementStrokeStyle(i.needleTriangleBorder),this.context.setElementFillStyle(e);a=t/this.range*360/57.3;var n=DxChart.getRadiusEndPoint(this.centerx,this.centery,a,11);a=(t/this.range*360+180)/57.3;var h=DxChart.getRadiusEndPoint(this.centerx,this.centery,a,11);a=(t/this.range*360-90)/57.3;var l=DxChart.getRadiusEndPoint(this.centerx,this.centery,a,s-5);this.path("b m % % l % % l % % l % % c f % s %",this.centerx,this.centery,n[0],n[1],l[0],l[1],h[0],h[1],e,i.needleTriangleBorder),this.context.setElementLineWidth(.01),this.context.beginPath()}else this.context.arc(this.centerx,this.centery,11,t/this.range*360/57.3,(t/this.range*360+.01)/57.3,0),this.context.arc(this.centerx,this.centery,11,(t/this.range*360+180)/57.3,(t/this.range*360+180+.01)/57.3,0),this.context.arc(this.centerx,this.centery,s-5,(t/this.range*360-90)/57.3,(t/this.range*360-90)/57.3+.01,0);this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,15,0,DxChart.TWOPI,0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,7,t/this.range*360/57.3,(t/this.range*360+.01)/57.3,0),this.context.arc(this.centerx,this.centery,7,(t/this.range*360+180)/57.3,(t/this.range*360+180+.01)/57.3,0),this.context.arc(this.centerx,this.centery,s-13,(t/this.range*360-90)/57.3,(t/this.range*360-90)/57.3+.01,0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,7,0,DxChart.TWOPI,0),this.context.closePath(),this.context.fill()}if(this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,"pointer"==i.needleType?7:12,.01,DxChart.TWOPI,!1),this.context.fill(),i.needleHead&&"pointer"==i.needleType){if(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="butt",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.beginPath(),isNexacroRuntime){a=(t/this.range*360-90)/57.3,o=this.centerx+Math.cos(a)*(s-5),r=this.centery+Math.sin(a)*(s-5);a=DxChart.toRadians(t/this.range*360-(s<60?80:85));var c=this.centerx+Math.cos(a)*(s-20),x=this.centery+Math.sin(a)*(s-20);a=DxChart.toRadians(t/this.range*360-(s<60?100:95));var d=this.centerx+Math.cos(a)*(s-20),u=this.centery+Math.sin(a)*(s-20);this.context.moveTo(o,r),this.context.lineTo(c,x),this.context.lineTo(d,u)}else this.context.arc(this.centerx,this.centery,s-5,(t/this.range*360-90)/57.3,(t/this.range*360-90+.1)/57.3,!1),this.context.arc(this.centerx,this.centery,s-20,DxChart.toRadians(t/this.range*360-(s<60?80:85)),DxChart.toRadians(t/this.range*360-(s<60?100:95)),1);this.context.closePath(),this.context.fill()}this.context.beginPath(),this.context.fillStyle="gray",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,2,0,6.2795,!1),this.context.closePath(),this.context.fill()},this.drawLabels=function(){var t=this.properties,e=this.centerx,i=this.centery,s=this.radius-t.labelsMargin/2-5,a=this.min,o=this.max,r=t.scaleDecimals,n=t.scalePoint,h=t.scaleThousand,l=t.labels,c=t.scaleUnitsPre,x=t.scaleUnitsPost;this.context.beginPath(),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var d=DxChart.getTextInfo({object:this,prefix:"labels"});if(l)for(var u=0;u<l.length;++u)DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+Math.cos(u/l.length*DxChart.TWOPI-DxChart.HALFPI)*(this.radius-t.labelsMargin/2),y:i+Math.sin(u/l.length*DxChart.TWOPI-DxChart.HALFPI)*(this.radius-t.labelsMargin/2),text:String(l[u]),valign:"center",halign:"center",tag:"labels"});else this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.strict":!0,"scale.min":this.min,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":10,"scale.round":!1,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.588*s,y:i-.809*s,text:DxChart.numberFormat({object:this,number:(.1*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:36,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.951*s,y:i-.309*s,text:DxChart.numberFormat({object:this,number:(.2*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:72,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.949*s,y:i+.31*s,text:DxChart.numberFormat({object:this,number:(.3*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:108,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.588*s,y:i+.809*s,text:DxChart.numberFormat({object:this,number:(.4*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:144,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e,y:i+s,text:DxChart.numberFormat({object:this,number:(.5*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:180,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.588*s,y:i+.809*s,text:DxChart.numberFormat({object:this,number:(.6*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:216,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.949*s,y:i+.3*s,text:DxChart.numberFormat({object:this,number:(.7*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:252,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.951*s,y:i-.309*s,text:DxChart.numberFormat({object:this,number:(.8*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:288,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.588*s,y:i-.809*s,text:DxChart.numberFormat({object:this,number:(.9*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:324,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e,y:i-s,text:DxChart.numberFormat({object:this,number:(1*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",tag:"scale"});if(this.context.fill(),t.labelsValue){this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);d=DxChart.getTextInfo({object:this,prefix:"labelsValue"});DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+t.labelsValueOffsetX,y:i+d.size+15+t.labelsValueOffsetY,text:DxChart.numberFormat({object:this,number:this.value.toFixed(0===this.value?0:t.labelsValueDecimals),unitspre:t.labelsValueUnitsPre,unitspost:t.labelsValueUnitsPost,point:t.labelsValuePoint,thousand:t.labelsValueThousand}),halign:"center",valign:"center",bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"value.text"})}},this.getShape=function(t){},this.getValue=function(t){var e=DxChart.getMouseXY(t),i=DxChart.getAngleByXY(this.centerx,this.centery,e[0],e[1]);return i+=DxChart.HALFPI,e[0]>=this.centerx&&e[1]<=this.centery&&(i-=DxChart.TWOPI),i/DxChart.TWOPI*(this.max-this.min)+this.min},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t),i=DxChart.getHypLength(this.centerx,this.centery,e[0],e[1]);if(e[0]>this.centerx-this.radius&&e[0]<this.centerx+this.radius&&e[1]>this.centery-this.radius&&e[1]<this.centery+this.radius&&i<=this.radius)return this},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){if(t>this.max||t<this.min)return null;var e=(t-this.min)/(this.max-this.min)*DxChart.TWOPI;return e-=DxChart.HALFPI},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsGreenColor=DxChart.arrayClone(t.colorsGreenColor),this.original_colors.colorsYellowColor=DxChart.arrayClone(t.colorsYellowColor),this.original_colors.colorsRedColor=DxChart.arrayClone(t.colorsRedColor))},this.reset=function(){},this.firstDrawFunc=function(){},this.grow=function(){this.cancelStopAnimation();var t=this,e=(arguments[0]||{}).frames||30,i=0,s=(this.currentValue,Number(t.currentValue)),a=(this.value-s)/e,o=arguments[1]||function(){};return function r(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=s+i*a,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i++<e?DxChart.Effects.updateCanvas(r):o(t))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPie(t){return DxChart._Base.call(this,t,"pie"),this.total=0,this.subTotal=0,this.angles=[],this.angles2=[],this.coordsLineCurve=[],this.coordsSticks=[],this.coordsAxes={xaxis:[],yaxis:[]},this.hasnegativevalues=!1,this.exploding=null,DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"default"),this.properties.variantValue="pie",this.properties.keyPosition="graph",this.properties.labelsList=!0,this.properties.labelsSticks=!1,this.properties.labelsStickStyle="curve",this.properties.lineWidth=0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),this.data=t,this.data=DxChart.str2num(this.data);for(var e=0,i=t.length;e<i;e++)this.total+=t[e],this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(isNexacroRuntime&&(t.origin=0-Math.PI),this.radius=this.getRadius(),this.centerx=this.graph.width/2+this.properties.marginLeft+t.centerxAdjust,this.centery=this.graph.height/2+this.properties.marginTop+t.centeryAdjust,"number"==typeof t.radius&&(this.radius=t.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),!(this.radius<=0)){if(DxChart._BeforeDraw(this),this.subTotal=t.origin,this.angles=[],this.angles2=[],this.coordsText=[],t.variantValue.indexOf("3d")>=0)return t.variantValue3d=!0,this.draw3d();this.drawTitle(),this.total=DxChart.arraySum(this.data);for(var e=this.total,i=this.data,s=0,a=this.data.length;s<a;s++){var o=i[s]/e*DxChart.TWOPI;this.drawSegment(o,t.colors[s],s==a-1,s)}DxChart.noShadow(this),t.lineWidth>0&&this.drawBorders();a=this.angles.length;for(var r=this.radius,n=0;n<2;n+=1)for(s=0;s<a;s++){var h=this.angles[s];isNexacroRuntime&&(h=this.angles2[s]),1===n&&(this.context.strokeStyle="object"==typeof t.colorsStroke?t.colorsStroke[s]:t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle));var l=h[2],c=h[3],x=l-r,d=c-r;if(isNexacroRuntime&&(this.context.save(),this.context.translate(x,d),l=r,c=r),this.context.beginPath(),t.colors[s]){var u=DxChart.parseRadialGradientInfo(this,t.colors[s],l,c,0,l,c,r);this.context.fillStyle=u,isNexacroRuntime&&this.context.setElementFillStyle(u)}this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.arc(l,c,r,h[0],h[1],!1),"donut"==t.variantValue?isNexacroRuntime?this.context.lineTo(l,c):this.context.arc(l,c,"number"==typeof t.variantDonutWidth?r-t.variantDonutWidth:r/2,h[1],h[0],!0):this.context.lineTo(l,c),this.context.closePath(),0===n?this.context.fill():this.context.stroke(),isNexacroRuntime&&this.context.restore()}if(isNexacroRuntime&&"donut"==t.variantValue){var g=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementFillStyle(g),this.context.beginPath(),this.context.arc(this.centerx,this.centery,"number"==typeof t.variantDonutWidth?r-t.variantDonutWidth:r/2,0,2*Math.PI,!1),this.context.closePath(),this.context.fill();var p=t.origin,f=(e=this.total,p);for(r=this.radius,s=0,a=this.data.length;s<a;s++){var m=this.data[s]/e*DxChart.TWOPI;f=p;var b=p+(m*=t.effectRoundrobinMultiplier);if("object"==typeof t.exploded&&t.exploded[s]>0||"number"==typeof t.exploded){var C="number"==typeof t.exploded?t.exploded:t.exploded[s];if(C>0){var y=p+Math.PI/2+m/2;x=parseInt(Math.cos(y)*C),d=parseInt(Math.sin(y)*C);this.context.beginPath(),this.context.arc(this.centerx+x,this.centery+d,"number"==typeof t.variantDonutWidth?r-t.variantDonutWidth:r/2-C,f,b,0),this.context.lineTo(this.centerx+x,this.centery+d),this.context.closePath(),this.context.fill()}}p+=m}}if(t.labelsSticks){this.drawSticks();t.colorsStroke}return t.labelsData&&t.labelsData.length>0&&this.drawLabels(),t.centerpin&&this.drawCenterpin(),t.labelsIngraph&&this.drawInGraphLabels(),("string"==typeof t.labelsCenter||nexacro&&t.labelsCenter instanceof nexacro.Decimal)&&(nexacro&&t.labelsCenter instanceof nexacro.Decimal&&(t.labelsCenter=t.labelsCenter.valueOf()+""),this.drawCenterLabel(t.labelsCenter)),t.contextmenu&&DxChart.showContext(this),t.borderUse&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius-2,0,DxChart.TWOPI,0),this.context.stroke()),t.keyData&&t.keyData.length>0&&DxChart.drawKey(this,t.keyData,t.colors),DxChart.noShadow(this),DxChart.addCustomText(this),1==t.events&&DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.drawTitle=function(){DxChart.drawTitle(this)},this.drawSegment=function(t,e,i,s){var a=this.properties,o=this.subTotal;t*=a.effectRoundrobinMultiplier,isNexacroRuntime?this.context.save():e=this.parseSingleColorForGradient(e),this.context.fillStyle=e,this.context.strokeStyle=a.colorsStroke,this.context.lineWidth=0,this.context.beginPath(),a.shadowUse&&DxChart.setShadow(this,a.shadowStyleObj.color,a.shadowStyleObj.offsetx,a.shadowStyleObj.offsety,a.shadowStyleObj.blur);var r,n,h,l,c=o,x=o+t;"object"==typeof a.exploded&&a.exploded[s]>0||"number"==typeof a.exploded?(r=0,n=0,b="number"==typeof a.exploded?a.exploded:a.exploded[s],h=o+t/2,r=parseInt(Math.cos(h)*b),n=parseInt(Math.sin(h)*b),l=this.radius,isNexacroRuntime&&(h=o+Math.PI/2+t/2,r=parseInt(Math.cos(h)*b),n=parseInt(Math.sin(h)*b)),this.context.moveTo(this.centerx+r,this.centery+n)):(r=0,n=0,l=this.radius);var d=this.centerx,u=this.centery,g=l,p=d-g,f=u-g;if(isNexacroRuntime){this.context.translate(p,f),d=g,u=g,e||(e="transparent");var m=DxChart.parseRadialGradientInfo(this,e,d+r,u+n,0,d+r,u+n,g);this.context.setElementFillStyle(m),this.context.setElementStrokeStyle(a.colorsStroke),this.context.setElementLineWidth(0)}if(this.context.arc(d+r,u+n,l,c,x,0),"donut"==a.variantValue?isNexacroRuntime?this.context.lineTo(d+r,u+n):this.context.arc(d+r,u+n,"number"==typeof a.variantDonutWidth?l-a.variantDonutWidth:l/2,x,c,!0):this.context.lineTo(d+r,u+n),this.context.closePath(),isNexacroRuntime?(this.angles.push([o+Math.PI/2,o+Math.PI/2+t,this.centerx+r,this.centery+n]),this.angles2.push([o,o+t,this.centerx+r,this.centery+n])):this.angles.push([o,o+t,this.centerx+r,this.centery+n]),this.context.fill(),isNexacroRuntime&&this.context.restore(),isNexacroRuntime&&"donut"==a.variantValue){var b;(b="number"==typeof a.exploded?a.exploded:a.exploded[s])||(b=0);var C=("transparent"==a.backgroundColor?null:a.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementFillStyle(C),this.context.beginPath(),this.context.arc(this.centerx+r,this.centery+n,"number"==typeof a.variantDonutWidth?l-a.variantDonutWidth:l/2,c,x,!1),this.context.closePath(),this.context.fill()}this.subTotal+=t},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data.length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)DxChart.isTextual(t.labelsData[e])&&(t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."}))}if(t.labelsData.length&&t.labelsList)return this.drawLabelsList();var i="left",s="center",a=t.labelsData,o=(this.context,t.textFontStyleObj.face,t.labelsBold,t.textFontStyleObj.size,this.centerx),r=this.centery,n=this.radius;if(DxChart.noShadow(this),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),a&&a.length){var h=DxChart.getTextInfo({object:this,prefix:"labels"});for(e=0;e<this.angles.length;++e){var l=this.angles[e];if("string"==typeof a[e]||"number"==typeof a[e]){this.context.moveTo(o,r);var c=l[0]+(l[1]-l[0])/2,x=(l[1]-l[0])/2+l[0];if("object"==typeof t.exploded&&t.exploded[e]||"number"==typeof t.exploded){l[1],l[0];var d="number"==typeof t.exploded?t.exploded:t.exploded[e],u=Math.cos(x)*d,g=Math.sin(x)*d}else u=0,g=0;t.labelsSticks&&(u+=Math.cos(x)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength),g+=Math.sin(x)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength));var p=o+u+(n+10+t.labelsRadiusOffset)*Math.cos(c)+(t.labelsSticks?c<DxChart.HALFPI||c>DxChart.TWOPI+DxChart.HALFPI?2:-2:0),f=r+g+(n+10+t.labelsRadiusOffset)*Math.sin(c);if(this.coordsSticks&&this.coordsSticks[e])p=this.coordsSticks[e][4][0]+(p<o?-5:5),f=this.coordsSticks[e][4][1];s="center",i=p<o?"right":"left",this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:p,y:f,text:a[e],valign:s,halign:i,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e})})}}this.context.fill()}},this.drawLabelsList=function(){for(var t=this.properties,e=(this.angles[h],t.labelsData),i=[],s=[],a=this.centerx,o=this.centery,r=this.radius,n=DxChart.TWOPI-DxChart.HALFPI,h=0;h<this.angles.length;++h)if(!DxChart.isNull(this.data[h])){var l=this.angles[h][0]+(this.angles[h][1]-this.angles[h][0])/2,c=DxChart.getRadiusEndPoint(a,o,l,r+5),x=DxChart.getRadiusEndPoint(a,o,l,r+30),d=["number"==typeof t.exploded?t.exploded:t.exploded[h],Math.cos(l)*("number"==typeof t.exploded?t.exploded:t.exploded[h]),Math.sin(l)*("number"==typeof t.exploded?t.exploded:t.exploded[h])],u=DxChart.getTextInfo({object:this,prefix:"labels"});l>-1*DxChart.HALFPI&&l<DxChart.HALFPI||l>n?i.push([h,l,e[h]?e[h]:"",c,x,u.color,DxChart.arrayClone(d),l>n?-l:l+DxChart.TWOPI]):s.push([h,l,e[h]?e[h]:"",c,x,u.color,DxChart.arrayClone(d)])}isNexacroRuntime||i.sort(function(t,e){return t[7]-e[7]});for(var g=(this.canvas.height-t.marginTop-t.marginBottom)/i.length,p=(h=0,t.marginTop+g/2);h<i.length;p+=g,h++)if(i[h][2]){var f=this.centerx+this.radius+50,m=(i[h][0],i[h][6][0]?i[h][6][1]:0),b=i[h][6][0]?i[h][6][2]:0;if((T=DxChart.text({object:this,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:f+m+t.labelsListRightOffsetX,y:p+b+t.labelsListRightOffsetY,text:i[h][2],valign:"center",halign:"left",tag:"labels",color:i[h][5],cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:h})}))&&T.node&&(T.node.__index__=i[h][0]),"curve"!=t.labelsStickStyle){var C=T.x-5,y=T.y+T.height/2,v=C-(P=i[h][3][0]),D=(R=i[h][3][1],Math.abs(.4*v)),S=Math.abs(.6*v),k=R,w=y;v<0?(L=P-D,j=P-S):(L=P+D,j=P+S),this.path("lw % b m % % l % % l % % l % % s %",t.labelsSticksLineWidth,P,R,L,k,j,w,C,y,i[h][5])}else this.path("lc round lw % b m % % qc % % % % s %",t.labelsSticksLineWidth,i[h][3][0]+m,i[h][3][1]+b,i[h][4][0]+m,i[h][4][1]+b,T.x-5,T.y+T.height/2,i[h][5]);this.path("b a % % 2 0 6.2830 false, f %",T.x-5,T.y+T.height/2,i[h][5])}var _=(this.canvas.height-t.marginTop-t.marginBottom)/s.length;for(h=s.length-1,p=t.marginTop+_/2;h>=0;p+=_,h--)if(s[h][2]){var T;f=this.centerx-this.radius-50,s[h][0],m=s[h][6][0]?s[h][6][1]:0,b=s[h][6][0]?s[h][6][2]:0;if((T=DxChart.text({object:this,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:f+m+t.labelsListLeftOffsetX,y:p+b+t.labelsListLeftOffsetY,text:s[h][2],valign:"center",halign:"right",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:h})}))&&T.node&&(T.node.__index__=s[h][0]),"curve"!=t.labelsStickStyle){var P,R,L,j;C=T.x+5+T.width,y=T.y+T.height/2,v=C-(P=s[h][3][0]),R=s[h][3][1],D=Math.abs(.4*v),S=Math.abs(.6*v),k=R,w=y;v<0?(L=P-D,j=P-S):(L=P+D,j=P+S),this.path("lw % b m % % l % % l % % l % % s %",t.labelsSticksLineWidth,P,R,L,k,j,w,C,y,s[h][5])}else this.path("lw % b m % % qc % % % % s %",t.labelsSticksLineWidth,s[h][3][0]+m,s[h][3][1]+b,s[h][4][0]+m,Math.round(s[h][4][1]+b),T.x+5+T.width,T.y+T.height/2,s[h][5]);this.path("b a % % 2 0 6.2830 false, f %",T.x+5+T.width,T.y+T.height/2,s[h][5])}},this.drawSticks=function(){for(var t=this.properties,e=t.lineWidth/2,i=t.exploded,s=t.labelsSticks,a=(t.colors,this.centerx),o=this.centery,r=this.radius,n=[],h=t.labelsSticksLineWidth,l=0,c=this.angles.length;l<c;++l){var x=this.angles[l];if("object"!=typeof s||s[l]){var d=x[1]-x[0];this.context.beginPath(),this.context.strokeStyle="string"==typeof t.labelsSticksColors?t.labelsSticksColors:DxChart.isNull(t.labelsSticksColors)?"gray":t.labelsSticksColors[l],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=h,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"string"==typeof t.labelsSticksColor&&(this.context.strokeStyle=t.labelsSticksColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle));var u=x[0]+d/2;if("object"==typeof i&&i[l])var g=i[l];else if("number"==typeof i)g=i;else g=0;var p="object"==typeof t.labelsSticksLength?t.labelsSticksLength[l]:t.labelsSticksLength;n[0]=DxChart.getRadiusEndPoint(a,o,u,r+g+e),n[1]=DxChart.getRadiusEndPoint(a,o,u,r+p+g-5),n[2]=DxChart.getRadiusEndPoint(a,o,u,r+p+g+t.labelsRadiusOffset),n[3]=DxChart.getRadiusEndPoint(a,o,u,r+p+g+t.labelsRadiusOffset),n[3][0]+=n[3][0]>a?5:-5,n[4]=[n[2][0]+(n[2][0]>a?5+t.labelsSticksHlength:-5-t.labelsSticksHlength),n[2][1]],this.context.moveTo(n[0][0],n[0][1]),"curve"!=t.labelsStickStyle?(this.context.lineTo(n[2][0],n[2][1]),this.context.lineTo(n[4][0],n[4][1])):this.context.quadraticCurveTo(n[2][0],n[2][1],n[4][0],n[4][1]),this.context.stroke(),this.coordsSticks[l]=[n[0],n[1],n[2],n[3],n[4]]}}},this.getShape=function(t){var e=this.properties,i=(arguments[1]&&arguments[1],this.canvas,this.context),s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(this.radius,this.angles);isNexacroRuntime&&(r=this.angles2);for(var n=0,h=r.length;n<h;++n)if(this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&i.setElementStrokeStyle("rgba(0,0,0,0)"),this.context.arc(r[n][2],r[n][3],this.radius,r[n][0],r[n][1],!1),"pie"===this.type&&-1!==e.variantValue.indexOf("donut")?isNexacroRuntime?this.context.lineTo(r[n][2],r[n][3]):this.context.arc(r[n][2],r[n][3],"number"==typeof e.variantDonutWidth?this.radius-e.variantDonutWidth:this.radius/2,r[n][1],r[n][0],!0):this.context.lineTo(r[n][2],r[n][3]),this.context.closePath(),this.context.isPointInPath(a,o)){if(r[n][0]<0&&(r[n][0]+=DxChart.TWOPI),r[n][1]>DxChart.TWOPI&&(r[n][1]-=DxChart.TWOPI),DxChart.parseTooltipText&&e.tooltipsData)var l=DxChart.parseTooltipText(e.tooltipsData,n);return{object:this,x:r[n][2],y:r[n][3],radius:this.radius,angleStart:r[n][0],angleEnd:r[n][1],index:n,dataset:0,sequentialIndex:n,label:e.labelsData&&"string"==typeof e.labelsData[n]?e.labelsData[n]:null,tooltip:"string"==typeof l?l:null}}return null},this.drawBorders=function(){var t=this.properties;if(t.lineWidth>0){this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var e=this.radius,i=0,s=this.angles.length;i<s;++i){var a=this.angles[i];this.context.beginPath(),this.context.arc(a[2],a[3],e,a[0],a[0]+.001,0),this.context.arc(a[2],a[3],"donut"==t.variantValue?"number"==typeof t.variantDonutWidth?this.radius-t.variantDonutWidth:e/2:e,a[0],a[0]+1e-4,0),this.context.closePath(),this.context.stroke()}}},this.getRadius=function(){var t=this.properties;return this.graph={width:this.canvas.width-t.marginLeft-t.marginRight,height:this.canvas.height-t.marginTop-t.marginBottom},"number"==typeof t.radius?this.radius=t.radius:this.radius=Math.min(this.graph.width,this.graph.height)/2,"string"==typeof t.radius&&(this.radius=this.radius+parseFloat(t.radius)),this.radius},this.explodeSegment=function(t,e){var i=this.properties;if("number"!=typeof this.exploding||this.exploding!==t){if(i.exploded||(i.exploded=[]),"number"==typeof i.exploded){var s=i.exploded,a=i.exploded;i.exploded=[];for(var o=0,r=this.data.length;o<r;++o)i.exploded[o]=a}i.exploded[t]="number"==typeof s?s:0,this.exploding=t;for(var n=DxChart.ISIE?25:16.666,h=this,l=0;l<e;++l)isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n):setTimeout(function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n);h=this;isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){h.exploding=null},e*n):setTimeout(function(){h.exploding=null},e*n)}},this.highlight_segment=function(t){this.context.beginPath(),this.context.strokeStyle=properties.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=properties.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(t[0],t[1]),this.context.arc(t[0],t[1],t[2],this.angles[t[5]][0],this.angles[t[5]][1],0),this.context.lineTo(t[0],t[1]),this.context.closePath(),this.context.stroke(),this.context.fill()},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("invert"===e.highlightStyle){var i;i=isNexacroRuntime?this.angles2:this.angles;for(var s=0;s<i.length;++s)s!==t.index&&(this.context.beginPath(),this.context.lineWidth=e.highlightStyleTwodLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(e.highlightStyleTwodLineWidth),isNexacroRuntime?(this.context.moveTo(i[s][2],i[s][3]),this.context.arc(i[s][2],i[s][3],t.radius,i[s][0],i[s][1],!1),this.context.lineTo(i[s][2],i[s][3])):(this.context.moveTo(i[s][2],i[s][3]),this.context.arc(i[s][2],i[s][3],t.radius,i[s][0],i[s][1],!1)),this.context.closePath(),this.context.strokeStyle=e.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStyleTwodStroke),this.context.stroke(),this.context.fillStyle=e.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightStyleTwodFill),this.context.fill())}else if("3d"==e.highlightStyle){this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);this.context.beginPath(),DxChart.noShadow(this),this.context.fillStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(t.x,t.y,t.radius,t.angleStart,t.angleEnd,!1),"donut"==e.variantValue?this.context.arc(t.x,t.y,t.radius/5,t.angleEnd,t.angleStart,!0):this.context.lineTo(t.x,t.y),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.shadowColor="#666666",this.context.shadowBlur=3,this.context.shadowOffsetX=3,this.context.shadowOffsetY=3,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.fillStyle=e.colors[t.index],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(t.x-2,t.y-2,t.radius,t.angleStart,t.angleEnd,!1),"donut"==e.variantValue?this.context.arc(t.x-2,t.y-2,t.radius/2,t.angleEnd,t.angleStart,!0):this.context.lineTo(t.x-2,t.y-2),this.context.closePath(),this.context.stroke(),this.context.fill(),DxChart.noShadow(this),e.borderUse&&(this.context.beginPath(),this.context.strokeStyle=e.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.arc(t.x-2,t.y-2,t.radius-2,t.angleStart,t.angleEnd,!1),this.context.stroke())}else if("outline"===e.highlightStyle){var a=DxChart.Registry.get("tooltip").__index__,o=this.angles[a],r=this.get("colors")[a],n=this.radius/12.5;"number"==typeof e.highlightStyleOutlineWidth&&(n=e.highlightStyleOutlineWidth),this.context.globalAlpha=.25,isNexacroRuntime&&(this.context.setElementGlobalAlpha(.25),this.context._globalAlphaFill=.25,this.context._globalAlphaStroke=.25),isNexacroRuntime?(o=this.angles2[a],this.context.beginPath(),this.context.arc(o[2],o[3],this.radius+2+n,o[0],o[1],!1),this.context.lineTo(o[2],o[3]),this.context.closePath(),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),this.context.fill(),this.context.globalAlpha=1,isNexacroRuntime&&(this.context.setElementGlobalAlpha(1),this.context._globalAlphaFill=1,this.context._globalAlphaStroke=1),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.globalAlpha=.25,isNexacroRuntime&&(this.context.setElementGlobalAlpha(.25),this.context._globalAlphaFill=.25,this.context._globalAlphaStroke=.25),this.context.beginPath(),this.context.arc(o[2],o[3],this.radius,o[0],o[1],!1),this.context.lineTo(o[2],o[3]),this.context.strokeStyle="white",isNexacroRuntime&&this.context.setElementStrokeStyle("white"),this.context.stroke()):(this.context.beginPath(),this.context.arc(o[2],o[3],this.radius+2+n,o[0],o[1],!1),this.context.arc(o[2],o[3],this.radius+2,o[1],o[0],!0),this.context.closePath(),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),this.context.fill()),this.context.globalAlpha=1,isNexacroRuntime&&(this.context.setElementGlobalAlpha(1),this.context._globalAlphaFill=1,this.context._globalAlphaStroke=1)}else if(this.context.beginPath(),this.context.strokeStyle=e.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),e.variantValue.indexOf("donut")>-1?isNexacroRuntime?(this.context.arc(t.x,t.y,t.radius,t.angleStart,t.angleEnd,!1),this.context.lineTo(t.x,t.y)):(this.context.arc(t.x,t.y,t.radius,t.angleStart,t.angleEnd,!1),this.context.arc(t.x,t.y,"number"==typeof e.variantDonutWidth?this.radius-e.variantDonutWidth:t.radius/2,t.angleEnd,t.angleStart,!0)):(this.context.arc(t.x,t.y,t.radius+1,t.angleStart,t.angleEnd,!1),this.context.lineTo(t.x,t.y)),this.context.closePath(),isNexacroRuntime||this.context.stroke(),this.context.fill(),isNexacroRuntime&&e.variantValue.indexOf("donut")>-1){this.context.beginPath(),this.context.arc(t.x,t.y,"number"==typeof e.variantDonutWidth?this.radius-e.variantDonutWidth:t.radius/2-4,t.angleStart,t.angleEnd,!1),this.context.lineTo(t.x,t.y),this.context.closePath();var h=("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementFillStyle(h),this.context.fill()}},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.drawCenterpin=function(){var t=this.properties;if("number"==typeof t.centerpin&&t.centerpin>0){var e=this.centerx,i=this.centery;this.context.beginPath(),this.context.strokeStyle=t.centerpinStroke?t.centerpinStroke:t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.centerpinFill?t.centerpinFill:t.colorsStroke,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(e,i),this.context.arc(e,i,t.centerpin,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill()}},this.drawInGraphLabels=function(){var t,e=this.properties,i=(this.context,this.centerx,this.centery,e.labelsIngraphRadius);if(this.set("labelsIngraphUndrawn",[]),DxChart.isNumber(e.labelsIngraphRadiusOffset)?e.labelsIngraphRadiusOffset:0,t=i<=2&&i>0?i:.5,"donut"==e.variantValue){var s=this.radius*(.5+.5*t);if("number"==typeof e.variantDonutWidth)s=this.radius-e.variantDonutWidth+e.variantDonutWidth/2}else s=this.radius*t;i>2&&(s=i);for(var a=0,o=this.angles.length;a<o;++a){if("object"==typeof e.exploded&&"number"==typeof e.exploded[a])var r=e.exploded[a];else if("number"==typeof e.exploded)r=parseInt(e.exploded);else r=0;var n=this.angles[a][0],h=(this.angles[a][1]-n)/2+n,l=DxChart.getRadiusEndPoint(this.centerx,this.centery,h,s+(r||0)+(e.labelsIngraphRadiusOffset||0)),c=l[0],x=l[1],d=e.labelsIngraphSpecific&&"string"==typeof e.labelsIngraphSpecific[a]?e.labelsIngraphSpecific[a]:DxChart.numberFormat({object:this,number:this.data[a].toFixed(e.labelsIngraphDecimals),unitspre:e.labelsIngraphUnitsPre,unitspost:e.labelsIngraphUnitsPost,point:e.labelsIngraphPoint,thousand:e.labelsIngraphThousand});if(d){this.context.beginPath();var u=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),g=DxChart.text({object:this,font:u.font,size:u.size,color:"transparent",bold:u.bold,italic:u.italic,x:c,y:x,text:d,valign:"center",halign:"center",bounding:!1});this.context.stroke(),this.path("b lw 1 m % % a % % % % % false",this.centerx,this.centery,this.centerx,this.centery,1.2*this.radius,this.angles[a][0],this.angles[a][1]);var p=g.x,f=g.y,m=g.width,b=g.height;if(!(isNexacroRuntime||this.context.isPointInPath(p,f)&&this.context.isPointInPath(p+m,f)&&this.context.isPointInPath(p,f+b)&&this.context.isPointInPath(p+m,f+b))){this.context.beginPath();var C={index:a,text:d};if(this.get("labelsIngraphUndrawn").push(C),e.labelsIngraphUndrawn&&e.labelsIngraphUndrawnAsLabels&&(DxChart.isArray(this.properties.labelsData)||(this.properties.labelsData=[]),this.properties.labelsData[C.index]=C.text,!DxChart.Registry.get("pie-chart-ingraphlabels-redraw-function-added"))){var y=DxChart.addCustomEventListener(this,"draw",function(t){DxChart.removeCustomEventListener(t,DxChart.Registry.get("pie-chart-ingraphlabels-redraw-function-added")),DxChart.runOnce("pie-chart-ingraphlabels-redraw-function",function(){DxChart.redraw()})});DxChart.Registry.set("pie-chart-ingraphlabels-redraw-function-added",y)}continue}this.context.beginPath();g=DxChart.text({object:this,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:c,y:x,text:d,valign:"center",halign:"center",bounding:e.labelsIngraphBounding,boundingFill:e.labelsIngraphBoundingFill,boundingStroke:e.labelsIngraphBoundingStroke,tag:"labels.ingraph"});this.context.stroke()}}},this.drawCenterLabel=function(t){var e=this.properties,i=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});t=DxChart.numberFormat({object:this,number:t,unitspre:e.labelsCenterUnitsPre,unitspost:e.labelsCenterUnitsPost,point:e.labelsCenterPoint,thousand:e.labelsCenterThousand}),DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:this.centerx+e.labelsCenterOffsetX,y:this.centery+e.labelsCenterOffsetY,halign:"center",valign:"center",text:t,bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels.center"})},this.getAngle=function(t){var e=this.properties;if(t>this.total)return null;var i=t/this.total*DxChart.TWOPI;return i+=e.origin},this.parseColors=function(){var t=this.properties;this.original_colors.colors||(this.original_colors={},this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightStyleTwodFill=DxChart.arrayClone(t.highlightStyleTwodFill),this.original_colors.highlightStyleTwodStroke=DxChart.arrayClone(t.highlightStyleTwodStroke),this.original_colors.labelsIngraphBoundingFill=DxChart.arrayClone(t.labelsIngraphBoundingFill),this.original_colors.labelsIngraphColor=DxChart.arrayClone(t.labelsIngraphColor));var e=t.keyColors;if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(this.original_colors.keyColors[i]);t.colorsStroke=this.parseSingleColorForGradient(this.original_colors.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(this.original_colors.highlightStroke),t.highlightStyleTwodFill=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodFill),t.highlightStyleTwodStroke=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodStroke),t.labelsIngraphBoundingFill=this.parseSingleColorForGradient(this.original_colors.labelsIngraphBoundingFill),t.labelsIngraphColor=this.parseSingleColorForGradient(this.original_colors.labelsIngraphColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e,i=this.properties;if((e=isNexacroRuntime?this.angles2:this.angles)&&e[t]){var s=e[t],a=s[2],o=s[3],r=s[0],n=s[1];this.context.strokeStyle=i.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(i.keyInteractiveHighlightChartStroke),this.context.fillStyle=i.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(i.keyInteractiveHighlightChartFill),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(2),this.context.lineJoin="bevel",isNexacroRuntime&&this.context.setElementLineJoin("bevel"),this.context.beginPath(),this.context.moveTo(a,o),this.context.arc(a,o,this.radius,r,n,!1),isNexacroRuntime&&this.context.lineTo(a,o),this.context.closePath(),this.context.fill(),this.context.stroke()}},this.firstDrawFunc=function(){},this.draw3d=function(){var t=this.properties,e=t.variantThreedDepth,i=t.shadowUse,s=t.labelsData,a=t.labelsSticks,o=t.titleText;this.set({labelsData:[],labelsSticks:!1,strokestyle:"rgba(0,0,0,0)",titleText:""}),this.set({variantValue:this.get("variantValue").replace(/3d/,"")}),this.context.setTransform(1.5,0,0,1,-.5*(1.5*this.canvas.width-this.canvas.width),0);for(var r=e;r>0;r-=1)if(this.set({centeryAdjust:r}),r===parseInt(e/2)&&this.set({labelsData:s,labelsSticks:a}),0===r&&this.set({shadowUse:i}),1===r&&this.set({titleText:o}),this.draw(),this.set({shadowUse:!1,titleText:""}),r<=parseInt(e/2)&&this.set({labelsData:[],labelsSticks:!1}),r>1){var n=this.angles;if(n=isNexacroRuntime?this.angles2:this.angles,-1!==t.variantValue.indexOf("donut"))for(var h=0;h<n.length;++h){var l=n[h][2],c=n[h][3],x=this.radius,d=this.radius/2,u=n[h][0],g=n[h][1];this.path("b a % % % % % false a % % % % % true f rgba(0,0,0,0.15)",l,c,x,u,g,l,c,d,g,u)}else for(h=0;h<n.length;++h){l=n[h][2],c=n[h][3],x=this.radius,d=this.radius/2,u=n[h][0],g=n[h][1];this.path("b m % % a % % % % % false f rgba(0,0,0,0.15)",l,c,l,c,x+1,u,g)}}return this.set({variantValue:this.get("variantValue")+"3d",shadowUse:i,labelsData:s,labelsSticks:a,titleText:o}),this},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"explode":this.explode(e,i);break;case"grow":this.grow(e,i);break;case"roundRobin":this.roundRobin(e,i);break;case"roundRobinSequential":this.roundRobinSequential(e,i);break;case"implode":this.implode(e,i);break;case"explodeSegment":this.explodeSegment(index,size)}},this.explode=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]?arguments[0]:{},i=arguments[1]?arguments[1]:function(){},s=e.frames?e.frames:30,a=0,o=Number("number"==typeof e.radius?e.radius:Math.max(this.canvas.width,this.canvas.height)),r=Number(t.get("exploded"))||0;r===o&&(r=0,this.set("exploded",0));var n=(o-r)/s;this.set("labels",null);var h=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("exploded",r+n*a),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(h,t.canvas):i(t))};return h(),this},this.grow=function(){var t=this.properties;this.cancelStopAnimation();var e=this,i=e.canvas,s=(arguments[0]?arguments[0]:{}).frames||30,a=0,o=arguments[1]?arguments[1]:function(){},r=e.getRadius();t.radius=0;var n=function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("radius",a/s*r),DxChart.redrawCanvas(i),a++<s?DxChart.Effects.updateCanvas(n,i):(DxChart.redrawCanvas(e.canvas),o(e)))};return n(),this},this.roundRobin=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=0,a=e.frames||30,o=(t.getRadius(),t.get("labelsData"));t.set("events",!1),t.set("labels",[]);var r=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("effectRoundrobinMultiplier",DxChart.Effects.getEasingMultiplier(a,s)),DxChart.redrawCanvas(t.canvas),s<a?(DxChart.Effects.updateCanvas(r,t.canvas),s++):(t.set({events:!0,labels:o}),DxChart.redrawCanvas(t.canvas),i(t)))};return r(),this},this.roundRobinSequential=function(){this.properties;var t=DxChart.getArgs(arguments,"options,callback");this.cancelStopAnimation();var e=this,i=t.options||{},s=t.callback||function(){},a=0,o=i.frames||20,r=this.getRadius(),n=this.get("labelsData");this.set("events",!1),this.set("labels",[]);r=2*Math.max(this.canvas.width,this.canvas.height);var h=function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(DxChart.redrawCanvas(e.canvas),isNexacroRuntime?e.path("b m % % a % % % % % false l % % f white",e.centerx,e.centery,e.centerx,e.centery,r,0-Math.PI+a/o*DxChart.TWOPI,Math.PI,e.centerx,e.centery):e.path("b m % % a % % % % % false f white",e.centerx,e.centery,e.centerx,e.centery,r,0-DxChart.HALFPI+a/o*DxChart.TWOPI,DxChart.TWOPI-DxChart.HALFPI),a<o?(DxChart.Effects.updateCanvas(h,e.canvas),a++):(e.set({events:!0,labels:n}),DxChart.redrawCanvas(e.canvas),s(e)))};return h(),this},this.implode=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0,o=(Number(this.get("exploded")),Math.max(this.canvas.width,this.canvas.height));o=Number(this.get("exploded"))||o;return Number(this.get("exploded"))===o&&(this.set("exploded",0),0),function e(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{var r=o-a/s*o;t.set("exploded",r),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(e,t.canvas):(DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i(t))}}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e,i){var s=this.properties;return{color:i[t.index],label:"object"==typeof s.tooltipsFormattedKeyLabels&&"string"==typeof s.tooltipsFormattedKeyLabels[t.index]?s.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=t.event,s=t.tooltip,a=t.index,o=e.properties,r=DxChart.getCanvasXY(e.canvas),n=e.angles[a],h=(n[1]-n[0])/2+n[0];if(o.variantValue.indexOf("donut")>=0)if(DxChart.isNull(o.variantDonutWidth))var l=this.radius/2+this.radius/4;else l=this.radius-o.variantDonutWidth+o.variantDonutWidth/2;else l=.5*this.radius;var c="number"==typeof o.exploded?o.exploded:o.exploded[a],x=DxChart.getRadiusEndPoint(this.centerx,this.centery,h,l+(c||0));if(o.variantValue.indexOf("3d")>0){"number"===o.variantDonutWidth?o.variantDonutWidth:this.radius;x[0]=1.5*(x[0]-this.centerx)+this.centerx}if(isNexacroRuntime){t.tooltip._upposition=!0,t.tooltip.set_left(r[0]+x[0]-s.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(r[1]+x[1]-s.offsetHeight+e.properties.tooltipsOffsetY-10);var d=parseInt(t.tooltip.style.height.replace("px","")),u=parseInt(t.tooltip.style.top.replace("px","")),g=parseInt(t.tooltip.style.left.replace("px","")),p=parseInt(t.tooltip.style.width.replace("px",""));if(i.pageY>=u&&i.pageY<=u+d&&i.pageX>=g&&i.pageX<g+p){var f=u+d-i.pageY;t.tooltip.set_top(r[1]+x[1]-s.offsetHeight+e.properties.tooltipsOffsetY-10-f-30)}}else{t.tooltip.style.left=r[0]+x[0]-s.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=r[1]+x[1]-s.offsetHeight+e.properties.tooltipsOffsetY-10+"px";d=parseInt(t.tooltip.style.height.replace("px","")),u=parseInt(t.tooltip.style.top.replace("px","")),g=parseInt(t.tooltip.style.left.replace("px","")),p=parseInt(t.tooltip.style.width.replace("px",""));if(i.pageY>=u&&i.pageY<=u+d&&i.pageX>=g&&i.pageX<g+p){f=u+d-i.pageY;t.tooltip.style.top=r[1]+x[1]-s.offsetHeight+e.properties.tooltipsOffsetY-10-f-30+"px"}}},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPieSegment(t){return DxChart._Base.call(this,t,"pie"),this.total=0,this.subTotal=0,this.angles=[],this.angles2=[],this.coordsLineCurve=[],this.coordsSticks=[],this.coordsAxes={xaxis:[],yaxis:[]},this.hasnegativevalues=!1,this.exploding=null,DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"default"),this.properties.variantValue="donut",this.properties.keyPosition="graph",this.properties.transformType="flat",this.properties.labelsList=!0,this.properties.labelsSticks=!1,this.properties.labelsStickStyle="line",this.properties.lineWidth=5,this.properties.transformPointer=!0,this.properties.shadowUse=!1,this.properties.colors=["#387EC3","#5253A3","#F6842E","#FBAC33","#8AC340","#46B863","#41BC9F","#29C2EC"],t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),this.data=t,this.data=DxChart.str2num(this.data);for(var e=0,i=t.length;e<i;e++)this.total+=t[e],this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(isNexacroRuntime&&(t.origin=0-Math.PI),this.radius=this.getRadius(),this.centerx=this.graph.width/2+this.properties.marginLeft+t.centerxAdjust,this.centery=this.graph.height/2+this.properties.marginTop+t.centeryAdjust,"number"==typeof t.radius&&(this.radius=t.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),!(this.radius<=0)){DxChart._BeforeDraw(this),this.subTotal=t.origin,this.angles=[],this.angles2=[],this.anglesCenter=[],this.coordsText=[],this.drawTitle(),this.total=DxChart.arraySum(this.data);for(var e=this.total,i=this.data,s=0,a=this.data.length;s<a;s++){var o=i[s]/e*DxChart.TWOPI;this.drawSegment(o,t.colors[s],s==a-1,s)}if(DxChart.noShadow(this),t.labelsSticks){this.drawSticks();t.colorsStroke}return t.labelsData&&t.labelsData.length>0&&this.drawLabels(),t.centerpin&&this.drawCenterpin(),t.labelsIngraph&&this.drawInGraphLabels(),("string"==typeof t.labelsCenter||nexacro&&t.labelsCenter instanceof nexacro.Decimal)&&(nexacro&&t.labelsCenter instanceof nexacro.Decimal&&(t.labelsCenter=t.labelsCenter.valueOf()+""),this.drawCenterLabel(t.labelsCenter)),t.contextmenu&&DxChart.showContext(this),t.borderUse&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius-2,0,DxChart.TWOPI,0),this.context.stroke()),t.keyData&&t.keyData.length>0&&DxChart.drawKey(this,t.keyData,t.colors),DxChart.noShadow(this),DxChart.addCustomText(this),1==t.events&&DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.drawTitle=function(){DxChart.drawTitle(this)},this.drawSegment=function(t,e,i,s){var a=this.properties,o=this.subTotal;t*=a.effectRoundrobinMultiplier,isNexacroRuntime?this.context.save():e=this.parseSingleColorForGradient(e);var r=e;this.context.fillStyle=e,this.context.strokeStyle=a.colorsStroke,this.context.lineWidth=0,this.context.beginPath(),a.shadowUse&&DxChart.setShadow(this,a.shadowStyleObj.color,a.shadowStyleObj.offsetx,a.shadowStyleObj.offsety,a.shadowStyleObj.blur);var n,h,l,c,x=o,d=o+t;"object"==typeof a.exploded&&a.exploded[s]>0||"number"==typeof a.exploded?(n=0,h=0,R="number"==typeof a.exploded?a.exploded:a.exploded[s],l=o+t/2,n=parseInt(Math.cos(l)*R),h=parseInt(Math.sin(l)*R),c=this.radius,isNexacroRuntime&&(l=o+Math.PI/2+t/2,n=parseInt(Math.cos(l)*R),h=parseInt(Math.sin(l)*R)),this.context.moveTo(this.centerx+n,this.centery+h)):(n=0,h=0,c=this.radius);var u=this.centerx,g=this.centery,p=c,f=u-p,m=g-p;if(isNexacroRuntime){this.context.translate(f,m),u=p,g=p,e||(e="transparent");var b=DxChart.parseRadialGradientInfo(this,e,u+n,g+h,0,u+n,g+h,p);r=e,this.context.setElementFillStyle(b),this.context.setElementStrokeStyle(a.colorsStroke),this.context.setElementLineWidth(0)}if("none"==a.transformType||"flow"==a.transformType){if("flow"==a.transformType&&(a.variantValue="donut"),this.context.arc(u+n,g+h,c,x,d,0),"donut"==a.variantValue?isNexacroRuntime?this.context.lineTo(u+n,g+h):this.context.arc(u+n,g+h,"number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2,d,x,!0):this.context.lineTo(u+n,g+h),this.context.closePath(),this.context.fill(),"flow"==a.transformType){var C=.008,y=d,v=x;isNexacroRuntime&&(y=d+DxChart.HALFPI,v=x+DxChart.HALFPI,C=d>2?.025:0);var D=DxChart.getRadiusEndPoint(u+n,g+h,y-C,c),S="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2,k=DxChart.getRadiusEndPoint(u+n,g+h,y-C,S),w=c-(c-S)/2,_=DxChart.HALFPI/7,T=DxChart.getRadiusEndPoint(u+n,g+h,y+_,w);if(this.path("b m % % l % % l % % l % % c",D[0],D[1],T[0],T[1],k[0],k[1],D[0],D[1]),this.context.fill(),s>0){var P=a.colors[s-1];if(P=this.parseSingleColorForGradient(P),this.context.fillStyle=P,isNexacroRuntime){P||(P="transparent");b=DxChart.parseRadialGradientInfo(this,P,u+n,g+h,0,u+n,g+h,p);this.context.setElementFillStyle(b)}isNexacroRuntime&&(C=x>0?.025:0),D=DxChart.getRadiusEndPoint(u+n,g+h,v-C,c),S="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2,k=DxChart.getRadiusEndPoint(u+n,g+h,v-C,S),w=c-(c-S)/2,_=DxChart.HALFPI/7,T=DxChart.getRadiusEndPoint(u+n,g+h,v+_,w),this.path("b m % % l % % l % % l % % c",D[0],D[1],T[0],T[1],k[0],k[1],D[0],D[1]),this.context.fill()}}if(isNexacroRuntime&&this.context.restore(),isNexacroRuntime&&"donut"==a.variantValue){var R;y=d+DxChart.HALFPI,v=x+DxChart.HALFPI;(R="number"==typeof a.exploded?a.exploded:a.exploded[s])||(R=0);var L=("transparent"==a.backgroundColor?null:a.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";this.context.setElementFillStyle(L),this.context.beginPath(),this.context.arc(this.centerx+n,this.centery+h,"number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2,x-.08,d+.08,!1),this.context.lineTo(this.centerx+n,this.centery+h),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx+n,this.centery+h,5,0,2*DxChart.PI,!1),this.context.closePath(),this.context.fill()}}else if("flat"==a.transformType){d+=DxChart.HALFPI,x+=DxChart.HALFPI;var j=DxChart.getRadiusEndPoint(u+n,g+h,x,c);D=DxChart.getRadiusEndPoint(u+n,g+h,d,c);if("donut"==a.variantValue){S="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2;var F=DxChart.getRadiusEndPoint(u+n,g+h,x,S);k=DxChart.getRadiusEndPoint(u+n,g+h,d,S);this.path("b m % % l % % l % % l % % l % % c",F[0],F[1],k[0],k[1],D[0],D[1],j[0],j[1],F[0],F[1])}else this.path("b m % % l % % l % % l % % c",u+n,g+h,j[0],j[1],D[0],D[1],u+n,g+h);this.context.fill(),isNexacroRuntime&&this.context.restore()}else if("fold"==a.transformType){d+=DxChart.HALFPI,x+=DxChart.HALFPI;j=DxChart.getRadiusEndPoint(u+n,g+h,x,1.1*c),D=DxChart.getRadiusEndPoint(u+n,g+h,d,.9*c);if("donut"==a.variantValue){S="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2,F=DxChart.getRadiusEndPoint(u+n,g+h,x,S),k=DxChart.getRadiusEndPoint(u+n,g+h,d,S);this.path("b m % % l % % l % % l % % l % % c",F[0],F[1],k[0],k[1],D[0],D[1],j[0],j[1],F[0],F[1])}else this.path("b m % % l % % l % % l % % c",u+n,g+h,j[0],j[1],D[0],D[1],u+n,g+h);this.context.fill(),isNexacroRuntime&&this.context.restore()}if(isNexacroRuntime){this.angles.push([o+Math.PI/2,o+Math.PI/2+t,this.centerx+n,this.centery+h]),this.angles2.push([o,o+t,this.centerx+n,this.centery+h]);y=d+DxChart.HALFPI;var E=(v=x+DxChart.HALFPI)+(y-v)/2;"flow"==a.transformType&&(E+=.05);var O=0;"donut"==a.variantValue&&(O="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2);var I=c-(c-O)/2;F=DxChart.getRadiusEndPoint(this.centerx+n,this.centery+h,E,I);this.anglesCenter.push(F)}else{this.angles.push([o,o+t,this.centerx+n,this.centery+h]);E=x+(d-x)/2;"flow"==a.transformType&&(E+=.05);O=0;"donut"==a.variantValue&&(O="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2);I=c-(c-O)/2,F=DxChart.getRadiusEndPoint(this.centerx+n,this.centery+h,E,I);this.anglesCenter.push(F)}if(1==a.transformPointer&&"donut"==a.variantValue){this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),!isNexacroRuntime||"none"!=a.transformType&&"flow"!=a.transformType||(d+=DxChart.HALFPI,x+=DxChart.HALFPI);var A=x+(d-x)/2;"flow"==a.transformType&&(A+=DxChart.HALFPI/20);S="number"==typeof a.variantDonutWidth?c-a.variantDonutWidth:c/2;"flat"!=a.transformType&&"fold"!=a.transformType||(S-=8);_=DxChart.HALFPI/20,j=DxChart.getRadiusEndPoint(this.centerx+n,this.centery+h,A-_,S+1),D=DxChart.getRadiusEndPoint(this.centerx+n,this.centery+h,A+_,S+1);var N=DxChart.getRadiusEndPoint(this.centerx+n,this.centery+h,A,S-10);this.path("b m % % l % % l % % l % % c",j[0],j[1],D[0],D[1],N[0],N[1],j[0],j[1]),this.context.fill()}this.subTotal+=t},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data.length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)DxChart.isTextual(t.labelsData[e])&&(t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."}))}if(t.labelsData.length&&t.labelsList)return this.drawLabelsList();var i="left",s="center",a=t.labelsData,o=(this.context,t.textFontStyleObj.face,t.labelsBold,t.textFontStyleObj.size,this.centerx),r=this.centery,n=this.radius;if(DxChart.noShadow(this),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),a&&a.length){var h=DxChart.getTextInfo({object:this,prefix:"labels"});for(e=0;e<this.angles.length;++e){var l=this.angles[e];if("string"==typeof a[e]||"number"==typeof a[e]){this.context.moveTo(o,r);var c=l[0]+(l[1]-l[0])/2,x=(l[1]-l[0])/2+l[0];if("object"==typeof t.exploded&&t.exploded[e]||"number"==typeof t.exploded){l[1],l[0];var d="number"==typeof t.exploded?t.exploded:t.exploded[e],u=Math.cos(x)*d,g=Math.sin(x)*d}else u=0,g=0;t.labelsSticks&&(u+=Math.cos(x)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength),g+=Math.sin(x)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength));var p=o+u+(n+10+t.labelsRadiusOffset)*Math.cos(c)+(t.labelsSticks?c<DxChart.HALFPI||c>DxChart.TWOPI+DxChart.HALFPI?2:-2:0),f=r+g+(n+10+t.labelsRadiusOffset)*Math.sin(c);if(this.coordsSticks&&this.coordsSticks[e])p=this.coordsSticks[e][4][0]+(p<o?-5:5),f=this.coordsSticks[e][4][1];s="center",i=p<o?"right":"left",this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:p,y:f,text:a[e],valign:s,halign:i,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e})})}}this.context.fill()}},this.drawLabelsList=function(){for(var t=this.properties,e=(this.angles[n],t.labelsData),i=[],s=[],a=this.centerx,o=this.centery,r=this.radius,n=0;n<this.angles.length;++n)if(!DxChart.isNull(this.data[n])){var h=this.angles[n][0]+(this.angles[n][1]-this.angles[n][0])/2,l=DxChart.getRadiusEndPoint(a,o,h,r+5),c=DxChart.getRadiusEndPoint(a,o,h,r+30),x=["number"==typeof t.exploded?t.exploded:t.exploded[n],Math.cos(h)*("number"==typeof t.exploded?t.exploded:t.exploded[n]),Math.sin(h)*("number"==typeof t.exploded?t.exploded:t.exploded[n])],d=DxChart.getTextInfo({object:this,prefix:"labels"});h>-1*DxChart.HALFPI&&h<DxChart.HALFPI?i.push([n,h,e[n]?e[n]:"",l,c,d.color,DxChart.arrayClone(x)]):s.push([n,h,e[n]?e[n]:"",l,c,d.color,DxChart.arrayClone(x)])}for(var u=(this.canvas.height-t.marginTop-t.marginBottom)/i.length,g=(n=0,t.marginTop+u/2);n<i.length;g+=u,n++)if(i[n][2]){var p=this.centerx+this.radius+50,f=(i[n][0],i[n][6][0]?i[n][6][1]:0),m=i[n][6][0]?i[n][6][2]:0;if((_=DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:p+f+t.labelsListRightOffsetX,y:g+m+t.labelsListRightOffsetY,text:i[n][2],valign:"center",halign:"left",tag:"labels",color:i[n][5],cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:n})}))&&_.node&&(_.node.__index__=i[n][0]),"curve"!=t.labelsStickStyle){var b=_.x-5,C=_.y+_.height/2,y=b-(T=i[n][3][0]),v=(P=i[n][3][1],Math.abs(.4*y)),D=Math.abs(.6*y),S=P,k=C;y<0?(R=T-v,L=T-D):(R=T+v,L=T+D),this.path("lw % b m % % l % % l % % l % % s %",t.labelsSticksLineWidth,T,P,R,S,L,k,b,C,i[n][5])}else this.path("lc round lw % b m % % qc % % % % s %",t.labelsSticksLineWidth,i[n][3][0]+f,i[n][3][1]+m,i[n][4][0]+f,i[n][4][1]+m,_.x-5,_.y+_.height/2,i[n][5]);this.path("b a % % 2 0 6.2830 false, f %",_.x-5,_.y+_.height/2,i[n][5])}var w=(this.canvas.height-t.marginTop-t.marginBottom)/s.length;for(n=s.length-1,g=t.marginTop+w/2;n>=0;g+=w,n--)if(s[n][2]){var _;p=this.centerx-this.radius-50,s[n][0],f=s[n][6][0]?s[n][6][1]:0,m=s[n][6][0]?s[n][6][2]:0;if((_=DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:p+f+t.labelsListLeftOffsetX,y:g+m+t.labelsListLeftOffsetY,text:s[n][2],valign:"center",halign:"right",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:n})}))&&_.node&&(_.node.__index__=s[n][0]),"curve"!=t.labelsStickStyle){var T,P,R,L;b=_.x+5+_.width,C=_.y+_.height/2,y=b-(T=s[n][3][0]),P=s[n][3][1],v=Math.abs(.4*y),D=Math.abs(.6*y),S=P,k=C;y<0?(R=T-v,L=T-D):(R=T+v,L=T+D),this.path("lw % b m % % l % % l % % l % % s %",t.labelsSticksLineWidth,T,P,R,S,L,k,b,C,s[n][5])}else this.path("lw % b m % % qc % % % % s %",t.labelsSticksLineWidth,s[n][3][0]+f,s[n][3][1]+m,s[n][4][0]+f,Math.round(s[n][4][1]+m),_.x+5+_.width,_.y+_.height/2,s[n][5]);this.path("b a % % 2 0 6.2830 false, f %",_.x+5+_.width,_.y+_.height/2,s[n][5])}},this.drawSticks=function(){for(var t=this.properties,e=t.lineWidth/2,i=t.exploded,s=t.labelsSticks,a=(t.colors,this.centerx),o=this.centery,r=this.radius,n=[],h=t.labelsSticksLineWidth,l=0,c=this.angles.length;l<c;++l){var x=this.angles[l];if("object"!=typeof s||s[l]){var d=x[1]-x[0];this.context.beginPath(),this.context.strokeStyle="string"==typeof t.labelsSticksColors?t.labelsSticksColors:DxChart.isNull(t.labelsSticksColors)?"gray":t.labelsSticksColors[l],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=h,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"string"==typeof t.labelsSticksColor&&(this.context.strokeStyle=t.labelsSticksColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle));var u=x[0]+d/2;if("object"==typeof i&&i[l])var g=i[l];else if("number"==typeof i)g=i;else g=0;var p="object"==typeof t.labelsSticksLength?t.labelsSticksLength[l]:t.labelsSticksLength;n[0]=DxChart.getRadiusEndPoint(a,o,u,r+g+e),n[1]=DxChart.getRadiusEndPoint(a,o,u,r+p+g-5),n[2]=DxChart.getRadiusEndPoint(a,o,u,r+p+g+t.labelsRadiusOffset),n[3]=DxChart.getRadiusEndPoint(a,o,u,r+p+g+t.labelsRadiusOffset),n[3][0]+=n[3][0]>a?5:-5,n[4]=[n[2][0]+(n[2][0]>a?5+t.labelsSticksHlength:-5-t.labelsSticksHlength),n[2][1]],this.context.moveTo(n[0][0],n[0][1]),"curve"!=t.labelsStickStyle?(this.context.lineTo(n[2][0],n[2][1]),this.context.lineTo(n[4][0],n[4][1])):this.context.quadraticCurveTo(n[2][0],n[2][1],n[4][0],n[4][1]),this.context.stroke(),this.coordsSticks[l]=[n[0],n[1],n[2],n[3],n[4]]}}},this.getShape=function(t){var e=this.properties,i=(arguments[1]&&arguments[1],this.canvas,this.context),s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(this.radius,this.angles);isNexacroRuntime&&(r=this.angles2);for(var n=0,h=r.length;n<h;++n)if(this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&i.setElementStrokeStyle("rgba(0,0,0,0)"),this.context.arc(r[n][2],r[n][3],this.radius,r[n][0],r[n][1],!1),"pie"===this.type&&-1!==e.variantValue.indexOf("donut")?isNexacroRuntime?this.context.lineTo(r[n][2],r[n][3]):this.context.arc(r[n][2],r[n][3],"number"==typeof e.variantDonutWidth?this.radius-e.variantDonutWidth:this.radius/2,r[n][1],r[n][0],!0):this.context.lineTo(r[n][2],r[n][3]),this.context.closePath(),this.context.isPointInPath(a,o)){if(r[n][0]<0&&(r[n][0]+=DxChart.TWOPI),r[n][1]>DxChart.TWOPI&&(r[n][1]-=DxChart.TWOPI),DxChart.parseTooltipText&&e.tooltipsData)var l=DxChart.parseTooltipText(e.tooltipsData,n);return{object:this,x:r[n][2],y:r[n][3],radius:this.radius,angleStart:r[n][0],angleEnd:r[n][1],index:n,dataset:0,sequentialIndex:n,label:e.labelsData&&"string"==typeof e.labelsData[n]?e.labelsData[n]:null,tooltip:"string"==typeof l?l:null}}return null},this.getRadius=function(){var t=this.properties;return this.graph={width:this.canvas.width-t.marginLeft-t.marginRight,height:this.canvas.height-t.marginTop-t.marginBottom},"number"==typeof t.radius?this.radius=t.radius:this.radius=Math.min(this.graph.width,this.graph.height)/2,"string"==typeof t.radius&&(this.radius=this.radius+parseFloat(t.radius)),this.radius},this.explodeSegment=function(t,e){var i=this.properties;if("number"!=typeof this.exploding||this.exploding!==t){if(i.exploded||(i.exploded=[]),"number"==typeof i.exploded){var s=i.exploded,a=i.exploded;i.exploded=[];for(var o=0,r=this.data.length;o<r;++o)i.exploded[o]=a}i.exploded[t]="number"==typeof s?s:0,this.exploding=t;for(var n=DxChart.ISIE?25:16.666,h=this,l=0;l<e;++l)isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n):setTimeout(function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n);h=this;isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){h.exploding=null},e*n):setTimeout(function(){h.exploding=null},e*n)}},this.highlight_segment=function(t){this.context.beginPath(),this.context.strokeStyle=properties.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=properties.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(t[0],t[1]),this.context.arc(t[0],t[1],t[2],this.angles[t[5]][0],this.angles[t[5]][1],0),this.context.lineTo(t[0],t[1]),this.context.closePath(),this.context.stroke(),this.context.fill()},this.highlight=function(t){},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.drawCenterpin=function(){var t=this.properties;if("number"==typeof t.centerpin&&t.centerpin>0){var e=this.centerx,i=this.centery;this.context.beginPath(),this.context.strokeStyle=t.centerpinStroke?t.centerpinStroke:t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.centerpinFill?t.centerpinFill:t.colorsStroke,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(e,i),this.context.arc(e,i,t.centerpin,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill()}},this.drawInGraphLabels=function(){var t,e=this.properties,i=(this.context,this.centerx,this.centery,e.labelsIngraphRadius);if(this.set("labelsIngraphUndrawn",[]),DxChart.isNumber(e.labelsIngraphRadiusOffset)?e.labelsIngraphRadiusOffset:0,t=i<=2&&i>0?i:.5,"donut"==e.variantValue){var s=this.radius*(.5+.5*t);if("number"==typeof e.variantDonutWidth)s=this.radius-e.variantDonutWidth+e.variantDonutWidth/2}else s=this.radius*t;i>2&&(s=i);for(var a=0,o=this.angles.length;a<o;++a){if("object"==typeof e.exploded&&"number"==typeof e.exploded[a])var r=e.exploded[a];else if("number"==typeof e.exploded)r=parseInt(e.exploded);else r=0;var n=this.angles[a][0],h=(this.angles[a][1]-n)/2+n;"flow"==e.transformType?h+=.08:isNexacroRuntime||"flat"!=e.transformType&&"fold"!=e.transformType||(h-=.24);var l=DxChart.getRadiusEndPoint(this.centerx,this.centery,h,s+(r||0)+(e.labelsIngraphRadiusOffset||0)),c=l[0],x=l[1],d=e.labelsIngraphSpecific&&"string"==typeof e.labelsIngraphSpecific[a]?e.labelsIngraphSpecific[a]:DxChart.numberFormat({object:this,number:this.data[a].toFixed(e.labelsIngraphDecimals),unitspre:e.labelsIngraphUnitsPre,unitspost:e.labelsIngraphUnitsPost,point:e.labelsIngraphPoint,thousand:e.labelsIngraphThousand});if(d){this.context.beginPath();var u=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),g=DxChart.text({object:this,font:u.font,size:u.size,color:"transparent",bold:u.bold,italic:u.italic,x:c,y:x,text:d,valign:"center",halign:"center",bounding:!1});this.context.stroke(),this.path("b lw 1 m % % a % % % % % false",this.centerx,this.centery,this.centerx,this.centery,1.2*this.radius,this.angles[a][0],this.angles[a][1]);g.x,g.y,g.width,g.height;this.context.beginPath();g=DxChart.text({object:this,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:c,y:x,text:d,valign:"center",halign:"center",bounding:e.labelsIngraphBounding,boundingFill:e.labelsIngraphBoundingFill,boundingStroke:e.labelsIngraphBoundingStroke,tag:"labels.ingraph"});this.context.stroke()}}},this.drawCenterLabel=function(t){var e=this.properties,i=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});t=DxChart.numberFormat({object:this,number:t,unitspre:e.labelsCenterUnitsPre,unitspost:e.labelsCenterUnitsPost,point:e.labelsCenterPoint,thousand:e.labelsCenterThousand}),DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:this.centerx+e.labelsCenterOffsetX,y:this.centery+e.labelsCenterOffsetY,halign:"center",valign:"center",text:t,bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels.center"})},this.getAngle=function(t){var e=this.properties;if(t>this.total)return null;var i=t/this.total*DxChart.TWOPI;return i+=e.origin},this.parseColors=function(){var t=this.properties;this.original_colors.colors||(this.original_colors={},this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightStyleTwodFill=DxChart.arrayClone(t.highlightStyleTwodFill),this.original_colors.highlightStyleTwodStroke=DxChart.arrayClone(t.highlightStyleTwodStroke),this.original_colors.labelsIngraphBoundingFill=DxChart.arrayClone(t.labelsIngraphBoundingFill),this.original_colors.labelsIngraphColor=DxChart.arrayClone(t.labelsIngraphColor));var e=t.keyColors;if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(this.original_colors.keyColors[i]);t.colorsStroke=this.parseSingleColorForGradient(this.original_colors.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(this.original_colors.highlightStroke),t.highlightStyleTwodFill=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodFill),t.highlightStyleTwodStroke=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodStroke),t.labelsIngraphBoundingFill=this.parseSingleColorForGradient(this.original_colors.labelsIngraphBoundingFill),t.labelsIngraphColor=this.parseSingleColorForGradient(this.original_colors.labelsIngraphColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e,i=this.properties;if((e=isNexacroRuntime?this.angles2:this.angles)&&e[t]){var s=e[t],a=s[2],o=s[3],r=s[0],n=s[1];this.context.strokeStyle=i.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(i.keyInteractiveHighlightChartStroke),this.context.fillStyle=i.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(i.keyInteractiveHighlightChartFill),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(2),this.context.lineJoin="bevel",isNexacroRuntime&&this.context.setElementLineJoin("bevel"),this.context.beginPath(),this.context.moveTo(a,o),this.context.arc(a,o,this.radius,r,n,!1),isNexacroRuntime&&this.context.lineTo(a,o),this.context.closePath(),this.context.fill(),this.context.stroke()}},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"explode":this.explode(e,i);break;case"grow":this.grow(e,i);break;case"roundRobin":this.roundRobin(e,i);break;case"roundRobinSequential":this.roundRobinSequential(e,i);break;case"implode":this.implode(e,i);break;case"explodeSegment":this.explodeSegment(index,size)}},this.explode=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]?arguments[0]:{},i=arguments[1]?arguments[1]:function(){},s=e.frames?e.frames:30,a=0,o=Number("number"==typeof e.radius?e.radius:Math.max(this.canvas.width,this.canvas.height)),r=Number(t.get("exploded"))||0;r===o&&(r=0,this.set("exploded",0));var n=(o-r)/s;this.set("labels",null);var h=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("exploded",r+n*a),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(h,t.canvas):i(t))};return h(),this},this.grow=function(){var t=this.properties;this.cancelStopAnimation();var e=this,i=e.canvas,s=(arguments[0]?arguments[0]:{}).frames||30,a=0,o=arguments[1]?arguments[1]:function(){},r=e.getRadius();t.radius=0;var n=function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("radius",a/s*r),DxChart.redrawCanvas(i),a++<s?DxChart.Effects.updateCanvas(n,i):(DxChart.redrawCanvas(e.canvas),o(e)))};return n(),this},this.roundRobin=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=0,a=e.frames||30,o=(t.getRadius(),t.get("labelsData"));t.set("events",!1),t.set("labels",[]);var r=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("effectRoundrobinMultiplier",DxChart.Effects.getEasingMultiplier(a,s)),DxChart.redrawCanvas(t.canvas),s<a?(DxChart.Effects.updateCanvas(r,t.canvas),s++):(t.set({events:!0,labels:o}),DxChart.redrawCanvas(t.canvas),i(t)))};return r(),this},this.roundRobinSequential=function(){this.properties;var t=DxChart.getArgs(arguments,"options,callback");this.cancelStopAnimation();var e=this,i=t.options||{},s=t.callback||function(){},a=0,o=i.frames||20,r=this.getRadius(),n=this.get("labelsData");this.set("events",!1),this.set("labels",[]);r=2*Math.max(this.canvas.width,this.canvas.height);var h=function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(DxChart.redrawCanvas(e.canvas),isNexacroRuntime?e.path("b m % % a % % % % % false l % % f white",e.centerx,e.centery,e.centerx,e.centery,r,0-Math.PI+a/o*DxChart.TWOPI,Math.PI,e.centerx,e.centery):e.path("b m % % a % % % % % false f white",e.centerx,e.centery,e.centerx,e.centery,r,0-DxChart.HALFPI+a/o*DxChart.TWOPI,DxChart.TWOPI-DxChart.HALFPI),a<o?(DxChart.Effects.updateCanvas(h,e.canvas),a++):(e.set({events:!0,labels:n}),DxChart.redrawCanvas(e.canvas),s(e)))};return h(),this},this.implode=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0,o=(Number(this.get("exploded")),Math.max(this.canvas.width,this.canvas.height));o=Number(this.get("exploded"))||o;return Number(this.get("exploded"))===o&&(this.set("exploded",0),0),function e(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{var r=o-a/s*o;t.set("exploded",r),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(e,t.canvas):(DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i(t))}}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e,i){var s=this.properties;return{color:i[t.index],label:"object"==typeof s.tooltipsFormattedKeyLabels&&"string"==typeof s.tooltipsFormattedKeyLabels[t.index]?s.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=t.index,a=e.properties,o=DxChart.getCanvasXY(e.canvas),r=e.angles[s],n=(r[1]-r[0])/2+r[0];if(a.variantValue.indexOf("donut")>=0)if(DxChart.isNull(a.variantDonutWidth))var h=this.radius/2+this.radius/4;else h=this.radius-a.variantDonutWidth+a.variantDonutWidth/2;else h=.5*this.radius;var l="number"==typeof a.exploded?a.exploded:a.exploded[s],c=DxChart.getRadiusEndPoint(this.centerx,this.centery,n,h+(l||0));if(a.variantValue.indexOf("3d")>0){"number"===a.variantDonutWidth?a.variantDonutWidth:this.radius;c[0]=1.5*(c[0]-this.centerx)+this.centerx}isNexacroRuntime?(t.tooltip._upposition=!0,t.tooltip.set_left(o[0]+c[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(o[1]+c[1]-i.offsetHeight+e.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=o[0]+c[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=o[1]+c[1]-i.offsetHeight+e.properties.tooltipsOffsetY-10+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartBipolar(t){return DxChart._Base.call(this,t,"bipolar"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"default"),t.binddataset&&(this.binddataset=t.binddataset),this.coords=[],this.coords2=[],this.coordsLeft=[],this.coordsRight=[],this.coords2Left=[],this.coords2Right=[],this.max=0,this.stopAnimationRequested_left=!1,this.stopAnimationRequested_right=!1,this.properties.backgroundGrid=!0,this.properties.backgroundGridColor="#dddddd",this.properties.backgroundGridVlines=!0,this.properties.backgroundGridHlines=!0,this.properties.backgroundGridHlinesCount=null,this.properties.xaxisTickmarksCount=5,this.properties.xaxisLabelsCount=5,this.properties.xaxisLabels=!0,this.properties.highlightFill="rgba(255,255,255,0.7)",this.properties.marginInner=5,this.properties.marginInnerGrouped=3,this.resetData=function(t,e){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e));var i=[t,e];i[0]=DxChart.str2num(i[0]),i[1]=DxChart.str2num(i[1]),this.left=i[0],this.right=i[1],this.data=[i[0],i[1]],this.data2=[];for(var s=0;s<t.length;++s)this.data2.push(t[s]);for(s=0;s<e.length;++s)this.data2.push(e[s]);this.properties.yaxisTickmarksCount=this.left.length;var a=DxChart.arrayLinearize(this.left,this.right);for(s=0;s<a.length;++s)this["$"+s]={}},this.draw=function(){if(!this.left&&!this.right)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),this.marginCenter=t.marginCenter,this.marginCenterAuto=t.marginCenterAuto,t.yaxisLabels&&t.yaxisLabels.length){"string"==typeof t.yaxisLabels&&(t.yaxisLabels=DxChart.arrayPad({array:[],length:this.left.length,value:t.yaxisLabels}));for(var e=0;e<t.yaxisLabels.length;++e)t.yaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.yaxisLabels[e],index:e,value:this.left[e],decimals:t.yaxisLabelsFormattedDecimals||0,unitsPre:t.yaxisLabelsFormattedUnitsPre||"",unitsPost:t.yaxisLabelsFormattedUnitsPost||"",thousand:t.yaxisLabelsFormattedThousand||",",point:t.yaxisLabelsFormattedPoint||"."})}return t.marginCenterAuto&&!t.marginCenter&&(t.marginCenter=this.getMarginCenter()),this.marginCenter=t.marginCenter,this.left=this.data[0],this.right=this.data[1],this.coords=[],this.coords2=[],this.coordsLeft=[],this.coordsRight=[],this.coords2Left=[],this.coords2Right=[],this.coordsText=[],"3d"===t.variantValue&&(t.textAccessible||this.context.setTransform(1,t.variantThreedAngle,0,1,0,0)),this.axisWidth=(this.canvas.width-t.marginCenter-this.marginLeft-this.marginRight)/2,this.axisHeight=this.canvas.height-this.marginTop-this.marginBottom,this.sequentialFullIndex=0,this.getMax(),this.drawBackgroundGrid(),this.draw3DAxes(),this.drawAxes(),this.drawTicks(),this.drawLeftBars(),this.drawRightBars(),t.leftVisible&&this.drawLeftBars({shadow:!1}),t.rightVisible&&this.drawRightBars({shadow:!1}),this.drawAxes(),this.drawLabels(),this.drawTitles(),this.redraw3Dfaces(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.redraw3Dfaces=function(){var t=this.properties;if("3d"===t.variantValue){if(DxChart.isNull(t.colorsLeft)||(t.colorsInitial=t.colors,t.colors=t.colorsLeft),this.coordsLeft.length>0&&0===this.coords2Left.length)for(var e=0;e<this.coordsLeft.length;++e)this.path("b r % % % % f %",this.coordsLeft[e][0],this.coordsLeft[e][1],this.coordsLeft[e][2],this.coordsLeft[e][3],DxChart.parseGradient(this,t.colors[0],this.coordsLeft[e][0],this.coordsLeft[e][1],this.coordsLeft[e][2],this.coordsLeft[e][3],null,null,!0));else for(e=0;e<this.coords2Left.length;++e)for(var i=0;i<this.coords2Left[e].length;++i)this.path("b r % % % % f %",this.coords2Left[e][i][0],this.coords2Left[e][i][1],this.coords2Left[e][i][2],this.coords2Left[e][i][3],DxChart.parseGradient(this,t.colors[i],this.coordsLeft[e][i][0],this.coordsLeft[e][i][1],this.coordsLeft[e][i][2],this.coordsLeft[e][i][3],null,null,!0));DxChart.isNull(t.colorsLeft)||(t.colors=t.colorsInitial),DxChart.isNull(t.colorsRight)||(t.colorsInitial=t.colors,t.colors=t.colorsRight);var s=t.variantThreedOffsetX,a=t.variantThreedOffsetY;if(this.coordsRight.length>0&&0===this.coords2Right.length)for(e=0;e<this.coordsRight.length;++e){var o=this.coordsRight[e];this.path("b r % % % % f %",o[0],o[1],o[2],o[3],DxChart.parseGradient(this,t.colors[0],o[0],o[1],o[2],o[3],null,null,!1)),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a,o[0]+o[2]+s,o[1]-a+o[3],o[0]+o[2],o[1]+o[3],"rgba(0,0,0,0.3)")}else for(e=0;e<this.coords2Right.length;++e)for(i=this.coords2Right[e].length-1;i>=0;--i){o=this.coords2Right[e][i];this.path("b r % % % % f %",o[0],o[1],o[2],o[3],DxChart.parseGradient(this,t.colors[i],o[0],o[1],o[2],o[3],null,null,!1)),this.path("b m % % l % % l % % l % % f %",o[0],o[1],o[0]+s,o[1]-a,o[0]+o[2]+s,o[1]-a,o[0]+o[2],o[1],DxChart.parseGradient(this,t.colors[i],o[0],o[1],o[0]+o[2]+s,o[1]-a,null,null,!1)),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",o[0],o[1],o[0]+s,o[1]-a,o[0]+o[2]+s,o[1]-a,o[0]+o[2],o[1]),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a,o[0]+o[2]+s,o[1]-a+o[3],o[0]+o[2],o[1]+o[3],DxChart.parseGradient(this,t.colors[i],o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a+o[3],null,null,!1)),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a,o[0]+o[2]+s,o[1]-a+o[3],o[0]+o[2],o[1]+o[3],"rgba(0,0,0,0.3)")}DxChart.isNull(t.colorsRight)||(t.colors=t.colorsInitial)}},this.draw3DAxes=function(){var t=this.properties;if("3d"===t.variantValue){var e=t.variantThreedOffsetX,i=t.variantThreedOffsetY;this.context.lineWidth=t.axesLineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft,this.canvas.height-this.marginBottom,this.marginLeft+e,this.canvas.height-this.marginBottom-i,this.marginLeft+e+this.axisWidth,this.canvas.height-this.marginBottom-i,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom),this.draw3DLeftVerticalAxis(),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.marginCenter+this.axisWidth+e,this.canvas.height-this.marginBottom-i,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth+e,this.canvas.height-this.marginBottom-i,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth,this.canvas.height-this.marginBottom),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom-this.axisHeight,this.marginLeft+this.marginCenter+this.axisWidth+e,this.canvas.height-this.marginBottom-this.axisHeight-i,this.marginLeft+this.marginCenter+this.axisWidth+e,this.canvas.height-this.marginBottom-i)}},this.draw3DLeftVerticalAxis=function(){var t=this.properties;if("3d"===t.variantValue){var e=t.variantThreedOffsetX,i=t.variantThreedOffsetY;this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.axisWidth,this.marginTop,this.marginLeft+this.axisWidth+e,this.marginTop-i,this.marginLeft+this.axisWidth+e,this.canvas.height-this.marginBottom-i,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom)}},this.drawAxes=function(){var t=this.properties;if(this.context.lineWidth=t.axesLineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.axisWidth=(this.canvas.width-t.marginCenter-this.marginLeft-this.marginRight)/2,this.axisHeight=this.canvas.height-this.marginTop-this.marginBottom,t.axesUse){t.leftVisible&&(t.xaxisUse&&(this.context.moveTo(this.marginLeft,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom)),t.yaxisUse&&(this.context.moveTo(this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft+this.axisWidth,this.marginTop)),this.context.stroke()),this.context.beginPath();var e=this.marginLeft+this.axisWidth+t.marginCenter;t.rightVisible&&(t.yaxisUse&&(this.context.moveTo(e,this.marginTop),this.context.lineTo(e,this.canvas.height-this.marginBottom)),t.xaxisUse&&(this.context.moveTo(e,this.canvas.height-this.marginBottom),this.context.lineTo(this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom)),this.context.stroke())}},this.drawTicks=function(){var t=this.properties;this.context.lineWidth=t.axesLineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);var e=this.left.length,i=(this.canvas.height-this.marginTop-this.marginBottom-this.left.length*(2*t.marginInner))/e;if(this.barHeight=i,t.axesUse){if(t.yaxisUse&&t.yaxisTickmarksCount>0){if(t.leftVisible){this.context.beginPath();for(var s=0;s<t.yaxisTickmarksCount;++s){var a=t.marginTop+(this.canvas.height-this.marginTop-this.marginBottom)/t.yaxisTickmarksCount*s;this.context.moveTo(this.marginLeft+this.axisWidth,a),this.context.lineTo(this.marginLeft+this.axisWidth+3,a)}this.context.stroke()}if(t.rightVisible){this.context.beginPath();for(s=0;s<t.yaxisTickmarksCount;++s){a=t.marginTop+(this.canvas.height-this.marginTop-this.marginBottom)/t.yaxisTickmarksCount*s;this.context.moveTo(this.marginLeft+this.axisWidth+t.marginCenter,a),this.context.lineTo(this.marginLeft+this.axisWidth+t.marginCenter-3,a)}this.context.stroke()}t.xaxisUse||(t.leftVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+4,this.canvas.height-this.marginBottom,this.context.strokeStyle),t.rightVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+t.marginCenter,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+t.marginCenter-4,this.canvas.height-this.marginBottom,this.context.strokeStyle))}if(t.xaxisUse&&t.xaxisTickmarksCount>0){var o=this.axisWidth/t.xaxisTickmarksCount;if("number"==typeof t.xaxisTickmarksInterval&&(o=t.xaxisTickmarksInterval),t.leftVisible)for(s=this.marginLeft;s<this.marginLeft+this.axisWidth;s+=o)this.context.beginPath(),this.context.moveTo(s,this.canvas.height-this.marginBottom),this.context.lineTo(s,this.canvas.height-this.marginBottom+4),this.context.closePath(),this.context.stroke();if(t.rightVisible){var r=this.canvas.width-this.marginRight+1;for(s=this.marginLeft+this.axisWidth+t.marginCenter+o;s<=r;s+=o)this.context.beginPath(),this.context.moveTo(s,this.canvas.height-this.marginBottom),this.context.lineTo(s,this.canvas.height-this.marginBottom+4),this.context.closePath(),this.context.stroke()}t.yaxisUse||(t.leftVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom+4,this.context.strokeStyle),t.rightVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+t.marginCenter,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+t.marginCenter,this.canvas.height-this.marginBottom+4,this.context.strokeStyle))}}},this.getMax=function(){var t=this.properties;t.xaxisScaleDecimals;if(t.xaxisScaleMax){var e=t.xaxisScaleMax,i=t.xaxisScaleMin;this.scale2=DxChart.getScale({object:this,options:{"scale.max":e,"scale.min":i,"scale.strict":!0,"scale.thousand":t.xaxisScaleThousand,"scale.point":t.xaxisScalePoint,"scale.decimals":t.xaxisScaleDecimals,"scale.labels.count":t.xaxisLabelsCount,"scale.round":t.xaxisScaleRound,"scale.units.pre":t.xaxisScaleUnitsPre,"scale.units.post":t.xaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}else{e=1;for(var s=0;s<this.left.length;++s)"number"==typeof this.left[s]?e=Math.max(e,this.left[s]):DxChart.isNull(this.left[s])||(e=Math.max(e,"stacked"===t.grouping?DxChart.arraySum(this.left[s]):DxChart.arrayMax(this.left[s])));for(s=0;s<this.right.length;++s)"number"==typeof this.right[s]?e=Math.max(e,this.right[s]):DxChart.isNull(this.right[s])||(e=Math.max(e,"stacked"===t.grouping?DxChart.arraySum(this.right[s]):DxChart.arrayMax(this.right[s])));this.scale2=DxChart.getScale({object:this,options:{"scale.max":e,"scale.min":t.xaxisScaleMin,"scale.thousand":t.xaxisScaleThousand,"scale.point":t.xaxisScalePoint,"scale.decimals":t.xaxisScaleDecimals,"scale.labels.count":t.xaxisLabelsCount,"scale.round":t.xaxisScaleRound,"scale.units.pre":t.xaxisScaleUnitsPre,"scale.units.post":t.xaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}},this.drawLeftBars=function(){var t=this.properties;if(t.leftVisible){var e={};"object"==typeof arguments[0]?e.shadow=arguments[0].shadow:e.shadow=!0;var i,s=t.variantThreedOffsetX,a=t.variantThreedOffsetY;this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.isNull(t.colorsLeft)||(t.colorsInitial=t.colors,t.colors=t.colorsLeft);for(var o=0,r=0;o<this.left.length;++o){if(t.shadowUse&&"3d"!==t.variantValue&&e.shadow&&DxChart.setShadow({object:this,prefix:"shadow"}),"number"==typeof this.left[o]){var n=(this.left[o]-this.min)/(this.max-this.min)*this.axisWidth,h=[this.marginLeft+this.axisWidth-n,this.marginTop+o*(this.axisHeight/this.left.length)+t.marginInner,n,this.barHeight];i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],h[0],h[1],n,this.barHeight,null,null,!0):DxChart.parseGradient(this,t.colors[0],h[0],h[1],n,this.barHeight,null,null,!0),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),null!==this.left[o]&&(this.context.strokeRect(h[0],h[1],h[2],h[3]),this.context.fillRect(h[0],h[1],h[2],h[3])),"3d"===t.variantValue&&null!==this.left[o]&&(t.shadow&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",h[0]+s,h[1]-a,h[0]+s+h[2],h[1]-a,h[0]+s+h[2],h[1]-a+h[3],h[0]+s,h[1]-a+h[3])),i=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],h[0],h[1],n,this.barHeight,null,null,!0):DxChart.parseGradient(this,t.colors[0],h[0],h[1],n,this.barHeight,null,null,!0),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.path("b m % % l % % l % % l % % f",h[0],h[1],h[0]+s,h[1]-a,h[0]+s+h[2],h[1]-a,h[0]+h[2],h[1]),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",h[0],h[1],h[0]+s,h[1]-a,h[0]+s+h[2],h[1]-a,h[0]+h[2],h[1])),e.shadow||(this.coords.push([h[0],h[1],h[2],h[3]]),this.coordsLeft.push([h[0],h[1],h[2],h[3]])),r++}else if("object"==typeof this.left[o]&&"stacked"===t.grouping)for(var l=0,c=0;l<this.left[o].length;++l){var x=this.left[o][l],d=this.min,u=this.max,g=t.marginInner,p=(n=(x-d)/(u-d)*this.axisWidth,(b=this.axisHeight/this.left.length)-2*g),f=this.marginLeft+this.axisWidth-n-c,m=this.marginTop+g+o*b;c+=n,i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],f,m,n,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,n,p,null,null,!0),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),null!==this.left[o]&&(this.context.strokeRect(f,m,n,p),this.context.fillRect(f,m,n,p)),"3d"===t.variantValue&&null!==this.left[o]&&(t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",f+s,m-a,f+s+n,m-a,f+s+n,m-a+p,f+s,m-a+p)),i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],f,m,n,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,n,p,null,null,!0),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.path("b m % % l % % l % % l % % f",f,m,f+s,m-a,f+s+n,m-a,f+n,m),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",f,m,f+s,m-a,f+s+n,m-a,f+n,m)),e.shadow||(this.coords.push([f,m,n,p]),this.coordsLeft.push([f,m,n,p]),DxChart.isArray(this.coords2[o])||(this.coords2[o]=[]),this.coords2[o].push([f,m,n,p]),DxChart.isArray(this.coords2Left[o])||(this.coords2Left[o]=[]),this.coords2Left[o].push([f,m,n,p])),r++}else if("object"==typeof this.left[o]&&!DxChart.isNull(this.left[o]))for(l=0;l<this.left[o].length;++l){x=this.left[o][l],d=this.min,u=this.max,g=t.marginInner;var b,C=t.marginInnerGrouped;n=(x-d)/(u-d)*this.axisWidth,p=((b=this.axisHeight/this.left.length)-2*g-(this.left[o].length-1)*C)/this.left[o].length,f=this.marginLeft+this.axisWidth-n,m=this.marginTop+g+o*b+p*l+l*C;i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],f,m,n,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,n,p,null,null,!0),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),null!==this.left[o]&&(this.context.strokeRect(f,m,n,p),this.context.fillRect(f,m,n,p)),"3d"===t.variantValue&&null!==this.left[o]&&(t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",f+s,m-a,f+s+n,m-a,f+s+n,m-a+p,f+s,m-a+p)),i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],f,m,n,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,n,p,null,null,!0),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.path("b m % % l % % l % % l % % f",f,m,f+s,m-a,f+s+n,m-a,f+n,m),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",f,m,f+s,m-a,f+s+n,m-a,f+n,m)),e.shadow||(this.coords.push([f,m,n,p]),this.coordsLeft.push([f,m,n,p]),DxChart.isArray(this.coords2[o])||(this.coords2[o]=[]),this.coords2[o].push([f,m,n,p]),DxChart.isArray(this.coords2Left[o])||(this.coords2Left[o]=[]),this.coords2Left[o].push([f,m,n,p])),r++}this.draw3DLeftVerticalAxis()}DxChart.isNull(t.colorsLeft)||(t.colors=t.colorsInitial),DxChart.noShadow(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawRightBars=function(){var t=this.properties;if(t.rightVisible){var e={};"object"==typeof arguments[0]?e.shadow=arguments[0].shadow:e.shadow=!0;var i,s=t.variantThreedOffsetX,a=t.variantThreedOffsetY;this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.shadowUse&&"3d"!==t.variantValue&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),DxChart.isNull(t.colorsRight)||(t.colorsInitial=t.colors,t.colors=t.colorsRight);for(var o=0,r=DxChart.arrayLinearize(this.left).length;o<this.right.length;++o)if("number"==typeof this.right[o]){var n=(this.right[o]-this.min)/(this.max-this.min)*this.axisWidth,h=[this.marginLeft+this.axisWidth+t.marginCenter,t.marginInner+o*(this.axisHeight/this.right.length)+this.marginTop,n,this.barHeight];if(i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],h[0],h[1],n,this.barHeight):DxChart.parseGradient(this,t.colors[0],h[0],h[1],n,this.barHeight),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),null!==this.right[o]&&(this.context.strokeRect(h[0],h[1],h[2],h[3]),this.context.fillRect(h[0],h[1],h[2],h[3])),"3d"===t.variantValue&&null!==this.right[o]){var l=this.context.fillStyle;t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",h[0]+s,h[1]-a,h[0]+s+h[2],h[1]-a,h[0]+s+h[2],h[1]-a+h[3],h[0]+s,h[1]-a+h[3])),this.path("b m % % l % % l % % l % % f %",h[0],h[1],h[0]+s,h[1]-a,h[0]+s+h[2],h[1]-a,h[0]+h[2],h[1],l),this.path("b m % % l % % l % % l % % f %",h[0]+h[2],h[1],h[0]+h[2]+s,h[1]-a,h[0]+h[2]+s,h[1]-a+h[3],h[0]+h[2],h[1]+h[3],l),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",h[0],h[1],h[0]+s,h[1]-a,h[0]+s+h[2],h[1]-a,h[0]+h[2],h[1]),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",h[0]+h[2],h[1],h[0]+h[2]+s,h[1]-a,h[0]+h[2]+s,h[1]-a+h[3],h[0]+h[2],h[1]+h[3])}e.shadow||(this.coords.push([h[0],h[1],h[2],h[3]]),this.coordsRight.push([h[0],h[1],h[2],h[3]])),r++}else if("object"==typeof this.left&&"stacked"===t.grouping)for(var c=0,x=0;c<this.right[o].length;++c){var d=this.right[o][c],u=this.min,g=this.max,p=t.marginInner,f=(n=(d-u)/(g-u)*this.axisWidth,(C=this.axisHeight/this.right.length)-2*p),m=this.marginLeft+this.axisWidth+t.marginCenter+x,b=this.marginTop+p+o*C;if(x+=n,i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],m,b,n,f):DxChart.parseGradient(this,t.colors[c],m,b,n,f),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),null!==this.right[o]&&(this.context.strokeRect(m,b,n,f),this.context.fillRect(m,b,n,f)),"3d"===t.variantValue&&null!==this.right[o]){l=this.context.fillStyle;t.shadowUse&&e.shadow&&(DxChart.setShadow({object:this,prefix:"shadow"}),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",m+s,b-a,m+s+n,b-a,m+s+n,b-a+f,m+s,b-a+f)),this.path("b m % % l % % l % % l % % f %",m,b,m+s,b-a,m+s+n,b-a,m+n,b,l),c===this.right[o].length-1&&(this.path("b m % % l % % l % % l % % f %",m+n,b,m+n+s,b-a,m+n+s,b-a+f,m+n,b+f,l),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",m+n,b,m+n+s,b-a,m+n+s,b-a+f,m+n,b+f)),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",m,b,m+s,b-a,m+s+n,b-a,m+n,b)}e.shadow||(this.coords.push([m,b,n,f]),DxChart.isArray(this.coords2[r])||(this.coords2[r]=[]),this.coords2[r].push([m,b,n,f]),this.coordsRight.push([m,b,n,f]),DxChart.isArray(this.coords2Right[o])||(this.coords2Right[o]=[]),this.coords2Right[o].push([m,b,n,f])),r++}else if("object"==typeof this.right[o])for(c=0;c<this.right[o].length;++c){d=this.right[o][c],u=this.min,g=this.max,p=t.marginInner;var C,y=t.marginInnerGrouped;n=(d-u)/(g-u)*this.axisWidth,f=((C=this.axisHeight/this.right.length)-2*p-(this.right[o].length-1)*y)/this.right[o].length,m=this.marginLeft+this.axisWidth+t.marginCenter,b=this.marginTop+p+o*C+f*c+c*y;if(i=t.colorsSequential?DxChart.parseGradient(this,t.colors[r],m,b,n,f):DxChart.parseGradient(this,t.colors[c],m,b,n,f),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),null!==this.right[o]&&(this.context.strokeRect(m,b,n,f),this.context.fillRect(m,b,n,f)),e.shadow||(this.coords.push([m,b,n,f]),this.coordsRight.push([m,b,n,f]),DxChart.isArray(this.coords2[this.left.length+o])||(this.coords2[this.left.length+o]=[]),this.coords2[this.left.length+o].push([m,b,n,f]),DxChart.isArray(this.coords2Right[o])||(this.coords2Right[o]=[]),this.coords2Right[o].push([m,b,n,f])),r++,"3d"===t.variantValue&&null!==this.right[o]){l=this.context.fillStyle;t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",m+s,b-a,m+s+n,b-a,m+s+n,b-a+f,m+s,b-a+f)),this.path("b m % % l % % l % % l % % f %",m,b,m+s,b-a,m+s+n,b-a,m+n,b,l),this.path("b m % % l % % l % % l % % f %",m+n,b,m+n+s,b-a,m+n+s,b-a+f,m+n,b+f,l),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",m,b,m+s,b-a,m+s+n,b-a,m+n,b),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",m+n,b,m+n+s,b-a,m+n+s,b-a+f,m+n,b+f)}}DxChart.isNull(t.colorsRight)||(t.colors=t.colorsInitial),DxChart.noShadow(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawLabels=function(){var t=this.properties,e=t.yaxisLabels,i=this.canvas.height-this.marginTop-this.marginBottom,s=DxChart.getTextInfo({object:this,prefix:"yaxisLabels"});this.context.fillStyle=s.color,isNexacroRuntime&&this.context.setElementFillStyle(s.color);for(var a=0,o=e.length;a<o;++a)DxChart.text({object:this,color:s.color,font:s.font,size:s.size,bold:s.bold,italic:s.italic,x:isNexacroRuntime?this.marginLeft+this.axisWidth+t.marginCenter/2+t.yaxisLabelsOffsetX+t.marginCenter/8:this.marginLeft+this.axisWidth+t.marginCenter/2+t.yaxisLabelsOffsetX,y:this.marginTop+i/e.length*a+i/e.length/2+t.yaxisLabelsOffsetY,text:String(e[a]?String(e[a]):""),halign:"center",valign:"center",marker:!1,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"yaxisLabelsClass",index:a})});if(this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(t.textColor),t.xaxisLabels){var r=(this.canvas.width-t.marginCenter-this.marginLeft-this.marginRight)/2;s=DxChart.getTextInfo({object:this,prefix:"xaxisLabels"});if(t.leftVisible||t.rightVisible)for(a=0;a<this.scale2.labels.length;++a)t.leftVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+r/this.scale2.labels.length*a-t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,this.scale2.values[this.scale2.values.length-a-1]):this.scale2.labels[this.scale2.labels.length-a-1],valign:"top",halign:"center",tag:"scale"}),t.rightVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+r+t.marginCenter+r/this.scale2.labels.length*(a+1)+t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:this.scale2.labels[a],text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,this.scale2.values[a]):this.scale2.labels[a],valign:"top",halign:"center",tag:"scale"});t.xaxisScaleZerostart&&(t.leftVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+this.axisWidth-t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,0):DxChart.numberFormat({object:this,number:(0).toFixed(t.xaxisScaleDecimals),unitspre:t.xaxisScaleUnitsPre,unitspost:t.xaxisScaleUnitsPost}),valign:"top",halign:"center",tag:"scale"}),t.rightVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+this.axisWidth+this.marginCenter+t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,0):DxChart.numberFormat({object:this,number:(0).toFixed(t.xaxisScaleDecimals),unitspre:t.xaxisScaleUnitsPre,unitspost:t.xaxisScaleUnitsPost}),valign:"top",halign:"center",tag:"scale"}))}t.labelsAbove&&this.drawLabelsAbove()},this.drawLabelsAbove=function(){for(var t=this.properties,e=this.coordsLeft,i=this.coordsRight,s=DxChart.getTextInfo({object:this,prefix:"labelsAbove"}),a=0,o=0;a<e.length;++a,++o)if("number"==typeof this.left[a]){var r=this.coords[o];DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]-5-t.labelsAboveOffsetX,y:r[1]+r[3]/2+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.left[a]):DxChart.numberFormat({object:this,number:this.left[a].toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"right",tag:"labels.above"})}else if("object"==typeof this.left[a]){for(var n=0;n<this.left[a].length;++n,++o)if("stacked"!==t.grouping||n===this.left[a].length-1){r=e[o];DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]-5-t.labelsAboveOffsetX,y:r[1]+r[3]/2+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.left[a][n]):DxChart.numberFormat({object:this,number:DxChart.isNull(this.left[a][n])||isNaN(this.left[a][n])?"":("stacked"===t.grouping?DxChart.arraySum(this.left[a]):Number(this.left[a][n])).toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"right",tag:"labels.above"})}o--}for(a=0,o=0;a<i.length;++a,++o)if("number"==typeof this.right[a]){r=i[o];DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]+r[2]+5+("3d"===t.variantValue?10:0)+t.labelsAboveOffsetX,y:r[1]+r[3]/2+("3d"===t.variantValue?-5:0)+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.right[a]):DxChart.numberFormat({object:this,number:this.right[a].toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"left",tag:"labels.above"})}else if("object"==typeof this.right[a]){for(n=0;n<this.right[a].length;++n,++o)if("stacked"!==t.grouping||n===this.right[a].length-1){r=i[o];DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]+r[2]+5+("3d"===t.variantValue?10:0)+t.labelsAboveOffsetX,y:r[1]+r[3]/2+("3d"===t.variantValue?-5:0)+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.right[a][n]):DxChart.numberFormat({object:this,number:DxChart.isNull(this.right[a][n])||isNaN(this.right[a][n])?"":"stacked"===t.grouping?DxChart.arraySum(this.right[a]).toFixed(t.labelsAboveDecimals):Number(this.right[a][n]).toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"left",tag:"labels.above"})}--o}},this.drawTitles=function(){var t=this.properties;if(t.titleLeft=String(t.titleLeft),t.titleRight=String(t.titleRight),t.titleText=String(t.titleText),t.titleLeft){var e=DxChart.getTextInfo({object:this,prefix:"titleLeft"});DxChart.text({object:this,font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color,x:this.marginLeft+5+t.titleLeftOffsetX,y:this.marginTop-5+t.titleLeftOffsetY,text:t.titleLeft,halign:"left",valign:"bottom",tag:"title.left"})}if(t.titleRight){e=DxChart.getTextInfo({object:this,prefix:"titleRight"});DxChart.text({object:this,font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color,x:this.canvas.width-this.marginRight-5+t.titleRightOffsetX,y:this.marginTop-5+t.titleRightOffsetY,text:t.titleRight,halign:"right",valign:"bottom",tag:"title.right"})}t.titleText&&DxChart.drawTitle(this,t.titleText,this.marginTop,null,"number"==typeof t.titleFontStyleObj.size?t.titleFontStyleObj.size:null)},this.getShape=function(t){for(var e=this.properties,i=(this.canvas,this.context,DxChart.getMouseXY(t)),s=0,a=0;a<this.coords.length;a++){var o=i[0],r=i[1],n=this.coords[a][0],h=this.coords[a][1],l=this.coords[a][2],c=this.coords[a][3];if(isNexacroRuntime&&"3d"===e.variantValue)return;if(this.context.beginPath(),this.context.rect(n,h,l,c),this.context.isPointInPath(o,r)){if(DxChart.parseTooltipText)var x=DxChart.parseTooltipText(e.tooltipsData,a);var d=DxChart.sequentialIndexToGrouped(a,this.data2),u=d[0],g=d[1],p=u;return u+1>this.left.length&&(p-=this.left.length,s=1),{object:this,x:n,y:h,width:l,height:c,tooltip:"string"==typeof x?x:null,side:s,sequentialIndex:a,index:g,dataset:u,dataset2:p,label:e.yaxisLabels&&"string"==typeof e.yaxisLabels[p]?e.yaxisLabels[p]:null}}}return null},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle&&t.sequentialIndex>=0)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else DxChart.Highlight.rect(this,t)},this.getValue=function(t){var e=this.properties,i=(t.target.__object__,DxChart.getMouseXY(t)[0]);if(i>this.marginLeft&&i<this.canvas.width/2-e.marginCenter/2){var s=(i-e.marginLeft)/this.axisWidth;s=this.max-s*this.max}if(i<this.canvas.width-this.marginRight&&i>this.canvas.width/2+e.marginCenter/2){s=(i-e.marginLeft-this.axisWidth-e.marginCenter)/this.axisWidth;s*=this.max}return s},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);if("3d"===e.variantValue&&!e.textAccessible){var s=e.variantThreedAngle*i[0];i[1]-=s}if(i[0]>e.marginLeft&&i[0]<this.canvas.width-e.marginRight&&i[1]>e.marginTop&&i[1]<this.canvas.height-e.marginBottom)return this},this.getXCoord=function(t){if(t>this.max||t<0)return null;var e=[],i=t/this.max*this.axisWidth;return e[0]=this.marginLeft+this.axisWidth-i,e[1]=this.canvas.width-this.marginRight-this.axisWidth+i,e},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.axesColor=DxChart.arrayClone(t.axesColor),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.colorsLeft=DxChart.arrayClone(t.colorsLeft),this.original_colors.colorsRight=DxChart.arrayClone(t.colorsRight)),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.axesColor=this.parseSingleColorForGradient(t.axesColor),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke)},this.reset=function(){},this.drawBackgroundGrid=function(){var t=this.properties;if(t.backgroundGrid){var e=t.variantValue,i=t.backgroundGridColor,s=t.xaxisLabelsCount,a=this.left.length,o=t.backgroundGridVlines,r=t.backgroundGridHlines,n=t.backgroundGridLineWidth;if("number"==typeof t.backgroundGridHlinesCount&&(a=t.backgroundGridHlinesCount),"number"==typeof t.backgroundGridVlinesCount&&(s=t.backgroundGridVlinesCount),this.context.lineWidth=n,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"3d"==e&&(this.context.save(),this.context.translate(t.variantThreedOffsetX,-1*t.variantThreedOffsetY)),t.leftVisible){if(o)for(var h=0;h<=s;h+=1)this.path("b m % % l % % s %",this.marginLeft+this.axisWidth/s*h,this.marginTop,this.marginLeft+this.axisWidth/s*h,this.marginTop+this.axisHeight,i);if(r)for(h=0;h<=a;h+=1)this.path("b m % % l % % s %",this.marginLeft,this.marginTop+this.axisHeight/a*h,this.marginLeft+this.axisWidth,this.marginTop+this.axisHeight/a*h,i)}if(t.rightVisible){var l=this.axisWidth;if(o)for(h=0;h<=s;h+=1)this.path("b m % % l % % s %",this.marginLeft+this.marginCenter+l+this.axisWidth/s*h,this.marginTop,this.marginLeft+this.marginCenter+l+this.axisWidth/s*h,this.marginTop+this.axisHeight,i);if(r)for(h=0;h<=a;h+=1)this.path("b m % % l % % s %",this.marginLeft+l+this.marginCenter,this.marginTop+this.axisHeight/a*h,this.marginLeft+this.axisWidth+this.marginCenter+l,this.marginTop+this.axisHeight/a*h,i)}"3d"==e&&this.context.restore()}},this.firstDrawFunc=function(){},this.getMarginCenter=function(){for(var t=this.properties,e="boolean"==typeof t.yaxisLabelsFontStyleObj.bold?t.yaxisLabelsFontStyleObj.bold:t.textFontStyleObj.bold,i="string"==typeof t.yaxisLabelsFontStyleObj.face?t.yaxisLabelsFontStyleObj.face:t.textFontStyleObj.face,s="number"==typeof t.yaxisLabelsFontStyleObj.size?t.yaxisLabelsFontStyleObj.size:t.textFontStyleObj.size,a=0,o=0;a<t.yaxisLabels.length;++a)o=Math.max(o,DxChart.measureText(t.yaxisLabels[a],e,i,s)[0]);return o+15},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i);break;case"wave":this.wave(e,i)}},this.grow=function(){var t=this.properties;this.cancelStopAnimation();var e=(arguments[0]||{}).frames||20,i=0,s=arguments[1]||function(){},a=this,o=DxChart.arrayClone(this.left),r=DxChart.arrayClone(this.right);if(DxChart.isNull(t.xaxisScaleMax)){this.getMax(),this.set("xaxisScaleMax",this.scale2.max)}return function t(){if(a.stopAnimationRequested_left||a.stopAnimationRequested_right)return a.stopAnimationRequested_left=!1,a.stopAnimationRequested_right=!1,a.left=DxChart.arrayClone(o),void(a.right=DxChart.arrayClone(r));for(var n=DxChart.Effects.getEasingMultiplier(e,i),h=0;h<a.left.length;h++)if("number"==typeof a.left[h])a.left[h]=n*o[h];else for(var l=0;l<a.left[h].length;++l)a.left[h][l]=n*o[h][l];for(h=0;h<a.right.length;h++)if("number"==typeof a.right[h])a.right[h]=n*r[h];else for(l=0;l<a.right[h].length;++l)a.right[h][l]=n*r[h][l];DxChart.redrawCanvas(a.canvas),i<e?(i++,DxChart.Effects.updateCanvas(t,a.canvas)):s(a)}(),this},this.wave=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{};e.frames=e.frames||120,e.startFrames_left=[],e.startFrames_right=[],e.counters_left=[],e.counters_right=[];for(var i=e.frames/3,s=-1,a=-1,o=arguments[1]||function(){},r=DxChart.arrayClone(t.left),n=DxChart.arrayClone(t.right),h=0,l=t.left.length;h<l;h+=1)e.startFrames_left[h]=e.frames/3/(t.left.length-1)*h,e.startFrames_right[h]=e.frames/3/(t.right.length-1)*h,e.counters_left[h]=0,e.counters_right[h]=0;t.draw(),t.set("xaxisScaleMax",t.scale2.max),DxChart.clear(t.canvas);for(h=0,l=t.left.length;h<l;h+=1)"number"==typeof t.left[h]&&(t.left[h]=0),"number"==typeof t.right[h]&&(t.right[h]=0);return function a(){if(t.stopAnimationRequested_left)return t.stopAnimationRequested_left=!1,void(t.left=DxChart.arrayClone(r));++s;for(var o=0,n=t.left.length;o<n;o+=1)if(s>e.startFrames_left[o]){var h=DxChart.isNull(t.left[o]);if("number"==typeof t.left[o])t.left[o]=Math.min(Math.abs(r[o]),Math.abs(r[o]*(e.counters_left[o]++/i))),r[o]<0&&(t.left[o]*=-1);else if(DxChart.isArray(t.left[o]))for(var l=0;l<t.left[o].length;++l)t.left[o][l]=Math.min(Math.abs(r[o][l]),Math.abs(r[o][l]*(e.counters_left[o]++/i))),r[o][l]<0&&(t.left[o][l]*=-1);h&&(t.left[o]=null)}else t.left[o]="object"==typeof t.left[o]&&t.left[o]?DxChart.arrayPad([],t.left[o].length,0):DxChart.isNull(t.left[o])?null:0;s<e.frames&&(DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(a,t.canvas))}(),function s(){if(t.stopAnimationRequested_right)return t.stopAnimationRequested_right=!1,void(t.right=DxChart.arrayClone(n));++a;for(var r=0,h=t.right.length;r<h;r+=1)if(a>e.startFrames_right[r]){var l=DxChart.isNull(t.right[r]);if("number"==typeof t.left[r])t.right[r]=Math.min(Math.abs(n[r]),Math.abs(n[r]*(e.counters_right[r]++/i))),n[r]<0&&(t.right[r]*=-1),l&&(t.right[r]=null);else if(DxChart.isArray(t.right[r]))for(var c=0;c<t.right[r].length;++c)t.right[r][c]=Math.min(Math.abs(n[r][c]),Math.abs(n[r][c]*(e.counters_right[r]++/i))),n[r][c]<0&&(t.right[r][c]*=-1)}else t.right[r]="object"==typeof t.right[r]&&t.right[r]?DxChart.arrayPad([],t.right[r].length,0):DxChart.isNull(t.right[r])?null:0;a<e.frames?(DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(s,t.canvas)):o(this)}(),this},this.stopAnimation=function(){this.stopAnimationRequested_left=!0,this.stopAnimationRequested_right=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested_left=!1,this.stopAnimationRequested_right=!1},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data2);if(e[0]>=this.left.length)var i=e[0]-this.left.length,s="right",a=this.right[i];else{i=e[0],s="left";a=this.left[i]}return"number"==typeof a&&(a=[a]),{index:e[1],dataset:e[0],dataset2:i,sequentialIndex:t.index,value:"number"==typeof this.data2[t.index]?this.data2[t.index]:this.data2[e[0]][e[1]],values:a,side:s}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties;return{label:"object"==typeof this[t.dataset+1>this.left.length?"right":"left"][t.dataset2]?!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index],o=e.properties;if(isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),"3d"===o.variantValue){var r=a[0],n=(a[1],o.variantThreedAngle),h=Math.tan(n)*r;isNexacroRuntime?t.tooltip.set_top(parseInt(t.tooltip.getOffsetTop())+10+h):t.tooltip.style.top=parseInt(t.tooltip.style.top)+10+h+"px"}},this.resetData(t.left,t.right),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPyramid(t){return DxChart._Base.call(this,t,"pyramid"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"default"),this.properties.backgroundGrid=!1,this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.5)",this.properties.labelsPosition="left",this.properties.keyPosition="margin",this.properties.width=null,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t),this.data=t;for(var e=0;e<t.length;++e)this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this),this.coords=[],this.coordsText=[],DxChart.Background.draw(this),DxChart.drawTitle(this),this.drawPyramid(),t.contextmenu&&DxChart.showContext(this),this.drawLabels(),this.drawLabelsIngraph(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawPyramid=function(){var t,e,i=this.properties,s=this.canvas.width-this.marginLeft-this.marginRight,a=this.canvas.height-this.marginTop-this.marginBottom,o=(DxChart.arrayMax(this.data),DxChart.arraySum(this.data)),r=(this.marginTop,i.ratio),n=this.marginTop,h=a;switch(t=i.width&&i.width>10?i.width:r>30&&r<100?s*(.01*i.ratio):s,"volumn"==i.variantValue&&(h*=.7,t*=.8),i.halign){case"left":e=this.marginLeft+t/2;break;case"right":e=this.marginLeft+(s-t);break;default:e=this.marginLeft+s/2}this.graphCenterX=e,this.graphWidth=t,this.graphHeight=h,i.shadowUse&&(this.context.shadowColor=i.shadowStyleObj.color,this.context.shadowBlur=i.shadowStyleObj.blur,this.context.shadowOffsetX=i.shadowStyleObj.offsetX,this.context.shadowOffsetY=i.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY));var l,c,x,d=0,u=i.ascending;"volumn"==i.variantValue&&(u=!0);for(var g=0,p=this.data.length;g<p;g++){var f=(F=d/o)*h;E=u?F*t:(o-d)/o*t;var m=(F=(d+(j=this.data[g]))/o)*h;if(O=u?F*t:(o-(d+j))/o*t,l=i.colors[g],"volumn"==i.variantValue){var b=e-E/2,C=f+n,y=e+E/2,v=f+n,D=e+O/2,S=e-O/2,k=I=m+n,w=e,_=DxChart.getRadiusEndPoint(b,C,DxChart.HALFPI/3,w-b),T=DxChart.getRadiusEndPoint(S,k,DxChart.HALFPI/3,w-S),P=C+(_[1]-C),R=I+(T[1]-I);l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),x=DxChart._shadeColor(l,-20)):x=c=DxChart.parseGradient(this,l,b,C,y-b,R-C),this.context.strokeStyle=i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.path("fs % b m % % l % % l % % l % % c",c,b,C,w,P,w,R,S,k);var L=[b,C,w,P,w,R,S,k];i.shadowUse||this.context.stroke(),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",x,w,P,y,v,D,I,w,R),L=L.concat([w,P,y,v,D,I,w,R]),i.shadowUse||this.context.stroke(),this.context.fill(),this.coords.push(L)}else{b=e-E/2,C=f+n,y=e+E/2,v=f+n,D=e+O/2,S=e-O/2,k=I=m+n;"dual"==i.variantValue&&l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),x=DxChart._shadeColor(l,-20),this.path("fs % b m % % l % % l % % l % % c",x,b,C,e,C,e,I,S,I),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",l,e,C,y,C,D,I,e,I),this.context.fill(),i.shadowUse||(this.path("b m % % l % % l % % l % % c",b,C,y,v,D,I,S,k),this.context.stroke())):(l=u?DxChart.parseGradient(this,l,S,C,D-b,k-C):DxChart.parseGradient(this,l,b,C,y-b,k-C),this.context.strokeStyle=i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=l,isNexacroRuntime&&this.context.setElementFillStyle(l),this.path("b m % % l % % l % % l % % c",b,C,y,v,D,I,S,k),i.shadowUse||this.context.stroke(),this.context.fill()),this.coords.push([b,C,y,v,D,I,S,k])}d+=j}if(d=0,i.shadowUse){DxChart.noShadow(this);for(g=0,p=this.data.length;g<p;g++){var j,F,E;f=(F=d/o)*h;E=u?F*t:(o-d)/o*t;var O;m=(F=(d+(j=this.data[g]))/o)*h;if(O=u?F*t:(o-(d+j))/o*t,l=i.colors[g],"volumn"==i.variantValue){b=e-E/2,C=f+n,y=e+E/2,v=f+n,D=e+O/2,S=e-O/2,k=I=m+n,w=e,_=DxChart.getRadiusEndPoint(b,C,DxChart.HALFPI/3,w-b),T=DxChart.getRadiusEndPoint(S,k,DxChart.HALFPI/3,w-S),P=C+(_[1]-C),R=I+(T[1]-I);l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),x=DxChart._shadeColor(l,-20)):x=c=DxChart.parseGradient(this,l,b,C,y-b,R-C),this.context.strokeStyle=i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.path("fs % b m % % l % % l % % l % % c",c,b,C,w,P,w,R,S,k);L=[b,C,w,P,w,R,S,k];i.shadowUse||this.context.stroke(),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",x,w,P,y,v,D,I,w,R),i.shadowUse||this.context.stroke(),this.context.fill()}else{var I;b=e-E/2,C=f+n,y=e+E/2,v=f+n,D=e+O/2,S=e-O/2,k=I=m+n;"dual"==i.variantValue&&l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),x=DxChart._shadeColor(l,-20),this.path("fs % b m % % l % % l % % l % % c",x,b,C,e,C,e,I,S,I),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",l,e,C,y,C,D,I,e,I),this.context.fill(),i.shadowUse||(this.path("b m % % l % % l % % l % % c",b,C,y,v,D,I,S,k),this.context.stroke())):(l=u?DxChart.parseGradient(this,l,S,C,D-b,k-C):DxChart.parseGradient(this,l,b,C,y-b,k-C),this.context.strokeStyle=i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=l,isNexacroRuntime&&this.context.setElementFillStyle(l),this.path("b m % % l % % l % % l % % c",b,C,y,v,D,I,S,k),i.shadowUse||this.context.stroke(),this.context.fill())}d+=j}}i.keyData&&i.keyData.length&&DxChart.drawKey(this,i.keyData,i.colors)},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.coords.length+1,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}if(!DxChart.isNull(t.labelsData)&&"object"==typeof t.labelsData&&t.labelsData.length>0){var i,s,a=t.textFontStyleObj.face,o=(t.textFontStyleObj.size,t.textColor),r=t.labelsData,n=t.textHalign||"left",h=t.labelsPosition||"left",l=DxChart.getTextInfo({object:this,prefix:"labels"});if("number"==typeof t.labelsX)i=t.labelsX;else if("left"==h){var c=this.graphCenterX-this.graphWidth/2;i=this.marginLeft+(c-this.marginLeft)/2}else if("right"==h){i=(c=this.graphCenterX+this.graphWidth/2)+(this.canvas.width-c-this.marginRight)/2}else i=this.graphCenterX-this.graphWidth/2-100;for(var x=0;x<this.coords.length;x++){this.context.beginPath(),this.path("ss black fs %",o),DxChart.noShadow(this),"volumn"==t.variantValue?(s=this.coords[x][1],s+=(this.coords[x][5]-this.coords[x][3])/2):(s=this.coords[x][1],s+=(this.coords[x][5]-this.coords[x][1])/2);DxChart.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,x:i+t.labelsOffsetX,y:s+t.labelsOffsetY,text:r[x]||"",valign:"center",halign:n,bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:x})});if(t.labelsSticks&&r[x]){this.context.font=l.size+"pt "+a;var d=this.context.measureText(r[x]).width;"right"==h?"volumn"==t.variantValue?this.path("b m % % l % % s %",i-d-10,s,this.coords[x][10]+(this.coords[x][12]-this.coords[x][10])/2,s,t.lineColors[x]?t.lineColors[x]:t.lineColors[0]):this.path("b m % % l % % s %",i-10,s,this.coords[x][2]+(this.coords[x][4]-this.coords[x][2])/2,s,t.lineColors[x]?t.lineColors[x]:t.lineColors[0]):this.path("b m % % l % % s %",i+d+10,s,this.coords[x][0]+(this.coords[x][6]-this.coords[x][0])/2,s,t.lineColors[x]?t.lineColors[x]:t.lineColors[0])}}}},this.drawLabelsIngraph=function(){var t=this.properties;if(t.labelsIngraph&&t.labelsIngraph.length){"string"==typeof t.labelsIngraph&&(t.labelsIngraph=DxChart.arrayPad({array:[],length:this.coords.length+1,value:t.labelsIngraph}));for(var e=0;e<t.labelsIngraph.length;++e)t.labelsIngraph[e]=DxChart.labelSubstitution({object:this,text:t.labelsIngraph[e],index:e,value:this.data[e],decimals:t.labelsIngraphDecimals||0,unitsPre:t.labelsIngraphUnitsPre||"",unitsPost:t.labelsIngraphUnitsPost||"",thousand:t.labelsIngraphThousand||",",point:t.labelsIngraphPoint||"."})}t.labelsPosition;if(!DxChart.isNull(t.labelsIngraph)&&"object"==typeof t.labelsIngraph&&t.labelsIngraph.length>0){t.textFontStyleObj.face,t.textFontStyleObj.size,t.textColor;var i,s,a=t.labelsIngraph,o="left"==t.textHalign?"left":"center",r=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"});i="number"==typeof t.labelsX?t.labelsX:"left"==o?this.marginLeft-15:(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft;for(var n=0;n<this.coords.length;n++){this.context.beginPath(),"volumn"==t.variantValue?(i=0==n?this.coords[n][6]+(this.coords[n][0]-this.coords[n][6])/2+25:this.coords[n][6]+(this.coords[n][4]-this.coords[n][6])/2,s=this.coords[n][1],s+=(this.coords[n][5]-this.coords[n][1])/2):(i=this.coords[n][0]+(this.coords[n][2]-this.coords[n][0])/2,s=this.coords[n][1],s+=(this.coords[n][5]-this.coords[n][1])/2);DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:i+t.labelsIngraphOffsetX,y:s+t.labelsIngraphOffsetY,text:a[n]||"",valign:"center",halign:o,bounding:t.labelsIngraphBounding,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",angle:(t.variantValue,0),cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:n})})}}},this.getShape=function(t){for(var e=this.properties,i=this.coords,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=0,n=i.length;r<n;++r){var h=i[r];if("volumn"==e.variantValue?(this.context.beginPath(),this.context.moveTo(h[0],h[1]),this.context.lineTo(h[2],h[3]),this.context.lineTo(h[10],h[11]),this.context.lineTo(h[12],h[13]),this.context.lineTo(h[4],h[5]),this.context.lineTo(h[6],h[7])):(this.context.beginPath(),this.context.moveTo(h[0],h[1]),this.context.lineTo(h[2],h[3]),this.context.lineTo(h[4],h[5]),this.context.lineTo(h[6],h[7]),this.context.lineTo(h[8],h[9])),this.context.isPointInPath(a,o)){if(DxChart.parseTooltipText&&e.tooltipsData)var l=DxChart.parseTooltipText(e.tooltipsData,r);return{object:this,coords:h,dataset:0,index:r,sequentialIndex:r,label:e.labelsData&&"string"==typeof e.labelsData[r]?e.labelsData[r]:null,tooltip:"string"==typeof l?l:null}}}return null},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight){if("function"==typeof e.highlightStyle)return void e.highlightStyle(t);if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle){for(var i=0;i<this.coords.length;++i)if(i!==t.sequentialIndex){var s=this.coords[i];"volumn"==e.variantValue?(this.context.beginPath(),this.context.moveTo(s[0],s[1]),this.context.lineTo(s[2],s[3]),this.context.lineTo(s[10],s[11]),this.context.lineTo(s[12],s[13]),this.context.lineTo(s[4],s[5]),this.context.lineTo(s[6],s[7]),this.context.closePath(),this.path("s % f %",e.highlightStroke,e.highlightFill)):this.path("b m % % l % % l % % l % % c s % f %",s[0]-.5,s[1]-.5,s[2]+.5,s[3]-.5,s[4]+.5,s[5]+.5,s[6]-.5,s[7]+.5,e.highlightStroke,e.highlightFill)}return}s=t.coords;"volumn"==e.variantValue?(this.context.beginPath(),this.context.moveTo(s[0],s[1]),this.context.lineTo(s[2],s[3]),this.context.lineTo(s[10],s[11]),this.context.lineTo(s[12],s[13]),this.context.lineTo(s[4],s[5]),this.context.lineTo(s[6],s[7]),this.context.closePath(),this.path("s % f %",e.highlightStroke,e.highlightFill)):this.path("b m % % l % % l % % l % % c s % f %",s[0]-.5,s[1]-.5,s[2]+.5,s[3]-.5,s[4]+.5,s[5]+.5,s[6]-.5,s[7]+.5,e.highlightStroke,e.highlightFill)}},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);if(i[0]>e.marginLeft&&i[0]<this.canvas.width-e.marginRight&&i[1]>e.marginTop&&i[1]<this.canvas.height-e.marginBottom)return this},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke));t.colors;var e=t.keyColors;if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords[t];if(i&&8==i.length){var s=this.context.lineWidth;this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(i[0]-.5,i[1]-.5),this.context.lineTo(i[2]+.5,i[3]-.5),this.context.lineTo(i[4]+.5,i[5]+.5),this.context.lineTo(i[6]-.5,i[7]+.5),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.lineWidth=s,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors[t.index],a=DxChart.isString(i.tooltipsFormattedKeyLabels[t.index])?i.tooltipsFormattedKeyLabels[t.index]:"";return DxChart.isNull(i.tooltipsFormattedKeyColors)||"object"!=typeof i.tooltipsFormattedKeyColors||"string"!=typeof i.tooltipsFormattedKeyColors[t.index]||(s=i.tooltipsFormattedKeyColors[t.index]),{label:a,color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+((a[2]-a[0])/2+a[0])-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=s[0]+((a[2]-a[0])/2+a[0])-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight+e.properties.tooltipsOffsetY-10+"px"),isNexacroRuntime?parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.set_top(parseFloat(t.tooltip.getOffsetTop())+20):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartOrg(t){return DxChart._Base.call(this,t,"org"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.Cubes=[],this.Final=null,this.NodeClick=null,this.NodeSearch=null,this.coords=[],this.dpr=1,this.isDragging=!1,this.dragStart={x:0,y:0},this.cameraOffset={x:this.canvas.width/2,y:this.canvas.height/2},this.cameraZoom=1,this.lastZoom=this.cameraZoom,this.initialPinchDistance=null,this.properties.scaleMaxZoom=5,this.properties.scaleMinZoom=.2,this.properties.treeTemplate="rect",this.properties.positionCenter=!0,this.properties.scaleAuto=!1,this.properties.scaleMove=!1,this.properties.scaleZoom=!1,this.properties.scaleValueX=1,this.properties.scaleValueY=1,this.SCROLL_SENSITIVITY=5e-4,this.properties.treePosition="top",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",this.properties.itemMetaColor="#000000",this.properties.itemMetaFont="12px Tahoma",this.properties.itemMetaBorderStyle="1px solid #dddddd",this.properties.itemMetaBackgroundColor="transparent",this.properties.itemImagePosition="left",this.properties.itemMaxWidth=120,this.properties.itemLeafGrouping=!0,this.properties.itemDefaultWidth=150,this.properties.itemDefaultHeight=65,this.properties.itemMaxHeight=150,this.properties.itemLevelWidth=40,this.properties.itemNodeGapSize=20,this.properties.itemTreeGapSize=100,this.properties.itemTextMargin=10,this.properties.itemTextHMargin=5,this.properties.itemTextVMargin=5,this.properties.itemLineHeight=10,this.properties.itemImageVMargin=10,this.properties.itemImageHMargin=10,this.properties.itemIconSize=10,this.properties.itemIconBorderStyle="1px solid #dddddd",this.properties.itemRectRatio=.3,this.properties.itemImageStyle="arc",this.properties.itemImageLineWidth=1,this.properties.itemImageLineColor="#dddddd",this.properties.itemImageSize=50,this.properties.itemTextVAlign="middle",this.properties.itemTextHAlign="center",this.properties.itemMetaBorderStyle="1px solid #000000",this.properties.itemMetaStyle="ellipse",this.properties.itemExpandLineWidth=1,this.properties.itemExpandBackgroundColor="#ffffff",this.properties.itemExpandIconColor="#000000",this.properties.itemExpandLineColor="#000000",this.properties.itemExpandTextColor="#000000",this.properties.itemExpandTextWidth=1,this.properties.itemExpandWidth=5,this.properties.itemExpandShow=!0,this.properties.itemGroupSeparateStyle="1px solid #dddddd",this.properties.itemGroupGapSize=5,this.properties.itemGroupFullDraw=!1,this.properties.itemBackgroundColor="rgb(237, 247, 255)",this.properties.itemBackgroundColor2="#ffffff",this.properties.itemImageBorderStyle="1px solid #3F515A",this.properties.itemBorderStyle="1px solid #3F515A",this.properties.itemLineColor="rgb(51,136,221)",this.properties.itemGroupColor="#ffffff",this.properties.itemTextColor="#000000",this.properties.itemCommandColor="gray",this.properties.itemFontStyle="12px Sans-Serif",this.properties.itemFontStyleObj=DxChart._parseFontInfo(this.properties.itemFontStyle),this.properties.itemSearchText="search",this.properties.itemLineWidth=2,this.properties.itemBoxStyle="roundrect",this.properties.animationGrowMultiplier=1,this.sequence=0,t.binddataset&&(this.binddataset=t.binddataset),DxChart.parseProperties(this,t.options),this.properties.itemGroupSeparateStyleObj=DxChart._parseBorderInfo(this.properties.itemGroupSeparateStyle),this.resetData=function(t){this.NODEMAXW=0,this.NODEMAXH=0,this.Cubes=null,this.Cubes=[];var e=t.idColumn,i=t.parentIdColumn,s=t.nameColumn,a=t.nameColorColumn,o=t.nameFontColumn,r=t.groupColumn,n=t.groupColorColumn,h=t.groupFontColumn,l=t.bgColorColumn,c=t.bgColorColumn2,x=t.borderStyleColumn,d=t.expandColumn,u=t.widthColumn,g=t.heightColumn,p=t.boxStyleColumn,f=t.leafGroupColumn,m=t.imageUrlColumn,b=t.imageSizeColumn,C=t.imageBorderStyleColumn,y=t.metaColumn,v=t.metaFontColumn,D=t.metaColorColumn,S=t.metaBackgroundColorColumn,k=t.metaBorderStyleColumn,w=t.textColumn,_=t.textFontColumn,T=t.textColorColumn,P=t.textAlignColumn,R=t.iconColumn,L=t.iconColorColumn,j=t.iconSizeColumn,F=t.iconBorderStyleColumn,E=t.iconStyleColumn,O=[];if(w)for(var I=w.split(","),A=0;A<I.length;A++)O.push(I[A]);var N=[];if(T){var M=T.split(",");for(A=0;A<M.length;A++)N.push(M[A])}var W=[];if(P){var B=P.split(",");for(A=0;A<B.length;A++)W.push(B[A])}var G=[];if(_){var H=_.split(",");for(A=0;A<H.length;A++)G.push(H[A])}var Y=this.binddataset;for(A=0;A<Y.rowcount;A++){for(var z=[],X=[],V=[],U=0,q=O.length;U<q;U++)z.push(Y.getColumn(A,O[U]));for(U=0,q=N.length;U<q;U++)X.push(Y.getColumn(A,N[U]));for(U=0,q=G.length;U<q;U++)V.push(Y.getColumn(A,G[U]));var K=new _Cube(Y.getColumn(A,e),Y.getColumn(A,i),{n:s?Y.getColumn(A,s):null,nc:a?Y.getColumn(A,a):this.properties.itemTextColor,nf:o?Y.getColumn(A,o):this.properties.itemFontStyle,g:r?Y.getColumn(A,r):null,gc:n?Y.getColumn(A,n):this.properties.itemGroupColor,gf:h?Y.getColumn(A,h):this.properties.itemFontStyle,e:!d||Y.getColumn(A,d),w:u?Y.getColumn(A,u):this.properties.itemDefaultWidth,h:g?Y.getColumn(A,g):this.properties.itemDefaultHeight,bs:p?Y.getColumn(A,p):this.properties.itemBoxStyle,b:x?Y.getColumn(A,x):this.properties.itemBorderStyle,leaf:!!f&&Y.getColumn(A,f),item:{i:m?Y.getColumn(A,m):null,is:b?Y.getColumn(A,b):this.properties.itemImageSize,ib:C?Y.getColumn(A,C):this.properties.itemImageBorderStyle,t:z,c:X,f:V,a:W,icon:R?Y.getColumn(A,R):null,iconcolor:L?Y.getColumn(A,L):this.properties.itemIconColor,iconsize:j?Y.getColumn(A,j):this.properties.itemIconSize,iconborderstyle:F?Y.getColumn(A,F):this.properties.itemIconBorderStyle,iconstyle:E?Y.getColumn(A,E):"rect"},b1:l?Y.getColumn(A,l):this.properties.itemBackgroundColor,b2:c?Y.getColumn(A,c):this.properties.itemBackgroundColor2,m:y?Y.getColumn(A,y):null,mc:D?Y.getColumn(A,D):this.properties.itemMetaColor,mb:S?Y.getColumn(A,D):this.properties.itemMetaBackgroundColor,mbs:k?Y.getColumn(A,k):this.properties.itemMetaBorderStyle,mf:v?Y.getColumn(A,v):this.properties.itemMetaFont},this.properties,this);this.Push(K)}},this.HasSearch=function(){return null!==this.NodeSearch&&void 0!==this.NodeSearch},this.IsInSearch=function(t,e){return e/=this.dpr,this.HasSearch()&&e>this.SeperatorY},this.IsSolid=function(t){return!this.IsNull(t)&&("boolean"!=typeof t||t)},this.IsFunction=function(t){return!this.IsNull(t)&&"function"==typeof t},this.IsNull=function(t){return null==t},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.SearchClickedOne=function(t,e,i){if(t.ClickMe(e,i))return t;var s=this;return this.Each(t.Children,function(t){return s.SearchClickedOne(t,e,i)})},this.GetClickedCube=function(t,e){return this.IsNull(this.Final)?null:this.SearchClickedOne(this.Final,t,e)},this.Push=function(t){for(t.canvas=this.canvas,t.context=this.context,t.OC=this;;){var e=this.Each(this.Cubes,function(e,i){if(e.ParentId==t.Id)return i});if(this.IsNull(e))break;var i=this.Cubes.splice(e,1)[0];t.AddChild(i)}var s=this.Each(this.Cubes,function(e,i){return e.FindNode(t.ParentId)});this.IsNull(s)?(this.Cubes.push(t),t.IsRoot=!0):(s.AddChild(t),t.parentNode=s,t.IsRoot=!1)},this.Layout=function(t){var e=this.properties;t.RefreshLevel(),t.SetLevelInfo(t),t.ComputeSpan();var i=this.canvas.width-e.marginLeft-e.marginRight,s=this.canvas.height-e.marginTop-e.marginBottom,a=0;"top"==e.treePosition&&(t.Position.x=this.canvas.width/2-t.Dimen.width/2,t.Position.x=this.canvas.width/2),"left"==e.treePosition&&(t.Position.x=e.marginLeft),void 0===e.itemTreeGapSize||null===e.itemTreeGapSize?("top"==e.treePosition&&(a=s/t.LevelDictShowSize.length),"left"==e.treePosition&&(a=i/t.LevelDictShowSize.length)):("top"==e.treePosition&&(a=e.itemTreeGapSize+this.NODEMAXH),"left"==e.treePosition&&(a=i/t.LevelDictShowSize.length));var o=[];o.push(t),"top"==e.treePosition?(t.Position.l=e.marginLeft+(i-t.SpanWidth)/2,t.Position.y=e.marginTop):"left"==e.treePosition&&(t.Position.l=e.marginTop+(s-t.SpanHeight)/2,t.Position.y=this.canvas.height/2-t.Dimen.height/2);t.Position.x,t.Position.y,Math.max(i,s);var r,n=0,h=0,l=0,c=0,x=0;t.Size;this.nDiv=a;for(var d=0;o.length>0;){var u=o.shift();if(!u.parentNode||0!=u.parentNode.Expand){n=Math.max(n,u.Position.x+u.Dimen.width),h=Math.max(h,u.Position.y+u.Dimen.height),c=Math.min(c,u.Position.x),l=Math.min(l,u.Position.y);var g=!1;e.itemLeafGrouping&&1==u.LeafGroup&&(g=!0);for(var p=a,f=0;f<u.Children.length;++f){var m=u.Children[f];0==f&&(0,x=u.Position.l,"left"==e.treePosition&&x<e.marginTop&&(x=e.marginTop)),(p=a)<u.Dimen.height&&(d=(p=u.Dimen.height+this.NODEMAXH)-a),p*=e.animationGrowMultiplier,"top"==e.treePosition?(r=m.SpanWidth,r*=e.animationGrowMultiplier,m.Position.x=x+r/2,m.Position.l=m.Position.x-r/2,1==g?m.Position.y=0==f?u.Position.y+u.Dimen.height+e.itemGroupGapSize:u.Children[f-1].Position.y+u.Children[f-1].Dimen.height+e.itemGroupGapSize:(x+=r,u.IsRoot?"top"==e.treePosition&&(m.Position.y=m.Level*p+e.marginTop):m.Position.y=m.Level*p+e.marginTop+d)):"left"==e.treePosition&&(r=m.SpanHeight,m.Position.y=x+r/2*e.animationGrowMultiplier,m.Position.y<e.marginTop&&(m.Position.y=e.marginTop),m.Position.l=m.Position.y-r/2,x+=r,t.LevelDictSize[m.Level]>a?m.Position.x=m.Level*(t.LevelDictSize[m.Level]*e.animationGrowMultiplier):m.Position.x=m.Level*a),n=Math.max(n,m.Position.x+m.Dimen.width),h=Math.max(h,m.Position.y+m.Dimen.height),c=Math.min(c,m.Position.x),l=Math.min(l,m.Position.y),o.push(m)}}}this.TREEMaxW=n+Math.abs(c),this.TREEMaxH=h+Math.abs(l),this.TREEMinL=c,this.TREEMinT=l},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawAni=function(){arguments[0];var t=arguments[1],e=arguments[2];this.grow(t,e)},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0;return function e(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("animationGrowMultiplier",a/s),DxChart.redrawCanvas(t.canvas),a<s?(a++,DxChart.Effects.updateCanvas(e,t.canvas)):i(t))}(),this},this.draw=function(){var t=this.properties;this.sequence++,t.treePosition="top",this.TREEMaxW=0,this.TREEMaxH=0,this.TREEMinL=0,this.TREEMinT=0,this.coords=[],this.dprX=t.scaleValueX,this.dprY=t.scaleValueY,DxChart._BeforeDraw(this),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var e=this;if(this.Each(this.Cubes,function(t){return e.Layout(t),null}),this.Cubes.length>0){this.Final=this.Cubes[0];for(var i=1;i<this.Cubes.length;++i)this.Cubes[i].Size>this.Final.Size&&(this.Final=this.Cubes[i]);var s=1,a=1;this.TREEMaxW>this.canvas.width&&(s=this.canvas.width/this.TREEMaxW),this.TREEMaxH>this.canvas.height&&(a=this.canvas.height/this.TREEMaxH),t.scaleAuto?s<1||a<1?this.context.setTransform(s,0,0,a,Math.abs(this.TREEMinL)*s,Math.abs(this.TREEMinT)*a):this.context.setTransform(1,0,0,1,0,0):0==t.scaleZoom?this.context.setTransform(1,0,0,1,0,0):(this.context.scale(this.cameraZoom,this.cameraZoom),this.context.translate(-this.canvas.width/2+this.cameraOffset.x,-this.canvas.height/2+this.cameraOffset.y)),this.Final.Draw()}DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw")},this.getEventLocation=function(t){return isNexacroRuntime?{x:t.clientx,y:t.clienty}:t.touches&&1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.clientX&&t.clientY?{x:t.clientX,y:t.clientY}:void 0},this.onPointerDown=function(t){this.properties.scaleZoom&&(this.isDragging=!0,this.dragStart.x=this.getEventLocation(t).x/this.cameraZoom-this.cameraOffset.x,this.dragStart.y=this.getEventLocation(t).y/this.cameraZoom-this.cameraOffset.y)},this.onPointerUp=function(t){this.properties.scaleZoom&&(this.isDragging=!1,this.initialPinchDistance=null,this.lastZoom=this.cameraZoom)},this.onPointerMove=function(t){if(this.properties.scaleZoom){this.isDragging&&(this.cameraOffset.x=this.getEventLocation(t).x/this.cameraZoom-this.dragStart.x,this.cameraOffset.y=this.getEventLocation(t).y/this.cameraZoom-this.dragStart.y);var e=this;DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(e.canvas)},this.canvas)}},this.handleTouch=function(t,e){1==t.touches.length?this.singleTouchHandler(t):"touchmove"==t.type&&2==t.touches.length&&(this.isDragging=!1,this.handlePinch(t))},this.handlePinch=function(t){t.preventDefault();var e=t.touches[0].clientX,i=t.touches[0].clientY,s=t.touches[1].clientX,a=t.touches[1].clientY,o=(e-s)*(e-s)+(i-a)*(i-a);null==this.initialPinchDistance?this.initialPinchDistance=o:this.adjustZoom_(null,o/this.initialPinchDistance)},this.adjustZoom=function(t,e){if(this.properties.scaleZoom){var i=t.deltaY*this.SCROLL_SENSITIVITY;this.adjustZoom_(e,i),t.stopPropagation()}},this.adjustZoom_=function(t,e,i){if(!this.isDragging){e?this.cameraZoom+=e:i&&(this.cameraZoom=i*this.lastZoom),this.cameraZoom=Math.min(this.cameraZoom,this.properties.scaleMaxZoom),this.cameraZoom=Math.max(this.cameraZoom,this.properties.scaleMinZoom);var s=this;DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(s.canvas)},this.canvas)}},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);if(i[0]>=e.marginLeft&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.onclick=function(t,e){e&&e.cube&&("node"==e.type?e.object.onnodeclick&&e.object.onnodeclick(e.cube):(e.cube.IsExpand=!e.cube.IsExpand,e.cube.Expand=!e.cube.Expand,e.object.draw()))},this.highlight=function(t){var e=this.properties;t.cube;"arc"==cube.BoxStyle||(this.context.beginPath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.rect(cube.Position.x-cube.Dimen.width/2,cube.Position.y,cube.Dimen.width,cube.Dimen.height),this.context.codePath())},this.getShape=function(t){this.properties;for(var e=arguments[1]?arguments[1]:this,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=(e.canvas,e.context,e.coords),r=o.length-1;r>=0;r--)if(0!=e.coords[r].length){var n,h=o[r][1],l=o[r][2],c=o[r][3],x=o[r][4];if(this.context.beginPath(),"node"==h){var d=o[r][5];this.context.rect(l,c,x,d)}else this.context.arc(l,c,x,0,2*DxChart.PI,!1);if(this.context.isPointInPath(s,a))return{object:this,cube:n=o[r][0],x:n.Position.x,y:n.Position.x,width:n.Dimen.width,height:n.Dimen.height,tooltip:"string"==typeof tooltip?tooltip:null,label:"",dataset:0,type:h,index:n.Id}}return null},this.resetData(t),DxChart.register(this),this}function _Cube(t,e,i,s,a){this.Id=t,this.ParentId=e,this.Group=i.g,this.GroupColor=i.gc||s.itemGroupColor,this.GroupFont=DxChart._parseFontInfo(i.gf||s.itemFontStyle),this.Name=i.n,this.NameColor=i.nc||s.itemTextColor,this.NameFont=DxChart._parseFontInfo(i.nf||s.itemFontStyle),this.BGColor1=i.b1||s.itemBackgroundColor,this.BGColor2=i.b2||s.itemBackgroundColor2,this.Width=i.w||s.itemDefaultWidth,this.Height=i.h||s.itemDefaultHeight,this.Border=DxChart._parseBorderInfo(i.b||s.itemBorderStyle),this.BoxStyle=i.bs||s.itemBoxStyle,null===i.e||void 0===i.e?this.Expand=!0:this.Expand=nexacro._toBoolean(i.e),null===i.leaf||void 0===i.leaf?this.LeafGroup=!1:this.LeafGroup=nexacro._toBoolean(i.leaf),this.IsExpand=this.Expand;i.item;return this.Item={image:i.item.i,imageSize:i.item.is,imageBorder:DxChart._parseBorderInfo(i.item.ib||s.itemImageBorderStyle),text:i.item.t,textColor:i.item.c||s.itemTextColor,textFont:i.item.f||s.itemFontStyle,textAlign:i.item.a||"left",icon:i.item.icon,iconColor:i.item.iconcolor,iconSize:i.item.iconsize,iconBorderStyle:i.item.iconborderstyle,iconStyle:i.item.iconstyle},this.Meta=i.m,this.MetaColor=i.mc||s.itemMetaColor,this.MetaFont=DxChart._parseFontInfo(i.mf||s.itemMetaFont),this.MetaBgColor=i.mb||s.itemMetaBackgroundColor,this.MetaBorder=DxChart._parseBorderInfo(i.mbs||s.itemMetaBorderStyle),this.LineWidth=i.lw||s.itemLineWidth||1,this.LineColor=i.lc||s.itemLineColor,this.Background=i.b||s.itemBackgroundColor,this.Image={},this.Image.dim={width:50,height:50},this.properties=s,this.Level=0,this.LevelMaxNodes=1,this.Depth=0,this.TotalHeight=0,this.coords=[],this.Size=1,"top"==s.treePosition?this.Dimen={width:this.Width+("arc"==this.BoxStyle?0:2*s.itemNodeGapSize),height:this.Height}:this.Dimen={width:this.Height,height:this.Width},this.Span=0,this.Lines=[],this.Children=[],this.Position={x:0,y:0},"arc"!=this.BoxStyle&&(a.NODEMAXW=Math.max(a.NODEMAXW,this.Dimen.width),a.NODEMAXH=Math.max(a.NODEMAXH,this.Dimen.height)),this.SeperatorY=999999,this.canvas=null,this.context=null,this.OC=a,this.DrawCircle=function(t,e,i,s,a,o,r){t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.fillStyle=a,isNexacroRuntime&&t.setElementFillStyle(a),t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!1),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke(),t.fill()},this.DrawCirclePlus=function(t,e,i,s,a,o,r){t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.beginPath(),t.moveTo(e-s,i),t.lineTo(e+s,i),t.moveTo(e,i-s),t.lineTo(e,i+s),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawCircleMinus=function(t,e,i,s,a,o){t.beginPath(),t.moveTo(e-s,i),t.lineTo(e+s,i),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawConnection=function(t,e,i){this.DrawLine(t,e,i,this.LineWidth,this.LineColor)},this.DrawSeperator=function(t,e,i){this.DrawLine(t,e,i,.5,this.properties.itemCommandColor)},this.DrawLine=function(t,e,i,s,a){t.beginPath(),t.lineWidth=s,isNexacroRuntime&&t.setElementLineWidth(s),t.strokeStyle=a,isNexacroRuntime&&t.setElementStrokeStyle(a),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},this.DrawRect=function(t,e,i,s,a,o){t.strokeStyle=this.LineColor||this.properties.itemBorderColor,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle);var r=DxChart.parseGradient(this,s,e.x+o,e.y+o,i.width-2*o,i.height-2*o);t.fillStyle=r,isNexacroRuntime&&t.setElementFillStyle(r);o=this.LineWidth||this.properties.itemLineWidth;t.lineWidth=o,isNexacroRuntime&&t.setElementLineWidth(o),t.fillRect(e.x+o,e.y+o,i.width-2*o,i.height-2*o),t.strokeRect(e.x,e.y,i.width,i.height)},this._DrawMeta=function(t,e,i){this.Meta&&""!=this.Meta&&this.DrawText(t,"right","bottom",e,i-2,this.Meta,this.MetaColor,this.MetaFont)},this._DrawSeparateStyle=function(t,e,i,s,a,o,r){var n=this.properties.itemGroupSeparateStyleObj;t.lineWidth=n._width,isNexacroRuntime&&t.setElementLineWidth(n._width),t.strokeStyle=n.color,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),e+=5,s-=5,i+=n._width,n._width,t.beginPath(),t.moveTo(e,i),t.lineTo(s,i),t.stroke(),t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o)},this._DrawResetStyle=function(t){var e=this.Border;t.strokeStyle=e.color,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle);e._width;t.lineWidth=1,isNexacroRuntime&&t.setElementLineWidth(e._width)},this.DrawItemRect=function(t,e,i,s,a){var o=this.context,r=this.Border._width,n=this.BGColor1,h=this.BGColor2,l=this.Border,c=(this.Dimen.width,this.properties.itemNodeGapSize,this.Dimen.height),x=this.Item,d=a.x-s.width/2,u=d,g=M=a.y,p=d,f=M;this._DrawMeta(o,a.x+s.width/2,M);var m,b=this.OC.properties.treeTemplate;t&&(m=0==e?"top":e==i-1?"bottom":"middle"),1==this.properties.itemGroupFullDraw&&(t=null,m=null);this.OC.properties.itemTextHMargin;var C=this.OC.properties.itemTextVMargin,y=0;if("arc"==this.BoxStyle){var v,D,S=Math.min(s.width,s.height);Math.abs(s.width-s.height);y=S/2,v=a.x,M=(D=a.y+s.height-y)-y;var k=DxChart.parseRadialGradientInfo(this,n,v,D,0,v,D,S);if(o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),o.beginPath(),o.arc(v,D,y,0,2*DxChart.PI,!1),o.closePath(),o.fill(),o.stroke(),h){var w=DxChart.parseRadialGradientInfo(this,h,v,D,0,v,D,S);o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w),o.beginPath(),o.arc(v,D,y-5,0,2*DxChart.PI,!1),o.closePath(),o.fill()}this._DrawResetStyle(o)}else if("toprect"==b){if(g=M+(L=s.height*this.OC.properties.itemRectRatio),"roundrect"==this.BoxStyle){var _=5,T=d+s.width,P=M+L;k=DxChart.parseGradient(this,n,d,M,s.width,L);if(o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),"top"!=m&&t||(o.beginPath(),o.moveTo(d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P),o.lineTo(d,P),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.closePath(),o.fill()),h){w=DxChart.parseGradient(this,h,d,M,s.width,s.height);o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w);var R=M+s.height;t?"bottom"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(T,M),o.lineTo(T,M+s.height-_),o.quadraticCurveTo(T,R,T-_,R),o.lineTo(d+_,R),o.quadraticCurveTo(d,R,d,R-_),o.lineTo(d,M),o.closePath(),o.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):"middle"==m?(o.beginPath(),o.rect(d,M,s.width,s.height),o.closePath(),o.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):"top"==m&&(o.beginPath(),o.rect(d,P,s.width,s.height-(P-M)),o.closePath(),o.fill()):(o.beginPath(),o.moveTo(d,P),o.lineTo(T,P),o.lineTo(T,M+s.height-_),o.quadraticCurveTo(T,R,T-_,R),o.lineTo(d+_,R),o.quadraticCurveTo(d,R,d,R-_),o.lineTo(d,P),o.closePath(),o.fill())}if(this._DrawResetStyle(o),r)if(t){if("top"==m){T=d+s.width,P=M+s.height;if(o.beginPath(),o.moveTo(d,P),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P),o.closePath(),o.stroke(),0==this.Children.length&&1==this.LeafGroup){o.beginPath();T=d+s.width,P=M+s.height;o.moveTo(T,M),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M),o.closePath(),o.stroke()}}else if("middle"==m){o.beginPath();T=d+s.width,P=M+s.height;o.moveTo(d,M),o.lineTo(d,P),o.moveTo(T,M),o.lineTo(T,P),o.closePath(),o.stroke(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)}else if("bottom"==m){o.beginPath();T=d+s.width,P=M+s.height;o.moveTo(T,M),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M),o.closePath(),o.stroke(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)}}else{o.beginPath();var T=d+s.width,P=M+s.height;o.moveTo(d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.closePath(),o.stroke()}}else{k=DxChart.parseGradient(this,n,d,M,s.width,L);if(o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),"top"!=m&&t||(o.beginPath(),o.rect(d,M,s.width,L),o.closePath(),o.fill()),h){w=DxChart.parseGradient(this,h,d,M+L,s.width,s.height-L);o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w),"top"!=m&&t?"middle"!=m&&"bottom"!=m||(o.beginPath(),o.rect(d,M,s.width,s.height),o.closePath(),o.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):(o.beginPath(),o.rect(d,M+L,s.width,s.height-L),o.closePath(),o.fill())}this._DrawResetStyle(o),r&&(t?"top"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(d,M+s.height),o.moveTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),o.moveTo(d,M),o.lineTo(d+s.width,M),this.properties.itemGroupGapSize>0&&(o.moveTo(d,M+s.height),o.lineTo(d+s.width,M+s.height)),o.stroke()):"middle"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(d,M+s.height),o.moveTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),this.properties.itemGroupGapSize>0&&(o.moveTo(d,M),o.lineTo(d+s.width,M),o.moveTo(d,M+s.height),o.lineTo(d+s.width,M+s.height)),o.stroke()):"bottom"==m&&(o.beginPath(),o.moveTo(d,M),o.lineTo(d,M+s.height),o.moveTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),o.lineTo(d,M+s.height),this.properties.itemGroupGapSize>0&&(o.moveTo(d,M),o.lineTo(d+s.width,M)),o.stroke()):(o.beginPath(),o.rect(d,M,s.width,s.height),o.stroke()))}"middle"==m||"bottom"==m?(p=d,f=M,g=M):(p=d,f=M+L),("top"==m&&0==e||!t)&&this.Group&&this.DrawText(o,"center","middle",a.x,a.y+L/2,this.Group,this.GroupColor,this.GroupFont)}else if("leftrect"==b){var L=s.height;S=this.OC.properties.itemRectRatio*s.width;if(u=d,"roundrect"==this.BoxStyle){_=5,T=d+S,P=M+L,k=DxChart.parseGradient(this,n,d,M,S,L);if(o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),"top"!=m&&t?"middle"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(T,M),o.lineTo(T,P),o.lineTo(d,P),o.lineTo(d,M),o.closePath(),o.fill()):"bottom"==m&&(o.beginPath(),o.moveTo(d,M),o.lineTo(T,M),o.lineTo(T,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.moveTo(d,M),o.closePath(),o.fill()):(o.beginPath(),o.moveTo(d+_,M),o.lineTo(T,M),o.lineTo(T,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.closePath(),o.fill()),h){w=DxChart.parseGradient(this,h,T,P,S,s.height);o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w);R=M+s.height;"top"!=m&&t?"middle"==m?(o.beginPath(),o.rect(T,M,s.width-S,s.height),o.closePath(),o.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):"bottom"==m&&(o.beginPath(),o.moveTo(T,M),o.lineTo(d+s.width,M),o.lineTo(d+s.width,M+s.height-_),o.quadraticCurveTo(d+s.width,M+s.height,d+s.width-_,M+s.height),o.lineTo(T,M+s.height),o.lineTo(T,M),o.closePath(),o.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):(o.beginPath(),o.moveTo(T,M),o.lineTo(d+s.width-_,M),o.quadraticCurveTo(d+s.width,M,d+s.width,M+_),o.lineTo(d+s.width,M+s.height-_),o.quadraticCurveTo(d+s.width,M+s.height,d+s.width-_,M+s.height),o.lineTo(T,M+s.height),o.lineTo(T,M),o.closePath(),o.fill())}if(this._DrawResetStyle(o),r){o.beginPath();_=5,T=d+s.width,P=M+s.height;t?"top"==m?(o.moveTo(T,P),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,P,T,M+_),o.lineTo(T,P),o.closePath(),o.stroke()):"middle"==m?(o.moveTo(d,M),o.lineTo(d,P),o.moveTo(T,M),o.lineTo(T,P),o.closePath(),o.stroke()):"bottom"==m&&(o.moveTo(T,M),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(T,P,d,P-_),o.lineTo(d,M),o.moveTo(T,M),o.closePath(),o.stroke()):(o.moveTo(d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.closePath(),o.stroke())}}else{k=DxChart.parseGradient(this,n,d,M,S,L);if(o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),o.beginPath(),o.rect(d,M,S,L),o.closePath(),o.fill(),h){w=DxChart.parseGradient(this,h,d+S,M,S,L);o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w),o.beginPath(),o.rect(d+S,M,s.width-S,L),o.closePath(),o.fill()}if(this._DrawResetStyle(o),r){T=d+s.width,P=d+s.height;t?"top"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(d,M+s.height),o.moveTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),o.stroke()):"middle"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(d,P),o.moveTo(T,M),o.lineTo(T,P),o.closePath(),o.stroke()):"bottom"==m&&(o.beginPath(),o.moveTo(T,M),o.lineTo(T,P),o.lineTo(d,P),o.lineTo(d,M),o.moveTo(T,M),o.closePath(),o.stroke()):(o.beginPath(),o.rect(d,M,s.width,s.height),o.stroke())}}if(p=d+S,f=M,this.Group){var j=(this.GroupFont.italic?"italic ":"")+(this.GroupFont.bold?"bold ":"")+this.GroupFont.size+"px "+this.GroupFont.face,F=this.GetTextSize(this.Group,j);this.DrawText(o,"center","middle",d+S+(s.width-S)/2,M+C+F[1]/2,this.Group,this.GroupColor,this.GroupFont),f=M+F[1]}}else if("topgraph"==b){var E=10,O=(T=d+s.width-E,P=M+E,d+E),I=M+s.height-E;S=s.width,L=s.height,k=DxChart.parseGradient(this,n,d,M,S,L);o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),this._DrawResetStyle(o),t?"top"==m?(o.beginPath(),o.moveTo(d,M),o.lineTo(T,M),o.lineTo(d+s.width,P),o.lineTo(d+s.width,M+s.height),o.lineTo(d,M+s.height),o.lineTo(d,M),o.closePath(),o.fill(),o.beginPath(),o.moveTo(d,M),o.lineTo(T,M),o.lineTo(d+s.width,P),o.lineTo(d+s.width,M+s.height),o.moveTo(d,M),o.lineTo(d,M+s.height),o.closePath(),o.stroke()):"middle"==m?(o.beginPath(),o.rect(d,M,s.width,s.height),o.closePath(),o.fill(),o.beginPath(),o.moveTo(d,M),o.lineTo(d,M+s.height),o.moveTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),o.closePath(),o.stroke(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):"bottom"==m&&(o.beginPath(),o.moveTo(d,M),o.lineTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),o.lineTo(O,M+s.height),o.lineTo(d,I),o.lineTo(d,M),o.closePath(),o.fill(),o.beginPath(),o.moveTo(d+s.width,M),o.lineTo(d+s.width,M+s.height),o.lineTo(O,M+s.height),o.lineTo(d,I),o.lineTo(d,M),o.moveTo(d,M),o.closePath(),o.stroke(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width)):(o.beginPath(),o.moveTo(d,M),o.lineTo(T,M),o.lineTo(d+s.width,P),o.lineTo(d+s.width,M+s.height),o.lineTo(O,M+s.height),o.lineTo(d,I),o.lineTo(d,M),o.closePath(),o.fill(),o.stroke());var A=d+5,N=M+5;S=s.width-10,L=s.height*this.OC.properties.itemRectRatio;t&&(L=c*this.OC.properties.itemRectRatio),g=M+L,T=A+S-E,P=N+E,O=A+E,I=N+L-E;w=DxChart.parseGradient(this,h,d,M,S,L);o.fillStyle=w,isNexacroRuntime&&o.setElementFillStyle(w),this._DrawResetStyle(o),t&&"top"!=m||(o.beginPath(),o.moveTo(A,N),o.lineTo(T,N),o.lineTo(T+E,P),o.lineTo(T+E,I+E),o.lineTo(A+E,I+E),o.lineTo(A,I),o.lineTo(A,N),o.closePath(),o.fill()),"middle"==m||"bottom"==m?(p=d,f=M,g=M):(p=d,f=M+L),this.Group&&this.DrawText(o,"center","middle",a.x,N+L/2,this.Group,this.GroupColor,this.GroupFont)}else{k=DxChart.parseGradient(this,n,d,M,S,L);if(o.fillStyle=k,isNexacroRuntime&&o.setElementFillStyle(k),o.beginPath(),this._DrawResetStyle(o),"roundrect"==this.BoxStyle){_=5;var M=a.y;T=d+s.width,P=M+s.height;t?"top"==m?(o.moveTo(d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P),o.lineTo(d,P),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.lineTo(d+_,M),o.closePath(),o.fill(),o.beginPath(),o.moveTo(d,P),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P),o.closePath(),o.stroke()):"middle"==m?(0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(o,d,M,d+s.width,M,l.color,l._width),o.beginPath(),o.rect(d,M,s.width,s.height),o.fill(),o.beginPath(),o.moveTo(d,M),o.lineTo(d,P),o.moveTo(T,M),o.lineTo(T,P),o.closePath(),o.stroke()):"bottom"==m&&(o.moveTo(d,M),o.lineTo(T,M),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M),o.closePath(),o.fill(),o.beginPath(),o.moveTo(T,M),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M),o.closePath(),o.stroke()):(o.moveTo(d+_,M),o.lineTo(T-_,M),o.quadraticCurveTo(T,M,T,M+_),o.lineTo(T,P-_),o.quadraticCurveTo(T,P,T-_,P),o.lineTo(d+_,P),o.quadraticCurveTo(d,P,d,P-_),o.lineTo(d,M+_),o.quadraticCurveTo(d,M,d+_,M),o.closePath(),o.fill()),r&&!t&&o.stroke()}else o.rect(d,M,s.width,s.height),o.fill(),o.stroke();if(this.Group){j=(this.GroupFont.italic?"italic ":"")+(this.GroupFont.bold?"bold ":"")+this.GroupFont.size+"px "+this.GroupFont.face,F=this.GetTextSize(this.Group,j);this.DrawText(o,"center","middle",a.x,M+C+F[1]/2,this.Group,this.GroupColor,this.GroupFont),p=d,f=M+F[1]}}if(this._DrawResetStyle(o),x.image&&1==this.properties.animationGrowMultiplier){var W=x.image,B=x.imageSize,G=this.OC.properties.itemImageStyle,H=x.imageBorder._width,Y=x.imageBorder.color;if(W&&"left"==this.OC.properties.itemImagePosition){var z=this.OC.properties.itemImageVMargin,X=this.OC.properties.itemImageHMargin;L=B;B>s.height&&(z=-(B-s.height)/2,z+=this.OC.properties.itemImageVMargin),u<0&&(u=d),g<0&&(g=M);var V=u+X,U=g+z,q=1;this.drawImage(W,V,U,L,L,G,H,Y,q),"leftrect"!=b&&(p+=L,this.OC.properties.itemImageHMargin<0&&(p+=this.OC.properties.itemImageHMargin))}else if(W&&"top"==this.OC.properties.itemImagePosition){V=a.x-B/2,U=a.y-B/2+this.OC.properties.itemImageVMargin;if(this.drawImage(W,V,U,B,B,G,H,Y,q),"toprect"==b||"topgraph"==b){var K=s.height*this.OC.properties.itemRectRatio;K<B/2&&(f+=B/2-K)}else f+=B/2}}else if(x.icon){var J=x.iconSize||this.OC.properties.itemIconSize,$=J;u<0&&(u=d),g<0&&(g=M);U=g+E;p=V=u+E,f=a.y;var Z=J/2,Q=(H=(l=DxChart._parseBorderInfo(x.iconBorderStyle))._width,Y=l.color,x.iconColor||this.properties.itemIconColor),tt=(a={x:V+this.OC.properties.itemTextHMargin,y:U+this.OC.properties.itemTextHMargin},{width:J,height:$});"rect"==this.Icon?this.DrawRect(this.context,a,tt,Q,Y,H):"arc"==this.Icon&&this.DrawCircle(this.context,V+Z,U+Z,Z,Q,Y,H)}if(x.text){"center"!=this.OC.properties.itemTextHAlign&&(p+=this.OC.properties.itemTextHMargin);E=M+s.height-f;for(var et,it,st=[],at=[],ot=0,rt=0,nt=x.text.length;rt<nt;rt++){if((N=x.text[rt])&&""!=N){it=this.OC.properties.itemFontStyle,x.textFont&&x.textFont[rt]&&(it=x.textFont[rt]);j=((lt=DxChart._parseFontInfo(it)).italic?"italic ":"")+(lt.bold?"bold ":"")+lt.size+"px "+lt.face;st[rt]=this.GetTextSize(N,j),at[rt]=lt,ot+=st[rt][1]+this.OC.properties.itemTextVMargin}}E>ot&&"middle"==this.properties.itemTextVAlign?f=f+(E-ot)/2-this.OC.properties.itemTextVMargin/2:E>ot&&(f=f+(E-ot)/2-this.OC.properties.itemTextVMargin);var ht=p+(d+s.width-p)/2;for(rt=0,nt=x.text.length;rt<nt;rt++){if((N=x.text[rt])&&""!=N){et=this.OC.properties.itemTextColor,x.textColor&&x.textColor[rt]&&(et=x.textColor[rt]);var lt=at[rt];F=st[rt];"center"==this.OC.properties.itemTextHAlign?this.DrawText(o,"center","top",ht,f+this.OC.properties.itemTextVMargin,N,et,lt):this.DrawText(o,"left","top",p,f+this.OC.properties.itemTextVMargin,N,et,lt),f+=F[1]+this.OC.properties.itemTextVMargin}}}},this.DrawText=function(t,e,i,s,a,o,r,n){t.textAlign=e,t.textBaseline=i,isNexacroRuntime&&(t.setElementTextAlign("left"==e?"start":"right"==e?"end":"center"),t.setElementTextBaseline(t.textBaseline)),t.fillStyle=r,isNexacroRuntime&&t.setElementFillStyle(r);var h=(n.italic?"italic ":"")+(n.bold?"bold ":"")+n.size+"px "+n.face;if(isNexacroRuntime){var l=new nexacro.FontObject(h);t.setElementFont(l)}else t.font=h;t.fillText(o,s,a)},this.IsSolid=function(t){return null!=t&&null!=t&&("boolean"!=typeof t||t)},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.HasSearch=function(){return null!==this.OC.NodeSearch&&void 0!==this.OC.NodeSearch},this.IsInSearch=function(t,e){return e/=OC.dpr,this.HasSearch()&&e>this.SeperatorY},this.AddChild=function(t){this.Children.push(t)},this.RefreshLevel=function(){var t=this.Level;return this.Each(this.Children,function(e){return e.Level=t+1,e.RefreshLevel()})},this.Count=function(t,e,i,s,a){var o=this.OC.properties;null==e[this.Level]||null==e[this.Level]?(e[this.Level]=1,i[this.Level]={w:t.Dimen.width,h:t.Dimen.height},s[this.Level]={w:t.Dimen.width,h:t.Dimen.height}):(e[this.Level]+=1,"top"==o.treePosition?(i[this.Level].w=i[this.Level].w+t.Dimen.width,i[this.Level].h=Math.max(i[this.Level].h,t.Dimen.height),1==a&&(s[this.Level].w=s[this.Level].w+t.Dimen.width,s[this.Level].h=Math.max(s[this.Level].h,t.Dimen.height))):(i[this.Level].w=Math.max(i[this.Level].w,t.Dimen.width),i[this.Level].h=i[this.Level].h+t.Dimen.height,1==a&&(s[this.Level].w=Math.max(s[this.Level].w,t.Dimen.width),s[this.Level].h=s[this.Level].h+t.Dimen.height)),0==t.Expand&&(a=!1)),this.Each(this.Children,function(t){t.Count(t,e,i,s,a)})},this.SetLevelInfo=function(t){var e={},i=[],s=[];this.Count(t,e,i,s,!0);var a=1,o=1;for(var r in e)o++,e[r]>a&&(a=e[r]);for(var n=0,h=0,l=0;l<i.length;l++)n=Math.max(i[l].w,n),h=Math.max(i[l].h,h);this.LevelMaxSize=[n,h],n=0,h=0;for(l=0;l<s.length;l++)n=Math.max(s[l].w,n),h=Math.max(s[l].h,h);this.LevelMaxShowSize=[n,h],this.LevelDict=e,this.LevelDictSize=i,this.LevelDictShowSize=s,this.LevelMaxNodes=a,this.Depth=o},this.RealSpan=function(){return[Math.max(this.SpanWidth,this.Dimen.width),Math.max(this.SpanHeight,this.Dimen.height)]},this.ComputeSpan=function(){var t=0,e=1,i=0,s=0,a=!1,o=0,r=0,n=1;if(this.Children.length>0&&(this.IsRoot||this.parentNode&&1==this.parentNode.Expand)){if(this.properties.itemLeafGrouping&&1==this.LeafGroup){a=!0;for(var h=0;h<this.Children.length;++h)o=Math.max(o,this.Dimen.width),r+=this.Dimen.height,n+=this.Children[h].Size}if(a){i+=o,s+=r,e+=n;for(h=0;h<this.Children.length;++h)this.Children[h].SpanWidth=this.Dimen.width,this.Children[h].SpanHeight=this.Dimen.height}else for(h=0;h<this.Children.length;++h)i+=(t=this.Children[h].ComputeSpan())[0],s+=t[1],e+=this.Children[h].Size}return 0==i&&(i=this.Dimen.width),0==s&&(s=this.Dimen.height),this.Size=e,this.SpanWidth=i,this.SpanHeight=s,this.RealSpan()},this.GetTextSize=function(t,e){if(isNexacroRuntime){var i=new nexacro.FontObject(e),s=nexacro._getTextSize(t,i);return i=null,[s[0],s[1]]}this.context.font=e;var a=this.context.measureText(t);return[a.width,a.actualBoundingBoxAscent+a.actualBoundingBoxDescent]},this.FindNode=function(t){return this.Id==t?this:this.Each(this.Children,function(e,i){return e.FindNode(t)})},this.ClickMe=function(t,e){return t/=this.OC.dpr,e/=this.OC.dpr,t>this.Position.x&&t<this.Position.x+this.Dimen.width&&e>this.Position.y&&e<this.Position.y+this.Dimen.height},this.drawImage=function(t,e,i,s,a,o,r,n,h,l){var c;null==h&&(h=1),null==r&&(r=0);var x=t.split("/").join("");x=x.split("::").join("");var d=t;isNexacroRuntime&&(c={});var u=this.OC.sequence;if("string"==typeof t)if(void 0===this.canvas["_cached_"+x+s]){var g=this;if(isNexacroRuntime){c.src=d,c.handle=nexacro._getImageObject(d,function(t,l,d,p){c.width=l,c.height=d,c.imagewidth=l,c.imageheight=d,g._drawImageCallback(u,x,c,e,i,s,a,o,r,n,h)},this,"",!1)}else{if(c=new Image,nexacro){if("url("==d.substring(0,4).toLowerCase()&&(d=d.substring(5,d.length-2)),!d||!d.length)return null;d=nexacro._getImageLocation(d)}c.onload=function(){g._drawImageCallback(u,x,c,e,i,s,a,o,r,n,h)},c.src=d}}else c=this.canvas["_cached_"+x+s],this._drawImageCallback(u,x,c,e,i,s,a,o,r,n,h)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){if(t==this.OC.sequence){i.cube=this,this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i);var x=this.context,d=x.lineWidth;if(x.save(),"rect"==n)x.beginPath(),x.moveTo(s,a),x.lineTo(s+o,a),x.lineTo(s+o,a+r),x.lineTo(s,a+r),x.lineTo(s,a),x.lineTo(s,a);else if("roundrect"==n);else if("arc"==n){var u=parseInt(s+o/2),g=parseInt(a+r/2),p=parseInt(o/2);x.beginPath(),x.moveTo(u,g),x.arc(u,g,p,0,2*DxChart.PI)}h>0&&(x.lineWidth=h,isNexacroRuntime&&x.setElementLineWidth(h),x.strokeStyle=l,isNexacroRuntime&&x.setElementStrokeStyle(l),x.stroke()),x.clip();var f=x.globalAlpha;x.globalAlpha=c,isNexacroRuntime&&x.setElementGlobalAlpha(c),x.drawImage(i,s,a,o,r),x.restore(),x.globalAlpha=f,isNexacroRuntime&&x.setElementGlobalAlpha(x.globalAlpha),x.lineWidth=d,isNexacroRuntime&&x.setElementLineWidth(d)}},this.Draw=function(){var t={width:this.Dimen.width-2*this.properties.itemNodeGapSize,height:this.Dimen.height},e={x:this.Position.x,y:this.Position.y};this.properties.itemLeafGrouping&&1==this.LeafGroup?0==this.Children.length?this.DrawItemRect(null,0,0,t,e):this.DrawItemRect(this,0,99,t,e):this.DrawItemRect(null,0,0,t,e),this.OC.coords.push([this,"node",this.Position.x-this.Dimen.width/2,this.Position.y,this.Dimen.width,this.Dimen.height]);this.Position.x,this.Position.y;if(1==this.Expand){if(this.Children.length>1){if(this.properties.itemLeafGrouping&&1==this.LeafGroup){for(var i={x:this.Position.x,y:this.Position.y+this.Dimen.height},s=0;s<this.Children.length;++s){t={width:this.Children[s].Dimen.width-2*this.properties.itemNodeGapSize,height:this.Children[s].Dimen.height},e={x:this.Children[s].Position.x,y:this.Children[s].Position.y};1==this.Children[s].Expand&&(s>0&&(i={x:this.Children[s-1].Position.x,y:this.Children[s-1].y+this.Children[s-1].Dimen.height}),s>0&&(i={x:this.Children[s-1].Position.x,y:this.Children[s-1].Position.y+this.Children[s-1].Dimen.height}),this.DrawConnection(this.context,i,{x:this.Children[s].Position.x,y:this.Children[s].Position.y}),this.Children[s].DrawItemRect(this.Children[s],s+1,this.Children.length+1,t,e),this.OC.coords.push([this.Children[s],"node",e.x-t.width/2,e.y,t.width,t.height]))}return}}this.Each(this.Children,function(t){return t.Draw()})}if(this.Children.length>0){i={x:this.Position.x,y:this.Position.y+this.Dimen.height};if(this.properties.itemExpandShow){if(this.OC.coords.push([this,"expand",i.x,i.y,this.properties.itemExpandWidth,this.IsExpand]),this.DrawCircle(this.context,i.x,i.y,this.properties.itemExpandWidth,this.properties.itemExpandBackgroundColor,this.properties.itemExpandLineColor,this.properties.itemExpandLineWidth),1!=this.IsExpand)return void this.DrawCircleMinus(this.context,i.x,i.y,this.properties.itemExpandWidth,this.properties.itemExpandBackgroundColor,this.properties.itemExpandIconColor,this.properties.itemExpandLineWidth);this.DrawCirclePlus(this.context,i.x,i.y,this.properties.itemExpandWidth,this.properties.itemExpandBackgroundColor,this.properties.itemExpandIconColor,this.properties.itemExpandLineWidth)}var a=i.y+(this.Children[0].Position.y-i.y)/2,o={x:i.x,y:i.y+(this.properties.itemExpandShow&&this.properties.itemExpandWidth>0?this.properties.itemExpandWidth:0)};if("top"==this.properties.treePosition&&this.DrawConnection(this.context,o,{x:i.x,y:a}),1==this.Expand){for(s=0;s<this.Children.length;++s){var r={x:this.Children[s].Position.x,y:a};this.DrawConnection(this.context,r,{x:r.x,y:this.Children[s].Position.y})}if(this.Children.length>1){var n={x:this.Children[0].Position.x,y:a},h={x:this.Children[this.Children.length-1].Position.x,y:a};this.DrawConnection(this.context,n,h)}}}return null},this}function DxChartRadar(t){return DxChart._Base.call(this,t,"radar"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"filled"),DxChart.setDefaultProperties(this,"default"),this.orgData=[],this.properties.backgroundGrid=!1,this.properties.labelsData=[],this.properties.xaxisTickmarksCount=5,this.properties.yaxisTickmarksCount=5,this.properties.highlightValue=!1,this.properties.highlightStroke=null,this.properties.colorsAlpha=.5,this.properties.labelsAxesCount=5,this.properties.highlightsStroke="#dddddd",this.properties.highlightFill=null,this.properties.highlightStyleInvertFill="rgba(255,255,255,0.7)",this.properties.fillHighlightFill="rgba(255,255,255,0.7)",this.properties.fillHighlightStroke="rgba(0,0,0,0)",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t,!0)),"number"==typeof(t=DxChart.str2num(t))[0]&&(t=[t]),this.data=[],this.max=0;for(var e=0,i=t.length;e<i;++e){for(var s=0;s<t[e].length;++s)"string"==typeof t[e][s]&&(t[e][s]=parseFloat(t[e][s]));this.orgData.push(DxChart.arrayClone(t[e])),this.data.push(DxChart.arrayClone(t[e])),this.max=Math.max(this.max,DxChart.arrayMax(t[e])),this.unmodified_data=DxChart.arrayClone(this.orgData)}for(var a=0;a<this.data.length;++a)if(this.data[a].length<3)return void trace("[RADAR] You must specify at least 3 data points");var o=0;this.data_arr=[];for(a=0;a<this.data.length;++a)for(e=0,i=this.data[a].length;e<i;++e)this["$"+o++]={},this.data_arr.push(this.data[a][e])},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this,!0),this.coords=[],this.coords2=[],this.coordsText=[],this.data=DxChart.arrayClone(this.orgData),t.accumulative)for(var e=0;e<this.data.length;++e)this.data[e].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has the accumulative option set to true all the datasets must have the same number of elements");if(DxChart.isNull(t.labelsAxesBoxed)){t.labelsAxesBoxed=[];for(e=0;e<(DxChart.isArray(t.labelsAxesSpecific)&&t.labelsAxesSpecific.length||t.labelsAxesCount||5);++e)t.labelsAxesBoxed[e]=!1}if(this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.radius=Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,!(this.radius<0)){if("number"==typeof t.centerx&&(this.centerx=2*t.centerx),"number"==typeof t.centery&&(this.centery=2*t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t.scaleMax){var i=t.scaleMax;this.scale2=DxChart.getScale({object:this,options:{"scale.max":i,"scale.min":0,"scale.strict":!0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}}),this.max=this.scale2.max}else{if(t.accumulative){var s=this.orgData[0].length;for(e=1;e<this.orgData.length;++e){this.orgData[e].length!=s&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var a=0;a<this.orgData[e].length;++a)this.data[e][a]+=this.data[e-1][a],this.max=Math.max(this.max,this.data[e][a])}}this.scale2=DxChart.getScale({object:this,options:{"scale.max":"number"==typeof t.scaleMax?t.scaleMax:this.max,"scale.min":0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}}),this.max=this.scale2.max}return this.drawBackground(),this.drawAxes(),this.drawCircle(),this.drawLabels(),this.context.save(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,2*this.radius,-DxChart.HALFPI,DxChart.TWOPI*t.animationTraceClip-DxChart.HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.clip(),this.drawChart(),this.drawHighlights(),this.context.restore(),!0===t.lineLastDraw&&this.drawBackground(!0),this.drawAxisLabels(),t.titleText&&DxChart.drawTitle(this),t.keyData&&DxChart.drawKey(this,t.keyData,t.colors),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),!t.filledClick&&!t.filledMousemove&&DxChart.isNull(t.filledTooltips)||this.__fill_click_listeners_installed__||(this.addFillListeners(),this.__fill_click_listeners_installed__=!0),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.drawBackground=function(t){var e=this.properties,i=e.backgroundCirclesColor,s=e.backgroundCirclesPoly,a=(e.backgroundCirclesSpacing,e.backgroundCirclesSpokes),o=e.backgroundCirclesFillColors;if(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),e.backgroundCircles&&0==s){this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();var r,n="number"==typeof e.backgroundCirclesCount?e.backgroundCirclesCount:e.labelsAxesCount,h=0;if(!t)if(isNexacroRuntime&&o){for(var l=this.radius;l>=0;l-=this.radius/n)o&&this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,l,0,DxChart.TWOPI,!1),o&&(l>0&&(o[n-++h]?this.context.fillStyle=o[n-h]:o[0]&&(this.context.fillStyle=o[0]),this.context.setElementFillStyle(this.context.fillStyle),t||this.context.fill()),r=l);this.context.stroke()}else{for(l=0;l<=this.radius;l+=this.radius/n)o&&this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,l,0,DxChart.TWOPI,!1),o&&(r>0&&this.context.arc(this.centerx,this.centery,r,DxChart.TWOPI,0,!0),l>0&&(o[h]?this.context.fillStyle=o[h]:o[0]&&(this.context.fillStyle=o[0]),this.context.fill(),h++),r=l);this.context.stroke()}if(this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),isNexacroRuntime)for(var c=a,x=0;x<c;x++){this.radius;var d=DxChart.TWOPI/c*x;d-=DxChart.HALFPI;var u=this.centerx+Math.cos(d)*this.radius,g=this.centery+Math.sin(d)*this.radius;this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(u,g),this.context.closePath(),this.context.stroke()}else for(x=0;x<360;x+=360/a)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,x/360*DxChart.TWOPI,(x+.001)/360*DxChart.TWOPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()}else if(e.backgroundCircles&&1==s){this.context.strokeStyle=i,isNexacroRuntime&&(this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.setElementFillStyle(this.context.strokeStyle));var p=360/this.data[0].length;if(isNexacroRuntime){Math.PI,Math.PI,this.data[0].length;this.context.setElementLineWidth(1);for(c=this.data[0].length,x=0;x<c;x++){this.radius,d=DxChart.TWOPI/c*x;d-=DxChart.HALFPI;u=this.centerx+Math.cos(d)*this.radius,g=this.centery+Math.sin(d)*this.radius;this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(u,g),this.context.closePath(),this.context.stroke()}}else for(x=0;x<360;x+=p)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,x/360*DxChart.TWOPI-DxChart.HALFPI,(x+.001)/360*DxChart.TWOPI-DxChart.HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke();this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(i);n="number"==typeof e.backgroundCirclesCount?e.backgroundCirclesCount:e.labelsAxesCount;if(!t)if(isNexacroRuntime)for(c=this.data[0].length,l=0;l<=this.radius;l+=this.radius/n){this.context.beginPath();for(x=0;x<c;x++){this.radius,d=DxChart.TWOPI/c*x;d-=DxChart.HALFPI;u=this.centerx+Math.cos(d)*l,g=this.centery+Math.sin(d)*l;0==x&&this.context.moveTo(u,g),this.context.lineTo(u,g)}this.context.closePath(),this.context.stroke()}else for(l=0;l<=this.radius;l+=this.radius/n){this.context.beginPath();for(var f=0;f<=360;f+=360/this.data[0].length)this.context.arc(this.centerx,this.centery,l,DxChart.toRadians(f)-DxChart.HALFPI,DxChart.toRadians(f)+.001-DxChart.HALFPI,!1);this.context.closePath(),this.context.stroke()}}},this.drawAxes=function(){var t=this.properties;this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.axesLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);this.radius;this.context.beginPath(),this.context.moveTo(Math.round(this.centerx),this.centery+this.radius),this.context.lineTo(Math.round(this.centerx),this.centery-this.radius),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var e=this.centery-this.radius;e<this.centery+this.radius;e+=this.radius/t.yaxisTickmarksCount)this.context.moveTo(this.centerx-3,Math.round(e)),this.context.lineTo(this.centerx+3,Math.round(e));this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var i=this.centerx-this.radius;i<this.centerx+this.radius;i+=this.radius/t.xaxisTickmarksCount)this.context.moveTo(Math.round(i),this.centery-3),this.context.lineTo(Math.round(i),this.centery+3);this.context.stroke()},this.drawChart=function(){var t=this.properties,e=t.colorsAlpha;if("number"==typeof e){var i=this.context.globalAlpha;this.context.globalAlpha=e,isNexacroRuntime&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha))}this.data.length;for(var s=0;s<this.data.length;++s){for(var a=[],o=0;o<this.data[s].length;++o){var r=this.getCoordinates(s,o);null==a&&(a=[]),a.push(r),this.coords.push(r)}this.coords2[s]=a,this.context.strokeStyle="object"==typeof t.colorsStroke&&t.colorsStroke[s]?t.colorsStroke[s]:t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colors[s]?t.colors[s]:"transparent",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"transparent"===this.context.fillStyle&&(this.context.fillStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle)),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(o=0;o<a.length;++o)0==o?this.context.moveTo(a[o][0],a[o][1]):this.context.lineTo(a[o][0],a[o][1]);if(t.accumulative&&s>0){this.context.lineTo(a[0][0],a[0][1]),this.context.moveTo(n[0][0],n[0][1]);for(o=a.length-1;o>=0;--o)this.context.lineTo(n[o][0],n[o][1])}var n=a;this.context.closePath(),isNexacroRuntime&&"transparent"!=this.context.fillStyle&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.fill(),isNexacroRuntime&&(this.context._globalAlphaStroke=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.beginPath();for(o=0;o<a.length;++o)0==o?this.context.moveTo(a[o][0],a[o][1]):this.context.lineTo(a[o][0],a[o][1]);this.context.closePath(),this.context.stroke()}"number"==typeof e&&(this.context.globalAlpha=i,isNexacroRuntime&&(this.context._globalAlphaFill=this.context.globalAlpha,this.context._globalAlphaStroke=this.context.globalAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)))},this.getCoordinates=function(t,e){this.properties;var i=this.data[t].length,s=this.data[t][e]/this.max*this.radius,a=DxChart.TWOPI/i*e;a-=DxChart.HALFPI;var o=Math.cos(a)*s,r=Math.sin(a)*s;return[o=this.centerx+o,r=this.centery+r]},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data[0].length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[0][e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}var i=t.labelsData;if(i&&i.length>0){this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle="gray",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.labelsColor||t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var s=t.labelsBackgroundFill,a=(t.labelsBold,t.labelsBoxed),o=t.labelsOffsetRadius,r=(t.textFontStyleObj.face,t.textFontStyleObj.size,this.radius);for(t.labelsColor||t.textColor,e=0;e<i.length;++e){var n=DxChart.TWOPI/t.labelsData.length*e;n-=DxChart.HALFPI;var h=this.centerx+Math.cos(n)*(r+10+o),l=this.centery+Math.sin(n)*(r+10+o),c=h<this.centerx?"right":"left";if(0!=e&&e/i.length!=.5||(c="center"),0==e&&"n"==t.labelsAxes&&(l-=5),i[e]&&i[e].length){var x=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:x.font,size:x.size,color:x.color,bold:x.bold,italic:x.italic,x:h,y:l,text:i[e],valign:"center",halign:c,bounding:a,boundingFill:s,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e})})}}}},this.drawCircle=function(){var t=this.properties,e={};if(e.limit=t.circleLimit,e.fill=t.circleFill,e.stroke=t.circleStroke,e.limit){var i=e.limit/this.max*this.radius;this.context.fillStyle=e.fill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=e.stroke,this.context.beginPath(),this.context.arc(this.centerx,this.centery,i,0,DxChart.TWOPI,0),this.context.fill(),this.context.stroke()}},this.drawAxisLabels=function(){var t=this.properties;if(DxChart.isArray(t.labelsAxesSpecific)&&t.labelsAxesSpecific.length)this.drawSpecificAxisLabels();else{this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var e=this.radius,i=(t.textFontStyleObj.face,t.labelsAxes.toLowerCase()),s=t.labelsAxesBoxedBackground,a=!1,o=t.scaleUnitsPre,r=t.scaleUnitsPost,n=(t.scaleDecimals,t.labelsAxesBold,t.labelsAxesBoxed),h=this.centerx,l=this.centery;this.scale;this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var c=DxChart.getTextInfo({object:this,prefix:"labelsAxes"});if(i.indexOf("n")>-1){for(var x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+t.labelsAxesOffsetX,y:l-e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}if(i.indexOf("s")>-1){for(x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+t.labelsAxesOffsetX,y:l+e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}if(i.indexOf("e")>-1){for(x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}if(i.indexOf("w")>-1){for(x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h-e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}a&&DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:DxChart.numberFormat({object:this,number:Number(0).toFixed(),unitspre:o,unitspost:r}),valign:"center",halign:"center",bounding:!!s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})}},this.drawSpecificAxisLabels=function(){for(var t=this.properties,e=t.labelsAxesSpecific,i=DxChart.arrayPad(t.labelsAxesBoxed,e.length),s=DxChart.arrayReverse(e),a=DxChart.arrayReverse(i),o=t.labelsAxes.toLowerCase(),r=DxChart.getTextInfo({object:this,prefix:"labelsAxes"}),n=0;n<e.length;++n)o.indexOf("n")>-1&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx,y:this.centery-this.radius+this.radius/e.length*n,text:s[n],valign:"center",halign:"center",bounding:a[n],boundingFill:"white"}),o.indexOf("s")>-1&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx,y:this.centery+this.radius/e.length*(n+1),text:e[n],valign:"center",halign:"center",bounding:i[n],boundingFill:"white"}),o.indexOf("w")>-1&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx-this.radius+this.radius/e.length*n,y:this.centery,text:s[n],valign:"center",halign:"center",bounding:a[n],boundingFill:"white"}),o.indexOf("e")>-1&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx+this.radius/e.length*(n+1),y:this.centery,text:e[n],valign:"center",halign:"center",bounding:i[n],boundingFill:"white"})},this.getShape=function(t){for(var e=this.properties,i=e.tooltipsData,s=0;s<this.coords.length;++s){var a=this.coords[s][0],o=this.coords[s][1],r=Number(s),n=DxChart.getMouseXY(t),h=n[0],l=n[1];if(h<a+5&&h>a-5&&l>o-5&&l<o+5){var c;DxChart.parseTooltipText&&(c=DxChart.parseTooltipText(i,r));var x=DxChart.sequentialIndexToGrouped(r,this.data),d=x[0],u=x[1];return{object:this,x:a,y:o,index:u,dataset:d,sequentialIndex:r,label:e.labelsData&&"string"==typeof e.labelsData[u]?e.labelsData[u]:null,tooltip:"string"==typeof c?c:null}}}},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("invert"===e.highlightStyle){this.path("b a % % % % % true",t.x,t.y,25,4.72,-1.57);for(var i=0;i<=360;i+=360/this.data[0].length)this.path("a % % % % % false"),this.context.arc(this.centerx,this.centery,this.radius,DxChart.toRadians(i)-DxChart.HALFPI,DxChart.toRadians(i)+.001-DxChart.HALFPI,!1);this.path("a % % % % % false c f %",this.centerx,this.centery,this.radius,0-DxChart.HALFPI,.001-DxChart.HALFPI,e.highlightFill),this.path("b a % % % % % false s %",t.x,t.y,25,0,6.29,e.highlightStroke)}else DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.centerx-this.radius-5&&e[0]<this.centerx+this.radius+5&&e[1]>this.centery-this.radius-5&&e[1]<this.centery+this.radius+5)return this},this.drawHighlights=function(){var t=this.properties;if(t.highlightValue){var e=0,i=0,s=0,a=t.highlightRadius;for(i=0;i<this.data.length;++i)for(s=0;s<this.data[i].length;++s)this.context.beginPath(),this.context.fillStyle=t.highlightFill?t.highlightFill:"object"==typeof t.colorsStroke&&t.colorsStroke[i]?t.colorsStroke[i]:t.colorsStroke,t.highlightStroke?(this.context.strokeStyle=t.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle)):(this.context.strokeStyle=this.context.fillStyle,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle)),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.coords[e][0],this.coords[e][1],a,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill(),++e}},this.getRadius=function(t){return t<0||t>this.max?null:t/this.max*this.radius},this.getAngle=function(t,e){var i=DxChart.TWOPI/t*e;return i-=DxChart.HALFPI},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.titleColor=DxChart.arrayClone(t.titleColor),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.labelsColor=DxChart.arrayClone(t.labelsColor),this.original_colors.labelsAxesColor=DxChart.arrayClone(t.labelsAxesColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.circleFill=DxChart.arrayClone(t.circleFill),this.original_colors.circleStroke=DxChart.arrayClone(t.circleStroke),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke));for(var e=0;e<t.colors.length;++e)t.colors[e]=this.parseSingleColorForGradient(t.colors[e]);var i=t.keyColors;if("null"!=typeof i&&i&&i.length)for(e=0;e<t.keyColors.length;++e)t.keyColors[e]=this.parseSingleColorForGradient(t.keyColors[e]);if(t.titleColor=this.parseSingleColorForGradient(t.titleColor),t.textColor=this.parseSingleColorForGradient(t.textColor),t.labelsColor=this.parseSingleColorForGradient(t.labelsColor),t.labelsAxesColor=this.parseSingleColorForGradient(t.labelsAxesColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.circleFill=this.parseSingleColorForGradient(t.circleFill),t.circleStroke=this.parseSingleColorForGradient(t.circleStroke),"object"==typeof t.colorsStroke)for(e=0;e<t.colorsStroke.length;++e)t.colorsStroke[e]=this.parseSingleColorForGradient(t.colorsStroke[e]);else t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke)},this.reset=function(){},this.addFillListeners=function(t){var e=this.properties,i=this,s=function(t,s){if(isNexacroRuntime){var a=t;(t={}).pageX=s.clientx,t.pageY=s.clienty,t.offsetX=s.pageX,t.offsetY=s.pageY,t.type="onclick"==s.id?"click":"mousemove",t.target=a}i.coords,i.coords2;var o=DxChart.getMouseXY(t),r=0;"mousemove"==t.type&&e.filledMousemoveRedraw&&DxChart.redrawCanvas(i.canvas);for(r=i.coords2.length-1;r>=0;--r){i.context.beginPath(),i.context.moveTo(i.coords2[r][0][0],i.coords2[r][0][1]);for(var n=0;n<i.coords2[r].length;++n)i.context.lineTo(i.coords2[r][n][0],i.coords2[r][n][1]);if(i.context.lineTo(i.coords2[r][0][0],i.coords2[r][0][1]),e.accumulative&&r>0){i.context.lineTo(i.coords2[r-1][0][0],i.coords2[r-1][0][1]);for(n=i.coords2[r-1].length-1;n>=0;--n)i.context.lineTo(i.coords2[r-1][n][0],i.coords2[r-1][n][1])}if(i.context.closePath(),i.context.isPointInPath(o[0],o[1])){var h=!0;break}}if(h){var l=e.filledTooltips;"click"==t.type&&(e.filledClick&&e.filledClick(t,r),e.filledTooltips&&e.filledTooltips[r]&&i.datasetTooltip(t,r)),"mousemove"==t.type&&(e.filledMousemove&&e.filledMousemove(t,r),DxChart.isNull(l)||(isNexacroRuntime?t.target.set_cursor("pointer"):t.target.style.cursor="pointer"),e.filledTooltips&&e.filledTooltips[r]&&(isNexacroRuntime?t.target.set_cursor("pointer"):t.target.style.cursor="pointer")),isNexacroRuntime?s.stopPropagation():t.stopPropagation()}else"mousemove"==t.type&&(isNexacroRuntime?t.target.set_cursor("default"):t.target.style.cursor="default")};!e.filledClick&&DxChart.isNull(e.filledTooltips)||(isNexacroRuntime?this.canvas.addEventHandler("onclick",s,this):this.canvas.addEventListener("click",s,!1)),!e.filledMousemove&&DxChart.isNull(e.filledTooltips)||(isNexacroRuntime?this.canvas.addEventHandler("mousemove",s,this):this.canvas.addEventListener("mousemove",s,!1))},this.highlightDataset=function(t){var e=this.properties;this.context.beginPath();for(var i=0;i<this.coords2[t].length;++i)0==i?this.context.moveTo(this.coords2[t][0][0],this.coords2[t][0][1]):this.context.lineTo(this.coords2[t][i][0],this.coords2[t][i][1]);if(this.context.lineTo(this.coords2[t][0][0],this.coords2[t][0][1]),e.accumulative&&t>0){this.context.lineTo(this.coords2[t-1][0][0],this.coords2[t-1][0][1]);for(i=this.coords2[t-1].length-1;i>=0;--i)this.context.lineTo(this.coords2[t-1][i][0],this.coords2[t-1][i][1])}this.context.strokeStyle=e.filledHighlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.filledHighlightFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.stroke(),this.context.fill()},this.datasetTooltip=function(t,e){DxChart.redrawCanvas(this.canvas);var i=this.properties;this.highlightDataset(e);var s=i.filledTooltips[e],a=this.coords2[e][0][0]+DxChart.getCanvasXY(this.canvas)[0],o=this.coords2[e][0][1]+DxChart.getCanvasXY(this.canvas)[1];DxChart.showTooltip({object:this,text:s,x:a,y:o,index:0,event:t})},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords2[t];if(i){var s=this.context.lineWidth,a=this.context.lineCap;this.context.lineWidth=e.lineWidth+10,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke[t]?e.keyInteractiveHighlightChartStroke[t]:e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var o=0,r=i.length;o<r;o+=1)0==o?this.context.moveTo(i[o][0],i[o][1]):this.context.lineTo(i[o][0],i[o][1]);this.context.closePath(),this.context.stroke(),this.context.lineWidth=s,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap=a,isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)}},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i);break;case"trace":this.trace(e,i)}},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[1]?arguments[1]:function(){},i=arguments[0]?arguments[0]:{},s=i.frames?i.frames:30,a=0,o=DxChart.arrayClone(this.unmodified_data);return function i(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{for(var r=0,n=o.length;r<n;++r)for(var h=0,l=o[r].length;h<l;++h)t.orgData[r][h]=a/s*o[r][h];DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a<s?(a++,DxChart.Effects.updateCanvas(i,t.canvas)):e(t)}}(),this},this.trace=function(){this.cancelStopAnimation();var t=this,e=(arguments[0]||{}).frames||60,i=0,s=arguments[1]||function(){};this.orgData=DxChart.arrayClone(this.unmodified_data),this.set("animationTraceClip",0);var a=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:i<e?(t.set("animationTraceClip",i/e),i++,DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(a,t.canvas)):(t.set("animationTraceClip",1),DxChart.redrawCanvas(t.canvas),s(t))};return a(),this},this.stopAnimation=function(){this.set("animationTraceClip",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){for(var e=DxChart.sequentialIndexToGrouped(t.index,this.data),i=0,s=[];i<this.data.length;++i)s.push(this.data[i][e[1]]);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:s}},this.tooltipsFormattedCustom=function(t,e){var s=this.properties,a=!DxChart.isNull(s.tooltipsFormattedKeyColors)&&"object"==typeof s.tooltipsFormattedKeyColors&&s.tooltipsFormattedKeyColors[i]?s.tooltipsFormattedKeyColors[i]:"";return{label:!DxChart.isNull(s.tooltipsFormattedKeyLabels)&&"object"==typeof s.tooltipsFormattedKeyLabels&&s.tooltipsFormattedKeyLabels[e]?s.tooltipsFormattedKeyLabels[e]:"",color:a}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=t.index,a=DxChart.getCanvasXY(e.canvas),o=e.coords[s];isNexacroRuntime?(t.tooltip.set_left(a[0]+o[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(a[1]+o[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY-15-(e.properties.highlightRadius-4))):(t.tooltip.style.left=a[0]+o[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]+o[1]-i.offsetHeight+e.properties.tooltipsOffsetY-15-(e.properties.highlightRadius-4)+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartRose(t){return DxChart._Base.call(this,t,"rose"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"segment"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsPosition="center",this.properties.backgroundGridCirclesCount=5,this.properties.marginDefault=5,this.properties.variantValue="stacked",this.properties.labelsAxesCount=5,this.properties.labelsAxes="n",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.5)",this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.angles=[],this.angles2=[],t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i,s,a){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i),s=DxChart._getColumnDataset(this.binddataset,s),a=DxChart.parseDataset(this,a)),this.data=DxChart.str2num(a);var o=DxChart.arrayLinearize(this.data);this.data_seq=o,this.data_arr=o;for(var r=0;r<o.length;++r)this["$"+r]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this,!0),this.radius=Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.angles=[],this.angles2=[],this.total=0,this.startRadians=t.anglesStart,this.coordsText=[],t.keyData&&t.keyData.length&&t.keyData.length>=3&&(this.centerx=this.centerx-this.marginRight+5),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.parseColors(),-1!==t.variantValue.indexOf("3d")){this.context.setTransform(1.5,0,0,1,-.5*(1.5*this.canvas.width-this.canvas.width),0)}if(this.drawBackground(),-1!==t.variantValue.indexOf("3d")){DxChart.setShadow(this,"rgba(0,0,0,0.35)",0,15,25);for(var e=t.variantThreedDepth;e>0;e-=1){this.centery-=1,this.drawRose({storeAngles:!1}),DxChart.noShadow(this);for(var i=0,s=this.angles.length;i<s;i+=1){var a=this.angles[i];this.path("b m % % a % % % % % false c f rgba(0,0,0,0.1) c f rgba(0,0,0,0.1)",a[4],a[5],a[4],a[5],a[3]+1.5,a[0]-.01,a[1]+.01,!1)}}}return this.drawRose(),this.drawLabels(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.contextmenu&&DxChart.showContext(this),t.changeableValue&&DxChart.allowAdjusting(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.segmentHighlight&&(DxChart.allowSegmentHighlight||alert("[WARNING] The segment highlight function does not exist - have you included the dynamic library?"),DxChart.allowSegmentHighlight({object:this,count:"number"==typeof t.segmentHighlightCount?t.segmentHighlightCount:this.data.length,fill:t.segmentHighlightFill,stroke:t.segmentHighlightStroke})),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties,e=t.backgroundCirclesFillColors;if(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.backgroundColor&&(this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.fill()),t.backgroundGridCirclesCount){"number"==typeof t.backgroundGridCirclesCount&&(t.backgroundGridCirclesSize=this.radius/t.backgroundGridCirclesCount),this.context.beginPath(),this.context.strokeStyle=t.backgroundGridColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.CirclesColor1&&(this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle));var i,s=0;if(isNexacroRuntime&&e)for(var a=Math.round(this.radius/t.backgroundGridCirclesSize),o=this.radius;o>=0;o-=t.backgroundGridCirclesSize)this.context.beginPath(),this.context.moveTo(this.centerx+o,this.centery),this.context.arc(this.centerx,this.centery,o,0,DxChart.TWOPI,!1),o>0&&(e[a-++s]?this.context.fillStyle=e[a-s]:e[0]&&(this.context.fillStyle=e[0]),this.context.setElementFillStyle(this.context.fillStyle),this.context.fill()),this.context.closePath(),this.context.stroke();else for(o=t.backgroundGridCirclesSize;o<=this.radius;o+=t.backgroundGridCirclesSize)e&&this.context.beginPath(),this.context.moveTo(this.centerx+o,this.centery),this.context.arc(this.centerx,this.centery,o,0,DxChart.TWOPI,!1),e&&(i>0&&this.context.arc(this.centerx,this.centery,i,DxChart.TWOPI,0,!0),o>0&&(e[s]?this.context.fillStyle=e[s]:e[0]&&(this.context.fillStyle=e[0]),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill(),s++),i=o,this.context.closePath(),this.context.stroke());if(e||this.context.stroke(),this.context.beginPath(),"number"!=typeof t.backgroundGridRadialsCount&&(t.backgroundGridRadialsCount=this.data.length),t.backgroundGridRadialsCount>0)if(isNexacroRuntime){var r=t.backgroundGridRadialsCount;for(o=0;o<r;o++){this.radius;var n=DxChart.TWOPI/r*o;n-=DxChart.HALFPI;var h=this.centerx+Math.cos(n)*this.radius,l=this.centery+Math.sin(n)*this.radius;this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(h,l),this.context.closePath(),this.context.stroke()}}else{var c=360/t.backgroundGridRadialsCount,x=t.backgroundGridRadialsOffset;for(o=0;o<=360;o+=c)this.context.arc(this.centerx,this.centery,this.radius,o/(180/DxChart.PI)-DxChart.HALFPI+this.startRadians+x,(o+1e-4)/(180/DxChart.PI)-DxChart.HALFPI+this.startRadians+x,!1),this.context.lineTo(this.centerx,this.centery);this.context.stroke()}}if(t.axesUse){if(this.context.beginPath(),this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.axesLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),t.axesTickmarks){this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(o=this.centerx-this.radius;o<this.centerx+this.radius;o+=this.radius/5)this.context.moveTo(Math.round(o),this.centery-3),this.context.lineTo(Math.round(o),this.centery+3.5);for(o=this.centery-this.radius;o<this.centery+this.radius;o+=this.radius/5)this.context.moveTo(this.centerx-3,Math.round(o)),this.context.lineTo(this.centerx+3,Math.round(o))}this.context.moveTo(Math.round(this.centerx),this.centery-this.radius),this.context.lineTo(Math.round(this.centerx),this.centery+this.radius),t.axesTickmarks&&(this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius))),this.context.closePath(),this.context.stroke()}this.path("b c")},this.drawRose=function(){var t=this.properties,e=0,i=this.data,s=DxChart.toRadians(t.marginDefault);arguments[0];if(this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.isNull(t.scaleMax)){for(var a=0;a<i.length;++a)e="number"==typeof i[a]?Math.max(e,i[a]):"object"==typeof i[a]&&-1!==t.variantValue.indexOf("non-equi-angular")?Math.max(e,i[a][0]):Math.max(e,DxChart.arraySum(i[a]));this.scale2=DxChart.getScale({object:this,options:{"scale.max":e,"scale.min":0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.labelsAxesCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),this.max=this.scale2.max}else{var o=t.scaleMax;this.scale2=DxChart.getScale({object:this,options:{"scale.max":o,"scale.strict":!0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.labelsAxesCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),this.max=this.scale2.max}this.sum=DxChart.arraySum(i),this.context.moveTo(this.centerx,this.centery),this.context.stroke(),t.colorsAlpha&&(this.context.globalAlpha=t.colorsAlpha,isNexacroRuntime&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)));var r=0;if("string"==typeof t.variantValue&&-1!==t.variantValue.indexOf("non-equi-angular")){var n=0;for(a=0;a<i.length;++a)n+=i[a][1];t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);for(a=0;a<this.data.length;++a){var h=this.data[a][1]/n*DxChart.TWOPI,l=(this.data[a][0]-t.scaleMin)/(this.max-t.scaleMin)*this.radius;l*=t.animationGrowMultiplier,this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var c=this.centerx,x=this.centery,d=c-(j=t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l),u=x-j;C=t.colorsSequential?t.colors[a]:t.colors[0],isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),c=j,x=j);var g=DxChart.parseRadialGradientInfo(this,C,c,x,0,c,x,j);this.context.fillStyle=g,isNexacroRuntime&&this.context.setElementFillStyle(g),isNexacroRuntime&&t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.beginPath();var p=this.startRadians*t.animationRoundrobinFactor-DxChart.HALFPI+s,f=(this.startRadians+h)*t.animationRoundrobinFactor-DxChart.HALFPI-s;isNexacroRuntime&&(p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=(this.startRadians+h)*t.animationRoundrobinFactor-DxChart.PI-s);var m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];this.context.arc(c+m,x+b,j,p,f,0),this.context.lineTo(c+m,x+b),this.context.closePath(),this.context.stroke(),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore(),c=this.centerx,x=this.centery),this.angles[a]=[p,f,0,t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],r++,this.startRadians+=h}t.shadowUse&&(DxChart.noShadow(this),this.redrawRose()),t.lineWidth>1&&this.restrokeRose()}else{var C,y=0;t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);for(a=0;a<this.data.length;++a){h=1/this.data.length*DxChart.TWOPI;if("number"==typeof this.data[a]){this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),C=t.colorsSequential?t.colors[a]:t.colors[0];l=(this.data[a]-t.scaleMin)/(this.max-t.scaleMin)*this.radius;l*=t.animationGrowMultiplier;c=this.centerx,x=this.centery,d=c-(j=t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l),u=x-j;isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),c=j,x=j);g=DxChart.parseRadialGradientInfo(this,C,c,x,0,c,x,j);this.context.fillStyle=g,isNexacroRuntime&&this.context.setElementFillStyle(g),isNexacroRuntime&&t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.beginPath();p=this.startRadians*t.animationRoundrobinFactor-DxChart.HALFPI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.HALFPI-s;isNexacroRuntime&&(p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.PI-s);m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];this.context.arc(c+m,x+b,t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l,p,f,0),this.context.lineTo(c+m,x+b),this.context.closePath(),this.context.fill(),this.context.stroke(),isNexacroRuntime&&(this.context.restore(),c=this.centerx,x=this.centery),this.context.beginPath(),this.angles[a]=[p,f,0,l*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],r++}else if("object"==typeof this.data[a]){s=t.marginDefault/(180/DxChart.PI);if(this.angles2[a]||(this.angles2[a]=[]),isNexacroRuntime){for(var v,D=[],S=[],k=[],w=[],_=[],T=[],P=[],R=this.data[a].length,L=0;L<R;L++){v=t.colorsStroke,F=t.colorsSequential?t.colors[y++]:t.colors[L],p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.PI-s;m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];T[L]=F,P[L]=v,0==L?(O=0,I=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius,I*=t.animationGrowMultiplier,D[L]=this.centerx+m,S[L]=this.centery+b,_[L]=t.animationRoundrobinRadius?I*t.animationRoundrobinFactor:I,k[L]=p,w[L]=f,this.angles[r++]=[p,f,I*t.animationRoundrobinFactor,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,v,F],this.angles2[a][L]=[p,f,I*t.animationRoundrobinFactor,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,v,F]):(O=I,I=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius+O,I*=t.animationGrowMultiplier,D[L]=this.centerx+m,S[L]=this.centery+b,_[L]=I*t.animationRoundrobinFactor,k[L]=p,w[L]=f,this.angles[r++]=[p,f,I*t.animationRoundrobinFactor,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,v,F],this.angles2[a][L]=[p,f,I*t.animationRoundrobinFactor,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,v,F])}for(L=R-1;L>=0;L--){this.context.setElementStrokeStyle(P[L]);var j;c=D[L],x=S[L],d=c-(j=_[L]),u=x-j;this.context.save(),this.context.translate(d,u),c=j,x=j;var F=DxChart.parseRadialGradientInfo(this,T[L],this.centerx,this.centery,0,this.centerx,this.centery,this.radius);this.context.setElementFillStyle(F),t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(t.colorsAlpha)),this.context.beginPath(),this.context.arc(c,x,j,k[L],w[L],0),this.context.lineTo(c,x),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.restore()}}else for(L=0;L<this.data[a].length;++L){p=this.startRadians*t.animationRoundrobinFactor-DxChart.HALFPI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.HALFPI-s;isNexacroRuntime&&(p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.PI-s);var E,O,I;m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colors[L],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.colorsSequential&&(this.context.fillStyle=t.colors[y++],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle)),isNexacroRuntime&&t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),0==L?(this.context.beginPath(),O=0,I=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius,I*=t.animationGrowMultiplier,t.animationRoundrobinRadius?I*t.animationRoundrobinFactor:I,p,f,this.context.arc(this.centerx+m,this.centery+b,t.animationRoundrobinRadius?I*t.animationRoundrobinFactor:I,p,f,0),this.context.lineTo(this.centerx+m,this.centery+b),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles[r++]=[p,f,0,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],this.angles2[a][L]=[p,f,0,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle]):(this.context.beginPath(),O=I,I=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius+O,I*=t.animationGrowMultiplier,this.context.arc(this.centerx+m,this.centery+b,O*t.animationRoundrobinFactor,p,f,0),this.context.arc(this.centerx+m,this.centery+b,I*t.animationRoundrobinFactor,f,p,!0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles[r++]=[p,f,O*t.animationRoundrobinFactor,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],this.angles2[a][L]=[p,f,O*t.animationRoundrobinFactor,I*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle])}}this.startRadians+=h}t.shadowUse&&DxChart.noShadow(this),t.shadowUse&&this.redrawRose(),t.lineWidth>1&&this.restrokeRose(),t.shadowUse&&this.redrawRose()}t.colorsAlpha&&(this.context.globalAlpha=1,isNexacroRuntime&&(this.context._globalAlphaFill=1,this.context.setElementGlobalAlpha(this.context.globalAlpha))),t.titleText&&DxChart.drawTitle(this)},this.restrokeRose=function(){for(var t=this.angles,e=0;e<t.length;++e)isNexacroRuntime?this.path("b m % % a % % % % % false l % % c s %",t[e][4],t[e][5],t[e][4],t[e][5],t[e][2],t[e][0],t[e][1],t[e][4],t[e][5],t[e][6]):this.path("b a % % % % % false a % % % % % true c s %",t[e][4],t[e][5],t[e][2],t[e][0],t[e][1],t[e][4],t[e][5],t[e][3],t[e][1],t[e][0],t[e][6])},this.redrawRose=function(){for(var t=this.angles,e=0;e<t.length;++e)isNexacroRuntime||this.path("b a % % % % % false a % % % % % true c f % f % ",t[e][4],t[e][5],t[e][2],t[e][0],t[e][1],t[e][4],t[e][5],t[e][3],t[e][1],t[e][0],t[e][6],t[e][7])},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data.length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(1);var i=t.keyData;i&&i.length&&DxChart.drawKey(this,i,t.colors),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var s=this.radius,a=t.textFontStyleObj.face,o=t.textFontStyleObj.size,r=t.labelsAxes.toLowerCase(),n=(t.scaleDecimals,t.scaleUnitsPre),h=t.scaleUnitsPost,l=this.centerx,c=this.centery+(-1!==t.variantValue.indexOf("3d")?t.variantThreedDepth:0);"object"==typeof t.labelsData&&t.labelsData&&this.drawCircularLabels(this.context,t.labelsData,a,o,s+10),"number"==typeof t.textFontStyleObj.size&&(o=t.textFontStyleObj.size);var x="rgba(255,255,255,0.8)";if(r.indexOf("n")>-1){if(t.backgroundAxes)var d=-10,u="right";else d=0,u="center";var g=DxChart.getTextInfo({object:this,prefix:"labelsAxes"});for(e=0;e<t.labelsAxesCount;++e)DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:l+d+t.labelsAxesOffsetX,y:c-s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:"center",halign:u,bounding:!0,boundingFill:x,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})}if(r.indexOf("s")>-1){if(t.backgroundAxes)d=-10,u="right";else d=0,u="center";for(e=0;e<t.labelsAxesCount;++e)DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:l+d+t.labelsAxesOffsetX,y:c+s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:"center",halign:u,bounding:!0,"bounding.fill":x,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"})}if(r.indexOf("e")>-1)for(e=0;e<t.labelsAxesCount;++e){if(t.backgroundAxes){d=10;var p="top"}else d=0,p="center";DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:l+s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetX,y:c+d+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:p,halign:"center",bounding:!0,"bounding.fill":x,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"})}if(r.indexOf("w")>-1)for(e=0;e<t.labelsAxesCount;++e){if(t.backgroundAxes)d=10,p="top";else d=0,p="center";DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:l-s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetX,y:c+d+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:p,halign:"center",bounding:!0,"bounding.fill":x,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"})}DxChart.trim(r).length>0&&DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:l+t.labelsAxesOffsetX,y:c+t.labelsAxesOffsetY,text:"number"==typeof t.scaleMin?DxChart.numberFormat({object:this,number:Number(t.scaleMin).toFixed(0===t.scaleMin?"0":t.scaleDecimals),unitspre:n,unitspost:h}):"0",valign:"center",halign:"center",bounding:!0,"bounding.fill":x,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"})},this.drawCircularLabels=function(t,e,i,s,a){for(var o,r=this.properties,n=r.variantValue,h=(r.labelsPosition,a=a+5+r.labelsOffsetRadius,this.centerx),l=this.centery+(-1!==r.variantValue.indexOf("3d")?r.variantThreedDepth:0),c=(r.labelsColor||r.textColor,this.angles),x=DxChart.getTextInfo({object:this,prefix:"labels"}),d=0;d<this.data.length;++d){if("string"==typeof n&&-1!==n.indexOf("non-equi-angular"))var u=Number(c[d][0])+(c[d][1]-c[d][0])/2;else u=(u=DxChart.TWOPI/this.data.length*(d+1)-DxChart.TWOPI/(2*this.data.length))-DxChart.HALFPI+("edge"==r.labelsPosition?DxChart.TWOPI/this.data.length/2:0),u+=r.anglesStart;var g=h+Math.cos(u)*a,p=l+Math.sin(u)*a;o=g>h?"left":Math.round(g)==h?"center":"right",DxChart.text({object:this,font:x.font,size:x.size,color:x.color,bold:x.bold,italic:x.italic,x:g,y:p,text:String(e[d]||""),halign:o,valign:"center",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:d})})}},this.getShape=function(t){for(var e=this.properties,i=this.angles,s=arguments[1]?arguments[1]:{radius:!0},a=0;a<i.length;++a){var o=i[a][0],r=i[a][1],n=!1===s.radius?0:i[a][2],h=!1===s.radius?this.radius:i[a][3],l=i[a][4],c=i[a][5],x=DxChart.getMouseXY(t);x[0],x[1];if(this.context.beginPath(),isNexacroRuntime?(this.context.arc(l,c,h,o,r,!1),this.context.lineTo(l,c)):(this.context.arc(l,c,n||.01,o,r,!1),this.context.arc(l,c,h,r,o,!0)),this.context.closePath(),this.context.isPointInPath(x[0],x[1])){if(i[a][6]=a,DxChart.parseTooltipText)var d=DxChart.parseTooltipText(e.tooltipsData,i[a][6]);var u=DxChart.sequentialIndexToGrouped(a,this.data);return i[a].object=this,i[a].x=i[a][4],i[a].y=i[a][5],i[a]["angle.start"]=i[a][0],i[a]["angle.end"]=i[a][1],i[a]["radius.start"]=i[a][2],i[a]["radius.end"]=i[a][3],i[a].index=u[1],i[a].dataset=u[0],i[a].sequentialIndex=i[a][6],i[a].tooltip=d||null,i[a].label="object"!=typeof e.labelsData||DxChart.isNull(e.labelsData)||"string"!=typeof e.labelsData[u[0]]?null:e.labelsData[i[a].dataset],"non-equi-angular"===e.variantValue&&(i[a].dataset=i[a].sequentialIndex,i[a].index=0,i[a].label=DxChart.isArray(e.labelsData)&&"string"==typeof e.labelsData[i[a].dataset]?e.labelsData[i[a].dataset]:null),{object:this,x:i[a][4],y:i[a][5],angleStart:i[a][0],angleEnd:i[a][1],radiusStart:i[a][2],radiusEnd:i[a][3],dataset:i[a].dataset,index:i[a].index,sequentialIndex:i[a][6],label:i[a].label,tooltip:"string"==typeof d?d:null}}}return null},this.getExploded=function(t,e,i,s){var a,o;return"object"==typeof s&&"number"==typeof s[t]?(a=Math.cos((i-e)/2+e)*s[t],o=Math.sin((i-e)/2+e)*s[t]):"number"==typeof s?(a=Math.cos((i-e)/2+e)*s,o=Math.sin((i-e)/2+e)*s):(a=0,o=0),[a,o]},this.allowTooltips=function(){DxChart.preLoadTooltipImages(this),DxChart.installWindowMousedownTooltipListener(this),DxChart.installCanvasMousemoveTooltipListener(this),DxChart.installCanvasMouseupTooltipListener(this)},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight){if("function"==typeof e.highlightStyle)return void e.highlightStyle(t);if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle){for(var i=0;i<this.angles.length;++i)i!==t.sequentialIndex&&(this.path("b m % % a % % % % % false",this.angles[i][4],this.angles[i][5],this.angles[i][4],this.angles[i][5],this.angles[i][3],this.angles[i][0],this.angles[i][1]),this.angles[i][2]>0?this.path("a % % % % % true",this.angles[i][4],this.angles[i][5],this.angles[i][2],this.angles[i][1],this.angles[i][0]):this.path("l % %",this.angles[i][4],this.angles[i][5]),this.path("c s % f %",e.highlightStroke,e.highlightFill));return}this.path("b a % % % % % false",t.x,t.y,t.radiusEnd,t.angleStart,t.angleEnd),!isNexacroRuntime&&t.radiusStart>0?this.path("a % % % % % true",t.x,t.y,t.radiusStart,t.angleEnd,t.angleStart):this.path("l % %",t.x,t.y),this.path("c s % f %",e.highlightStroke,e.highlightFill)}},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=DxChart.getHypLength(this.centerx,this.centery,i[0],i[1]);if(-1!==e.variantValue.indexOf("3d")){s/=-1;var a=100}else a=0;if(i[0]>this.centerx-this.radius-a&&i[0]<this.centerx+this.radius+a&&i[1]>this.centery-this.radius&&i[1]<this.centery+this.radius&&s<=this.radius)return this},this.getRadius=function(t){return t<0||t>this.max?null:t/this.max*this.radius},this.parseColors=function(){var t=this.properties;if(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),!DxChart.isNull(t.keyColors))for(var e=0;e<t.keyColors.length;++e)t.keyColors[e]=this.parseSingleColorForGradient(t.keyColors[e]);t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.segmentHighlightStroke=this.parseSingleColorForGradient(t.segmentHighlightStroke),t.segmentHighlightFill=this.parseSingleColorForGradient(t.segmentHighlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1;a<e.length;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.interactiveKeyHighlight=function(t){for(var e=this.angles2,i=0;i<this.angles2.length;i+=1)this.context.beginPath(),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=this.properties.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=this.properties.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(e[i][t][4],e[i][t][5],e[i][t][2],e[i][t][0],e[i][t][1],!1),isNexacroRuntime?this.context.lineTo(e[i][t][4],e[i][t][5]):this.context.arc(e[i][t][4],e[i][t][5],e[i][t][3],e[i][t][1],e[i][t][0],!0),this.context.closePath(),this.context.fill(),this.context.stroke()},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0],e=arguments[1],i=arguments[2];switch(t){case"explode":this.explode(e,i);break;case"roundRobin":this.roundRobin(e,i);break;case"implode":this.implode(e,i);break;case"grow":this.grow(e,i)}},this.explode=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames?e.frames:30,a=0,o=Math.max(this.canvas.width,this.canvas.height),r=Number(this.get("exploded")),n=DxChart.arrayClone(this.get("exploded"));if(DxChart.isArray(n)){r=new Array(this.data.length);for(let t=0;t<this.data.length;++t)r[t]=n[t]||0,n[t]=n[t]||0}else r=o;return function e(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{if(DxChart.isArray(n))for(let e=0;e<t.data.length;++e)r[e]=a/s*(o-n[e])+n[e];else r=a/s*o;t.set("exploded",r),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(e,t.canvas):i(t)}}(),this},this.roundRobin=function(){this.cancelStopAnimation();var t=this,e=(arguments[0]||{}).frames||30,i=0,s=360/this.data.length/2,a=arguments[1]||function(){};return this.originalMargin=this.get("margin"),this.set("margin",s),this.set("animationRoundrobinFactor",0),function s(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i++<e?(t.set("animationRoundrobinFactor",i/e),t.set("margin",i/e*t.originalMargin),DxChart.Effects.updateCanvas(s,t.canvas)):(t.set("animationRoundrobinFactor",1),t.set("margin",t.originalMargin),a(t)))}(),this},this.implode=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0,o=Math.max(this.canvas.width,this.canvas.height),r=DxChart.arrayClone(this.get("exploded"));if(DxChart.isArray(r)){var n=new Array(this.data.length);for(let t=0;t<this.data.length;++t)n[t]=o}else n=o;return function e(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{if(DxChart.isArray(r))for(let e=0;e<t.data.length;++e)n[e]=o-a/s*(o-(r[e]||0));else n=o-a/s*(o-r);t.set("exploded",n),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(e,t.canvas):(DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i(t))}}(),this},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0;return function e(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("animationGrowMultiplier",a/s),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a<s?(a++,DxChart.Effects.updateCanvas(e,t.canvas)):i(t))}(),this},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.set("animationRoundrobinFactor",1),DxChart.isNumber(this.originalMargin)&&this.set("margin",this.originalMargin),this.set("exploded",[]),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){var e,i=DxChart.sequentialIndexToGrouped(t.index,this.data),s=this.data_arr[t.index],a="number"==typeof this.data[i[0]]?[this.data[i[0]]]:this.data[i[0]];return"non-equi-angular"===this.properties.variantValue&&DxChart.isArray(this.data[i[0]])&&(s=this.data[t.index][0],e=this.data[t.index][1],i=[t.index,0]),{index:i[1],dataset:i[0],sequentialIndex:t.index,value:s,value2:"number"==typeof e?e:null,values:a}},this.tooltipsFormattedCustom=function(t,e,i){var s=this.properties,a=s.colors[e];if(s.colorsSequential&&(a=i[t.sequential]),"number"==typeof this.data[t.dataset]){var o=s.tooltipsFormattedKeyLabels[0]||"";a=s.colors[0];s.tooltipsFormattedKeyColors&&s.tooltipsFormattedKeyColors[0]&&(a=s.tooltipsFormattedKeyColors[0])}else if("object"==typeof this.data[t.dataset]&&"non-equi-angular"===s.variantValue)if(0===e){a=i[0];var r=this.data[t.dataset][0];s.tooltipsFormattedKeyColors&&s.tooltipsFormattedKeyColors[t.index]&&(a=s.tooltipsFormattedKeyColors[t.index])}else var n=!0;else"object"==typeof this.data[t.dataset]&&"non-equi-angular"!==s.variantValue&&s.tooltipsFormattedKeyColors&&s.tooltipsFormattedKeyColors[e]&&(a=s.tooltipsFormattedKeyColors[e]);return{continue:n,label:o,color:a,value:r}},this.positionTooltipStatic=function(t){var e=this.properties,i=t.object,s=t.event,a=t.tooltip,o=(t.index,DxChart.getCanvasXY(i.canvas)),r=(this.angles[t.index],this.getShape(s)),n=(r.angleEnd-r.angleStart)/2+r.angleStart,h=DxChart.getRadiusEndPoint(r.x,r.y,n,(r.radiusEnd-r.radiusStart)/2+r.radiusStart);if(-1!==e.variantValue.indexOf("3d")){this.radius;h[0]=1.5*(h[0]-this.centerx)+this.centerx}isNexacroRuntime?(t.tooltip.set_left(o[0]+h[0]-a.offsetWidth/2+i.properties.tooltipsOffsetX),t.tooltip.set_top(o[1]+h[1]-a.offsetHeight+i.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=o[0]+h[0]-a.offsetWidth/2+i.properties.tooltipsOffsetX+"px",t.tooltip.style.top=o[1]+h[1]-a.offsetHeight+i.properties.tooltipsOffsetY-10+"px")},this.resetData(t.centerx,t.centery,t.radius,t.max,t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartRScatter(t){return DxChart._Base.call(this,t,"rscatter"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"segment"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"default"),this.properties.scaleZerostart=!0,this.properties.lineScatterWidth=1,this.properties.tickmarksStyle="cross",this.properties.tooltipsFormattedKeyLabels=[],this.properties.tooltipsFormattedKeyColorsShape="square",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){if(this.binddataset&&(t=DxChart.parseDataset(this,t)),this.data=DxChart.arrayClone(t),"object"==typeof t&&"object"==typeof t[0]&&("number"==typeof t[0][0]||"string"==typeof t[0][0])){var e=DxChart.arrayClone(t);(t=new Array)[0]=DxChart.arrayClone(e),this.data=DxChart.arrayClone(t)}this.hasTooltips=!1,this.centerx=0,this.centery=0,this.radius=0,this.max=0;for(var i=0;i<this.data.length;++i)for(var s=0;s<this.data[i].length;++s)"string"==typeof this.data[i][s][0]&&(this.data[i][s][0]=parseFloat(this.data[i][s][0])),"string"==typeof this.data[i][s][1]&&(this.data[i][s][1]=parseFloat(this.data[i][s][1]));i=0;for(var a=0;i<this.data.length;++i){s=0;for(var o=this.data[i].length;s<o;s+=1,a+=1)this["$"+a]={}}},this.draw=function(){if(!this.data&&0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[0][e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}this.radius=Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.coords=[],this.coords2=[],this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius);var i=t.scaleMax,s=t.scaleMin;if("number"==typeof i)this.max=i,this.scale2=DxChart.getScale({object:this,options:{"scale.max":i,"scale.min":s,"scale.strict":!0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}});else{for(e=0;e<this.data.length;e+=1)for(var a=0,o=this.data[e].length;a<o;a+=1)this.max=Math.max(this.max,this.data[e][a][1]);this.min=0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}}),this.max=this.scale2.max}if(t.keyData&&t.keyData.length&&t.keyData.length>=3&&(this.centerx=this.centerx-t.marginRight+5),"object"==typeof t.keyData&&DxChart.isArray(t.keyData)&&t.keyData[0]){t.colors=[];for(e=0;e<this.data.length;e+=1)for(a=0,o=this.data[e].length;a<o;a+=1)"string"==typeof this.data[e][a][2]&&t.colors.push(this.data[e][a][2])}this.set("tooltipsData",[]);for(e=0;e<this.data.length;e+=1)for(a=0,o=this.data[e].length;a<o;a+=1)t.tooltipsData.push(this.data[e][a][3]);this.context.beginPath(),this.drawBackground(),this.drawRscatter(),this.drawLabels();var r=t.keyData;return r&&r.length&&DxChart.drawKey(this,t.keyData,t.colors),t.contextmenu&&DxChart.showContext(this),t.titleText&&DxChart.drawTitle(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.segmentHighlight&&DxChart.allowSegmentHighlight({object:this,count:"number"==typeof t.segmentHighlightCount?t.segmentHighlightCount:t.backgroundGridDiagonalsCount?t.backgroundGridDiagonalsCount:t.labels?t.labelsData.length:8,fill:t.segmentHighlightFill,stroke:t.segmentHighlightStroke}),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties;if("transparent"!=t.backgroundColor&&this.path("b a % % % % % false f %",this.centerx,this.centery,this.radius,0,2*Math.PI,t.backgroundColor),t.backgroundGrid){if(this.context.lineWidth=t.backgroundGridLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.backgroundGridCircles){this.context.strokeStyle=t.backgroundGridColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),DxChart.isNull(t.backgroundGridCirclesCount)&&(t.backgroundGridCirclesCount=t.labelsAxesCount);for(var e=this.radius/t.backgroundGridCirclesCount,i=0,s=this.radius;i<=s;i+=e)this.context.moveTo(this.centerx+i,this.centery),this.context.arc(this.centerx,this.centery,i,0,DxChart.TWOPI,0);this.context.stroke()}if(t.backgroundGridRadials){var a;this.context.strokeStyle=t.backgroundGridColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),a="number"==typeof t.backgroundGridRadialsCount?360/t.backgroundGridRadialsCount:t.labels&&t.labelsData.length?360/t.labelsData.length:45;for(i=0;i<360;i+=a){if(isNexacroRuntime){var o=i/(180/DxChart.PI)-DxChart.HALFPI,r=this.centerx+Math.cos(o)*this.radius,n=this.centery+Math.sin(o)*this.radius;this.context.moveTo(r,n)}else this.context.arc(this.centerx,this.centery,this.radius,i/(180/DxChart.PI)-DxChart.HALFPI,(i+.01)/(180/DxChart.PI)-DxChart.HALFPI,0);this.context.lineTo(this.centerx,this.centery)}this.context.stroke()}}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);var h=t.labelsAxesCount;if(h){for(i=this.centerx-this.radius;i<this.centerx+this.radius;i+=this.radius/h)this.context.moveTo(Math.round(i),this.centery-3),this.context.lineTo(Math.round(i),this.centery+3);for(i=this.centery-this.radius;i<this.centery+this.radius;i+=this.radius/h)this.context.moveTo(this.centerx-3,Math.round(i)),this.context.lineTo(this.centerx+3,Math.round(i))}this.context.moveTo(Math.round(this.centerx),this.centery-this.radius),this.context.lineTo(Math.round(this.centerx),this.centery+this.radius),t.axesCaps&&(this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius))),this.context.closePath(),this.context.stroke()},this.drawRscatter=function(){for(var t=this.properties,e=0;e<this.data.length;e+=1){var i=this.data[e];this.coords2[e]=[];!function(s){for(var a=0;a<i.length;++a){var o=i[a][0],r=i[a][1],n=o/(180/DxChart.PI),h=(r-t.scaleMin)/(s.scale2.max-s.scale2.min)*s.radius,l=Math.sin(n)*h,c=Math.cos(n)*h,x=i[a][2]?i[a][2]:t.colorsDefault,d=i[a][3]?i[a][3]:null;d&&String(d).length&&(s.hasTooltips=!0),l+=s.centerx,c=s.centery-c,s.drawTick(l,c,x),s.coords.push([l,c,x,d]),s.coords2[e].push([l,c,x,d])}}(this),t.lineVisible&&this.drawLine(e)}},this.drawLine=function(t){var e=this.properties,i={dataset:t,coords:this.coords2[t],color:e.lineColors[t],shadow:e.lineShadowUse,shadowColor:e.lineShadowStyleObj.color,shadowOffsetX:e.lineShadowStyleObj.offsetx,shadowOffsetY:e.lineShadowStyleObj.offsety,shadowBlur:e.lineShadowStyleObj.blur,lineWidth:e.lineWidth};this.context.beginPath(),this.context.strokeStyle=this.parseSingleColorForGradient(i.color),isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth="object"==typeof e.lineWidth?e.lineWidth[t]:e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),i.shadow&&DxChart.setShadow(this,i.shadowColor,i.shadowOffsetX,i.shadowOffsetY,i.shadowBlur);for(var s=0;s<this.coords2[t].length;++s)if(0===s){this.context.moveTo(this.coords2[t][s][0],this.coords2[t][s][1]);DxChart.arrayClone(this.coords2[t])}else this.context.lineTo(this.coords2[t][s][0],this.coords2[t][s][1]);("boolean"==typeof e.lineClose&&e.lineClose||"object"==typeof e.lineClose&&e.lineClose[t])&&this.context.lineTo(this.coords2[t][0][0],this.coords2[t][0][1]),this.context.stroke(),DxChart.noShadow(this)},this.drawLabels=function(){var t=this.properties;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);t.keyData;var e=this.radius,i=t.axesColor,s=(t.textFontStyleObj.italic,t.textFontStyleObj.bold,t.textColor,t.textFontStyleObj.face),a=t.textFontStyleObj.size,o=t.labelsAxes.toLowerCase(),r=(t.scaleUnitsPre,t.scaleUnitsPost,t.scaleDecimals,this.centerx),n=this.centery;this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"object"==typeof t.labelsData&&t.labelsData&&this.drawCircularLabels(this.context,t.labelsData,s,a,e);var h=10,l=!1;"rgba(0,0,0,0)"!==i&&"rgb(0,0,0)"!==i&&"transparent"!==i||(h=0,l=!0);for(var c=DxChart.getTextInfo({object:this,prefix:"labelsAxes"}),x=0,d=this.scale2.labels.length;x<d;++x)o.indexOf("n")>-1&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r-h+t.labelsAxesOffsetX,y:n-e*((x+1)/d)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:l?"center":"right",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"}),o.indexOf("s")>-1&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r-h+t.labelsAxesOffsetX,y:n+e*((x+1)/d)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:l?"center":"right",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"}),o.indexOf("e")>-1&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r+e*((x+1)/d)+t.labelsAxesOffsetX,y:n+h+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:l?"center":"top",halign:"center",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"}),o.indexOf("w")>-1&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r-e*((x+1)/d)+t.labelsAxesOffsetX,y:n+h+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:l?"center":"top",halign:"center",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"});t.labelsAxes.length>0&&t.scaleZerostart&&DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r+t.labelsAxesOffsetX,y:n+t.labelsAxesOffsetY,text:DxChart.numberFormat({object:this,number:Number(this.scale2.min).toFixed(this.scale2.decimals),unitspre:this.scale2.units_pre,unitspost:this.scale2.units_post}),valign:"center",halign:"center",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})},this.drawCircularLabels=function(t,e,i,s,a){for(var o=this.properties,r=(a=a+o.labelsOffsetRadius+25,o.labelsColor,0);r<e.length;++r){var n=(n=360/e.length*(r+1)-360/(2*e.length))-90+("edge"==o.labelsPosition?360/e.length/2:0),h=Math.cos(n/(180/DxChart.PI))*a,l=Math.sin(n/(180/DxChart.PI))*a,c=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:this.centerx+h,y:this.centery+l,text:String(e[r]),valign:"center",halign:this.centerx+h>this.centerx?"left":"right",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:r})})}},this.drawTick=function(t,e,i){var s=this.properties,a=s.tickmarksStyle,o=s.tickmarksSize;this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var r=this.context.lineWidth;this.context.lineWidth=s.lineScatterWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"cross"==a?(this.context.beginPath(),this.context.moveTo(t+o,e+o),this.context.lineTo(t-o,e-o),this.context.stroke(),this.context.beginPath(),this.context.moveTo(t-o,e+o),this.context.lineTo(t+o,e-o),this.context.stroke()):"circle"==a?(this.context.beginPath(),this.context.arc(t,e,o,0,6.283,!1),this.context.fill()):"square"==a?(this.context.beginPath(),this.context.fillRect(t-o,e-o,2*o,2*o),this.context.fill()):"diamond"==a?(this.context.beginPath(),this.context.moveTo(t,e-o),this.context.lineTo(t+o,e),this.context.lineTo(t,e+o),this.context.lineTo(t-o,e),this.context.closePath(),this.context.fill()):"plus"==a&&(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.moveTo(t,e-o),this.context.lineTo(t,e+o),this.context.moveTo(t-o,e),this.context.lineTo(t+o,e),this.context.stroke()),this.context.lineWidth=r,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=e.tooltipsHotspotSize,r=0,n=this.coords.length;r<n;++r){var h=this.coords[r][0],l=this.coords[r][1],c=this.coords[r][3];if(s<h+o&&s>h-o&&a<l+o&&a>l-o){if(DxChart.parseTooltipText)c=DxChart.parseTooltipText(e.tooltipsData,r);var x=DxChart.sequentialIndexToGrouped(r,this.data);return{object:this,x:h,y:l,dataset:x[0],index:x[1],sequentialIndex:r,tooltip:"string"==typeof c?c:null}}}},this.allowTooltips=function(){this.properties;DxChart.preLoadTooltipImages(this),DxChart.installWindowMousedownTooltipListener(this),DxChart.installCanvasMousemoveTooltipListener(this),DxChart.installCanvasMouseupTooltipListener(this)},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("invert"===e.highlightStyle){this.path("b a % % % -1 6.29 false",this.centerx,this.centery,this.radius),this.path("a % % % 0 6.29 true c s rgba(0,0,0,0) f %",t.x,t.y,25,e.highlightFill),this.path("b a % % % 0 6.29 false s %",t.x,t.y,25,e.highlightStroke)}else DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t),i=e[0],s=e[1],a=this.centerx,o=this.centery,r=this.radius;if(i>a-r&&i<a+r&&s>o-r&&s<o+r)return this},this.getRadius=function(t){var e=this.max;return t<0||t>e?null:t/e*this.radius},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.data=DxChart.arrayClone(this.data),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.colorsDefault=DxChart.arrayClone(t.colorsDefault),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.segmentHighlightStroke=DxChart.arrayClone(t.segmentHighlightStroke),this.original_colors.segmentHighlightFill=DxChart.arrayClone(t.segmentHighlightFill));for(var e=0;e<this.data.length;e+=1)for(var i=0,s=this.data[e].length;i<s;i+=1)this.data[e][i][2]=this.parseSingleColorForGradient(this.data[e][i][2]);t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.colorsDefault=this.parseSingleColorForGradient(t.colorsDefault),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.segmentHighlightStroke=this.parseSingleColorForGradient(t.segmentHighlightStroke),t.segmentHighlightFill=this.parseSingleColorForGradient(t.segmentHighlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1;a<e.length;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this;this.coords2&&this.coords2[t]&&this.coords2[t].length&&this.coords2[t].forEach(function(t,s,a){i.context.beginPath(),i.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&i.context.setElementFillStyle(i.context.fillStyle),i.context.arc(t[0],t[1],e.tickmarksSize+2,0,DxChart.TWOPI,!1),i.context.fill()})},this.resetColorsToOriginalValues=function(){for(var t=0,e=this.original_colors.data.length;t<e;++t)for(var i=0,s=this.original_colors.data[t].length;i<s;++i)this.data[t][i][2]=DxChart.arrayClone(this.original_colors.data[t][i][2])},this.firstDrawFunc=function(){},this.explode=function(){var t=this,e=arguments[2],i=(arguments[0]||{}).frames||15,s=0,a=(e=arguments[1]||function(){},1/i),o=DxChart.clone(this.data);return this.draw(),this.set("scaleMax",this.scale2.max),function r(){DxChart.clear(t.canvas);for(var n=0;n<t.data.length;++n)for(var h=0;h<t.data[n].length;++h)t.data[n][h][1]=o[n][h][1]*a*s;DxChart.redrawCanvas(t.canvas),s++<i?DxChart.Effects.updateCanvas(r):(DxChart.redrawCanvas(t.canvas),e(t))}(),this},this.populateTooltips=function(){for(var t=this.properties,e=0;e<this.data.length;++e)for(var i=0;i<this.data[e].length;++i)this.data[e][i][3]=t.tooltipsData},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data[e[0]][e[1]][1],values:[this.data[e[0]][e[1]][1]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=this.data[t.dataset][t.index][2]?this.data[t.dataset][t.index][2]:i.colorsDefault;return DxChart.isNull(i.tooltipsFormattedKeyColors)||"object"!=typeof i.tooltipsFormattedKeyColors||"string"!=typeof i.tooltipsFormattedKeyColors[t.dataset]||(s=i.tooltipsFormattedKeyColors[t.dataset]),{label:DxChart.isNull(i.tooltipsFormattedKeyLabels)||"object"!=typeof i.tooltipsFormattedKeyLabels||"string"!=typeof i.tooltipsFormattedKeyLabels[t.dataset]?"":i.tooltipsFormattedKeyLabels[t.dataset],color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-15+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-15+e.properties.tooltipsOffsetY+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartScatter(t){return DxChart._Base.call(this,t,"scatter"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"trendLine"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"bubble"),DxChart.setDefaultProperties(this,"default"),this.properties.tickmarksStyle="cross",this.properties.tickmarksSize=5,this.properties.lineVisible=!0,this.properties.lineLinkVisible=!1,this.properties.tooltipsData=[],this.properties.tooltipsHotspot=3,this.properties.xaxisUse=!0,this.properties.yaxisUse=!0,this.properties.crosshairsCoordsFadeout=!0,this.properties.lineColors=["green","red","blue","orange","pink","brown","black","gray"],this.properties.trendLineColors=["gray"],this.properties.trendLineWidth=1,this.properties.trendLineMargin=15,this.properties.trendLineDashed=!0,this.properties.trendLineDotted=!1,this.properties.trendLineDashArray=null,this.properties.trendLineClipping=null,this.properties.keyInteractiveHighlightChartFill="rgba(255,0,0,0.6)",this.properties.keyInteractiveHighlightLabel="rgba(255,0,0,0.2)",this.properties.keyColorShape="square",this.properties.keyRounded=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&(t=DxChart.parseDataset(this,t)),this.data=new Array(t.length),this.data=DxChart.arrayClone(t);for(let e=0;e<this.data.length;++e)if(DxChart.isObject(t[e])&&(DxChart.isNumber(this.data[e].x)||DxChart.isString(this.data[e].x))&&(DxChart.isNumber(this.data[e].y)||DxChart.isString(this.data[e].y)))t[e]=[t[e].x,t[e].y,t[e].color||void 0,"string"==typeof t[e].tooltip?t[e].tooltip:void 0];else if(DxChart.isArray(t[e]))for(let i=0;i<t[e].length;++i)DxChart.isObject(t[e][i])&&(t[e][i]=[t[e][i].x,t[e][i].y,t[e][i].color||void 0,"string"==typeof t[e][i].tooltip?t[e][i].tooltip:void 0]);if("object"==typeof t&&"object"==typeof t[0]&&("number"==typeof t[0][0]||"string"==typeof t[0][0])){var e=DxChart.arrayClone(t);(t=new Array)[0]=DxChart.arrayClone(e)}this.data=DxChart.arrayClone(t);for(var i=0,s=this.data.length;i<s;++i)for(var a=0,o=this.data[i].length;a<o;++a)"object"!=typeof this.data[i][a]||DxChart.isNull(this.data[i][a])||"string"!=typeof this.data[i][a][0]||(this.data[i][a][0].match(/^[.0-9]+$/)?this.data[i][a][0]=parseFloat(this.data[i][a][0]):""===this.data[i][a][0]&&(this.data[i][a][0]=0)),"object"!=typeof this.data[i][a]||DxChart.isNull(this.data[i][a])||"string"!=typeof this.data[i][a][1]||(this.data[i][a][1].match(/[.0-9]+/)?this.data[i][a][1]=parseFloat(this.data[i][a][1]):""===this.data[i][a][1]&&(this.data[i][a][1]=0));this.unmodified_data=DxChart.arrayClone(this.data),this.max=0,this.coordsBubble=[],this.coords_trendLine=[];for(i=0;i<this.data.length;++i)for(a=0;a<this.data[i].length;++a)DxChart.isNull(this.data[i][a])&&(this.data[i][a]=[]),this.data[i][a]&&"string"==typeof this.data[i][a][0]&&(this.data[i][a][0]=DxChart.parseDate(this.data[i][a][0]));this.data_arr=[];for(i=0;i<this.data.length;++i)for(a=0;a<this.data[i].length;++a)this.data_arr.push(this.data[i][a]);for(i=0;i<this.data_arr.length;++i)this["$"+i]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),"string"==typeof t.backgroundImage&&DxChart.drawBackgroundImage(this),DxChart._fireEvent(this,"onbeforedraw"),this.canvas.__initTranslated__||(this.context.translate(.5,.5),this.canvas.__initTranslated__=!0),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.coordsText=[],t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:t.xaxisLabelsCount,value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e){if("object"==typeof t.xaxisLabels[e]&&2===t.xaxisLabels[e].length)var i=t.xaxisLabels[e][0];else i=t.xaxisLabels[e];i=DxChart.labelSubstitution({object:this,text:i,index:e,value:this.data[0][e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."}),"object"==typeof t.xaxisLabels[e]&&2===t.xaxisLabels[e].length?t.xaxisLabels[e][0]=i:t.xaxisLabels[e]=i}}this.hasTooltips=!1;this.coords=[],"string"==typeof t.xaxisScaleMin&&(t.xaxisScaleMin=DxChart.parseDate(t.xaxisScaleMin)),"string"==typeof t.xaxisScaleMax&&(t.xaxisScaleMax=DxChart.parseDate(t.xaxisScaleMax)),this.set("tooltipsData",[]);e=0;for(var s=this.data.length;e<s;e+=1)for(var a=0,o=this.data[e].length;a<o;a+=1)this.data[e][a]&&this.data[e][a][3]?(t.tooltipsData.push(this.data[e][a][3]),this.hasTooltips=!0):t.tooltipsData.push(null);if(this.max=0,"number"==typeof t.yaxisScaleMax){this.max=t.yaxisScaleMax,this.min=t.yaxisScaleMin?t.yaxisScaleMin:0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min;t.yaxisScaleDecimals}else{for(e=0,a=0,e=0,s=this.data.length;e<s;e+=1)for(a=0,o=this.data[e].length;a<o;a+=1)DxChart.isNull(this.data[e][a])||null==this.data[e][a][1]||(this.max=Math.max(this.max,"object"==typeof this.data[e][a][1]?DxChart.arrayMax(this.data[e][a][1]):Math.abs(this.data[e][a][1])));this.min=t.yaxisScaleMin?t.yaxisScaleMin:0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}if(this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,DxChart.Background.draw(this),t.backgroundHbars&&t.backgroundHbars.length&&DxChart.drawBars(this),t.backgroundVbars&&t.backgroundVbars.length&&this.drawVBars(),t.xaxisScaleMax)r=t.xaxisScaleMax,n=t.xaxisScaleMin;else{var r=0,n=t.xaxisScaleMin,h=0;for(s=this.data.length;h<s;h+=1){var l=0;for(o=this.data[h].length;l<o;l+=1)r=Math.max(r,this.data[h][l][0])}}t.xaxisScale&&(this.xscale2=DxChart.getScale({object:this,options:{"scale.max":r,"scale.min":n,"scale.decimals":t.xaxisScaleDecimals,"scale.point":t.xaxisScalePoint,"scale.thousand":t.xaxisScaleThousand,"scale.units.pre":t.xaxisScaleUnitsPre,"scale.units.post":t.xaxisScaleUnitsPost,"scale.labels.count":t.xaxisLabelsCount,"scale.strict":!0}}),this.set("xaxisScaleMax",this.xscale2.max)),this.drawAxes(),this.drawLabels(),t.animationTrace&&(this.context.save(),this.context.beginPath(),this.context.rect(0,0,this.canvas.width*t.animationTraceClip,this.canvas.height),this.context.clip());for(e=0;e<this.data.length;++e)this.drawMarks(e),DxChart.isArray(t.bubbleData)&&this.drawBubble(e),t.lineShadowUse&&(this.context.shadowColor=t.lineShadowStyleObj.color,this.context.shadowOffsetX=t.lineShadowStyleObj.offsetx,this.context.shadowOffsetY=t.lineShadowStyleObj.offsety,this.context.shadowBlur=t.lineShadowStyleObj.blur,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),this.drawLine(e),DxChart.noShadow(this);if(t.lineVisible)for(e=0,s=this.data.length;e<s;e+=1)this.drawMarks(e);if(t.animationTrace&&this.context.restore(),t.trendLineValue)for(e=0;e<this.data.length;++e)(!0===t.trendLineValue||"object"==typeof t.trendLineValue&&!0===t.trendLineValue[e])&&this.drawTrendline(e);return t.contextmenu&&DxChart.showContext(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.lineColors),t.labelsAbove&&this.drawAboveLabels(),this.drawInGraphLabels(this),DxChart.addCustomText(this),DxChart.drawHorizontalLines(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){DxChart.drawXAxis(this),DxChart.drawYAxis(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawLabels=function(){},this.drawMarks=function(t){var e=this.properties;this.coords[t]=[];for(var i=e.xaxisScaleMax,s=e.colorsDefault,a=0,o=this.data[t].length;a<o;a+=1){var r=this.data[t];if(!DxChart.isNull(r[a])){var n=r[a][0],h=r[a][1],l=r[a][2]?r[a][2]:s,c=r[a]&&r[a][3]?r[a][3]:null;this.drawMark(t,n,h,i,this.scale2.max,l,c,this.coords[t],r,a)}}},this.drawMark=function(t,e,i,s,a,o,r,n,h,l){var c,x=this.properties,d=x.tickmarksStyle,u=x.tickmarksSize,g=x.xaxisScaleMin;e=(e-g)/(s-g)*(this.canvas.width-this.marginLeft-this.marginRight);if(d&&"object"==typeof d&&(d=d[t]),c="object"==typeof u?(u=u[t])/2:u/2,i&&"object"==typeof i&&"number"==typeof i[0]&&"number"==typeof i[1]&&"number"==typeof i[2]&&"number"==typeof i[3]&&"string"==typeof i[4]&&"string"==typeof i[5]){this.set("boxplotStock",!0);var p=i[1],f=i[2],m=i[3],b=i[4],C=i[5],y=i[6],v=i[7];p>f?(i[1]=f,i[2]=p,i[3]=p,i[4]=m,i[5]=C,i[6]=b):(i[1]=p,i[2]=f,i[3]=f,i[4]=m,i[5]=b,i[6]=C),y&&(i[7]=y),v&&(i[8]=v)}if(i&&"object"==typeof i&&"number"==typeof i[0]&&"number"==typeof i[1]&&"number"==typeof i[2]&&"number"==typeof i[3]&&"number"==typeof i[4]){this.set("boxplot",!0);var D=this.getYCoord(i[0],x.outofbounds),S=(p=this.getYCoord(i[1],x.outofbounds),f=this.getYCoord(i[2],x.outofbounds),m=this.getYCoord(i[3],x.outofbounds),b=this.getYCoord(i[4],x.outofbounds),i[5]),k=i[6],w="number"==typeof i[7]?i[7]:x.boxplotWidth}else var _=this.getYCoord(i,x.outofbounds);if(e+=this.marginLeft,this.context.beginPath(),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),x.boxplot){var T=(w=w/x.xaxisScaleMax*(this.canvas.width-this.marginLeft-this.marginRight))/2;x.lineVisible&&(this.context.beginPath(),"string"==typeof i[8]&&(this.context.strokeStyle=i[8],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle)),x.boxplotStock||(this.context.strokeRect(e-T,p,w,m-p),S&&(this.context.fillStyle=S,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-T,p,w,f-p)),k&&(this.context.fillStyle=k,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-T,f,w,m-f)),this.context.stroke()),this.context.beginPath(),x.boxplotCapped&&(this.context.moveTo(e-T,Math.round(D)),this.context.lineTo(e+T,Math.round(D))),this.context.moveTo(Math.round(e),D),this.context.lineTo(Math.round(e),p),x.boxplotCapped&&(this.context.moveTo(e-T,Math.round(b)),this.context.lineTo(e+T,Math.round(b))),this.context.moveTo(Math.round(e),b),this.context.lineTo(Math.round(e),m),this.context.stroke(),x.boxplotStock&&("string"==typeof i[8]&&(this.context.strokeStyle=i[8],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle)),this.context.strokeRect(e-T,p,w,m-p),S&&(this.context.fillStyle=S,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-T,p,w,f-p)),k&&(this.context.fillStyle=k,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-T,f,w,m-f)),this.context.stroke()))}if(x.lineVisible&&"number"==typeof i&&!D&&!p&&!f&&!m&&!b)if("circle"==d)this.context.arc(e,_,c,0,6.28,0),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill();else if("plus"==d)this.context.moveTo(e,_-c),this.context.lineTo(e,_+c),this.context.moveTo(e-c,_),this.context.lineTo(e+c,_),this.context.stroke();else if("square"==d)this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-c,_-c,u,u);else if("cross"==d)this.context.moveTo(e-c,_-c),this.context.lineTo(e+c,_+c),this.context.moveTo(e+c,_-c),this.context.lineTo(e-c,_+c),this.context.stroke();else if("diamond"==d)this.context.fillStyle=this.context.strokeStyle,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(e,_-c),this.context.lineTo(e+c,_),this.context.lineTo(e,_+c),this.context.lineTo(e-c,_),this.context.lineTo(e,_-c),this.context.fill(),this.context.stroke();else if("function"==typeof d){var P=this.canvas.width-this.marginLeft-this.marginRight,R=this.canvas.height-this.marginTop-this.marginBottom,L=(e-this.marginLeft)/P*s,j=(R-(_-this.marginTop))/R*a;d(this,h,e,_,L,j,s,a,o,t,l)}else if("string"!=typeof d||"image:"!==d.substr(0,6)&&"data:"!==d.substr(0,5)&&"/"!==d.substr(0,1)&&"../"!==d.substr(0,3)&&"images/"!==d.substr(0,7))null===d||alert("[SCATTER] ("+this.id+") Unknown tickmark style: "+d);else{var F=new Image;"image:"===d.substr(0,6)?F.src=d.substr(6):F.src=d;var E=this;F.onload=function(){"center"===x.tickmarksStyleImageHalign&&(e-=this.width/2),"right"===x.tickmarksStyleImageHalign&&(e-=this.width),"center"===x.tickmarksStyleImageValign&&(_-=this.height/2),"bottom"===x.tickmarksStyleImageValign&&(_-=this.height),e+=x.tickmarksStyleImageOffsetX,_+=x.tickmarksStyleImageOffsetY,E.context.drawImage(this,e,_)}}x.boxplot&&"number"==typeof D&&"number"==typeof p&&"number"==typeof f&&"number"==typeof m&&"number"==typeof b&&(e=[e-T,e+T],_=[D,p,f,m,b]),n.push([e,_,r])},this.drawLine=function(t){var e=this.properties;if("boolean"!=typeof e.lineLinkVisible||0!=e.lineLinkVisible){if(e.lineLinkVisible&&this.coords[t].length>=2){e.lineDash&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash(e.lineDash)),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineWidth=this.getLineWidth(t),isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.lineColors[t],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var i=null,s=null,a=0,o=this.coords[t].length;a<o;a+=1){var r=this.coords[t][a][0],n=this.coords[t][a][1];if(a>0&&(i=this.coords[t][a-1][1]),s=n,0==a||DxChart.isNull(i)||DxChart.isNull(s))this.context.moveTo(r,n);else{var h=e.lineStepped;("boolean"==typeof h&&h||"object"==typeof h&&h[t])&&this.context.lineTo(this.coords[t][a][0],this.coords[t][a-1][1]),this.context.lineTo(r,n)}}this.context.stroke(),e.lineDash&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,0]))}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.getLineWidth=function(t){var e=this.properties.lineWidth;return"number"==typeof e?e:"object"==typeof e?e[t]?e[t]:e[0]:void 0},this.drawVBars=function(){var t=this.properties,e=t.backgroundVbars,i=this.canvas.width-this.marginLeft-this.marginRight;if(e)for(var s=t.xaxisScaleMax,a=t.xaxisScaleMin,o=0,r=e.length;o<r;o+=1){var n=e[o];"string"==typeof n[0]&&(n[0]=DxChart.parseDate(n[0])),"string"==typeof n[1]&&(n[1]=DxChart.parseDate(n[1])-n[0]);var h=(n[0]-a)/(s-a)*i+this.marginLeft,l=n[1]/(s-a)*i;this.context.fillStyle=n[2],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(h,this.marginTop,l,this.canvas.height-this.marginTop-this.marginBottom)}},this.drawInGraphLabels=function(t){var e=this.properties,i=t.get("labelsIngraph"),s=[];if(i){for(var a=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),o=0,r=i.length;o<r;o+=1)if("number"==typeof i[o])for(var n=0;n<i[o];++n)s.push(null);else"string"==typeof i[o]||"object"==typeof i[o]?s.push(i[o]):s.push("");if(DxChart.noShadow(t),s&&s.length>0){o=0;for(var h=0;h<t.coords.length;++h)for(var l=0;l<t.coords[h].length;++l){if(s[o]){var c=t.coords[h][l][0]+e.labelsIngraphOffsetX,x=t.coords[h][l][1]+e.labelsIngraphOffsetY,d="number"==typeof s[o][4]?s[o][4]:25,u=c,g=x-5-d;this.context.moveTo(c,x-5),this.context.lineTo(c,x-5-d),this.context.stroke(),this.context.beginPath(),this.context.moveTo(c,x-5),this.context.lineTo(c-3,x-10),this.context.lineTo(c+3,x-10),this.context.closePath(),this.context.beginPath(),this.context.fillStyle="object"==typeof s[o]&&"string"==typeof s[o][1]?s[o][1]:"black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:u,y:g,text:"object"==typeof s[o]&&"string"==typeof s[o][0]?s[o][0]:s[o],valign:"bottom",halign:"center",bounding:!0,boundingFill:"object"==typeof s[o]&&"string"==typeof s[o][2]?s[o][2]:"white",tag:"labels.ingraph"}),this.context.fill()}o++}}}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=e.tooltipsHotspot,r=0,n=this.coords.length;r<n;++r)for(var h=0,l=this.coords[r].length;h<l;++h){var c=this.coords[r][h][0],x=this.coords[r][h][1],d=this.data[r][h][3];if("number"==typeof x){if(s<=c+o&&s>=c-o&&a<=x+o&&a>=x-o){if(DxChart.parseTooltipText)d=DxChart.parseTooltipText(this.data[r][h][3],0);for(var u=h,g=r-1;g>=0;--g)u+=this.data[g].length;return{object:this,x:c,y:x,tooltip:"string"==typeof d?d:null,dataset:r,index:h,sequentialIndex:u}}}else if(DxChart.isNull(x));else{var p=this.data[r][h];e.boxplotWidth;if("number"==typeof p[1][7]&&p[1][7],"object"==typeof c&&s>c[0]&&s<c[1]&&a>x[1]&&a<x[3]){for(d=DxChart.parseTooltipText(this.data[r][h][3],0),u=h,g=r-1;g>=0;--g)u+=this.data[g].length;return{object:this,x:c[0],y:x[3],width:Math.abs(c[1]-c[0]),height:Math.abs(x[1]-x[3]),dataset:r,index:h,sequentialIndex:u,tooltip:d}}}}},this.drawAboveLabels=function(){for(var t=this.properties,e=t.labelsAboveFontStyleObj.size,i=(t.textFontStyleObj.face,t.yaxisScaleUnitsPre,t.yaxisScaleUnitsPost,DxChart.getTextInfo({object:this,prefix:"labelsAbove"})),s=0,a=this.coords.length;s<a;++s)for(var o=0,r=this.coords[s].length;o<r;++o){var n=this.data[s][o][0],h=this.data[s][o][1];if(!DxChart.isNull(h)){if(DxChart.isArray(h)){for(var l=0,c=0;c<h;++c)l=Math.max(l,h[c]);h=l}var x=this.coords[s][o][0],d=this.coords[s][o][1],u=t.labelsAboveFormatterX,g=t.labelsAboveFormatterY;DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:x+t.labelsAboveOffsetX,y:d-5-e+t.labelsAboveOffsetY,text:("function"==typeof u?u(this,n):n.toFixed(t.labelsAboveDecimals))+", "+("function"==typeof g?g(this,h):h.toFixed(t.labelsAboveDecimals)),valign:"bottom",halign:"center",bounding:!0,boundingFill:"rgba(255, 255, 255, 0.7)",boundingStroke:"rgba(0,0,0,0.1)",tag:"labels.above"})}}},this.getYValue=function(t){var e=this.properties;if(2==t.length)var i=t[0],s=t[1];else{var a=DxChart.getMouseXY(t);i=a[0],s=a[1]}if(s<this.marginTop||s>this.canvas.height-this.marginBottom||i<this.marginLeft||i>this.canvas.width-this.marginRight)return null;if("center"==e.xaxisPosition){var o=(this.chartArea/2-(s-this.marginTop))/this.chartArea*(this.max-this.min);(o*=2)>=0?(o+=this.min,e.yaxisScaleInvert&&(o-=this.min,o=this.max-o)):(o-=this.min,e.yaxisScaleInvert&&(o+=this.min,o=this.max+o,o*=-1))}else{o=(this.chartArea-(s-this.marginTop))/this.chartArea*(this.max-this.min);o+=this.min,e.yaxisScaleInvert&&(o-=this.min,o=this.max-o)}return o},this.getXValue=function(t){var e=this.properties;if(2==t.length)var i=t[0],s=t[1];else{var a=DxChart.getMouseXY(t);i=a[0],s=a[1]}if(s<this.marginTop||s>this.canvas.height-this.marginBottom||i<this.marginLeft||i>this.canvas.width-this.marginRight)return null;var o=this.canvas.width-this.marginLeft-this.marginRight,r=(i-this.marginLeft)/o*(e.xaxisScaleMax-e.xaxisScaleMin);return r+=e.xaxisScaleMin},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("invert"===e.highlightStyle){var i=e.tickmarksSize;this.path("sa b r % % % % cl",e.marginLeft-i,e.marginTop-i,this.canvas.width-e.marginLeft-e.marginRight+i+i,this.canvas.height-e.marginTop-e.marginBottom+i+i),this.path("b m % % a % % 25 4.71 4.72 true l % % l % % l % % l % % l % % c f %",t.x,e.marginTop,t.x,t.y,t.x,0,this.canvas.width,0,this.canvas.width,this.canvas.height,0,this.canvas.height,0,0,e.highlightFill),this.path("b a % % 25 0 6.29 false s % rs",t.x,t.y,e.highlightStroke)}else t.height?DxChart.Highlight.rect(this,t):DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.marginLeft-3&&e[0]<this.canvas.width-this.marginRight+3&&e[1]>this.marginTop-3&&e[1]<this.canvas.height-this.marginBottom+3)return this},this.getXCoord=function(t){var e=this.properties;if("number"!=typeof t&&"string"!=typeof t)return null;"string"==typeof t&&(t=DxChart.parseDate(t));var i,s=e.xaxisScaleMin,a=e.xaxisScaleMax;return t<s?null:t>a?null:("right"==e.yaxisPosition?(i=(t-s)/(a-s)*(this.canvas.width-this.marginLeft-this.marginRight),i=this.canvas.width-this.marginRight-i):(i=(t-s)/(a-s)*(this.canvas.width-this.marginLeft-this.marginRight),i+=this.marginLeft),i)},this.getYCoord=function(t){var e=this.properties,i=arguments[1];if("number"!=typeof t)return null;var s=e.yaxisScaleInvert,a=e.xaxisPosition,o=this.canvas.height-this.marginTop-this.marginBottom,r=o/2,n=this.max,h=e.yaxisScaleMin,l=0;return t>n&&!i||"bottom"===e.xaxisPosition&&t<h&&!i||"center"===e.xaxisPosition&&(t>0&&t<h||t<0&&t>-1*h)?null:("center"==a?(l=(Math.abs(t)-h)/(n-h)*r,s&&(l=r-l),t<0?(l+=this.marginTop,l+=r):(l=r-l,l+=this.marginTop)):(l=(t-h)/(n-h)*o,s&&(l=o-l),l=o-l,l=this.marginTop+l),l)},this.drawBubble=function(t){var e=this.properties,i=DxChart.isArray(e.bubbleData)&&DxChart.isArray(e.bubbleData[t])?e.bubbleData[t]:e.bubbleData,s=DxChart.isArray(e.bubbleMin)?e.bubbleMin[t]:e.bubbleMin,a=DxChart.isArray(e.bubbleMax)?e.bubbleMax[t]:e.bubbleMax,o=DxChart.isArray(e.bubbleWidth)?e.bubbleWidth[t]:e.bubbleWidth;this.coordsBubble[t]=[];for(var r=0;r<this.coords[t].length;++r){i[r]=Math.max(i[r],s),i[r]=Math.min(i[r],a);var n=(i[r]-s)/(a-s)*o/2,h=this.data[t][r][2]?this.data[t][r][2]:e.colorsDefault;this.properties.bubbleShadowUse&&DxChart.setShadow({object:this,prefix:"bubbleShadow"});var l=this.coords[t][r][0],c=this.coords[t][r][1],x=n,d=l-x,u=c-x;isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),l=x,c=x),this.context.beginPath();var g=e.colorsBubbleGraduated?"radial-gradient(white:"+h+")":h,p=DxChart.parseRadialGradientInfo(this,g,l+n/2.5,c-n/2.5,0,l+n/2.5,c-n/2.5,n);this.context.fillStyle=p,isNexacroRuntime&&this.context.setElementFillStyle(p),this.context.arc(l,c,n,0,DxChart.TWOPI,!1),this.properties.colorsBubbleStroke&&(this.context.lineWidth=this.properties.bubbleLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=this.properties.colorsBubbleStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke()),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore()),this.properties.bubbleShadowUse&&DxChart.noShadow(this),this.coordsBubble[t][r]=[this.coords[t][r][0],this.coords[t][r][1],n,this.context.fillStyle]}},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.data=DxChart.arrayClone(this.data),this.original_colors.backgroundVbars=DxChart.arrayClone(t.backgroundVbars),this.original_colors.backgroundHbars=DxChart.arrayClone(t.backgroundHbars),this.original_colors.lineColors=DxChart.arrayClone(t.lineColors),this.original_colors.colorsDefault=DxChart.arrayClone(t.colorsDefault),this.original_colors.crosshairsColor=DxChart.arrayClone(t.crosshairsColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.axesColor=DxChart.arrayClone(t.axesColor));var e=t.backgroundHbars;if(e)for(var i=0;i<e.length;++i)e[i][2]=this.parseSingleColorForGradient(e[i][2]);var s=t.backgroundVbars;if(s)for(i=0;i<s.length;++i)s[i][2]=this.parseSingleColorForGradient(s[i][2]);t.colorsDefault=this.parseSingleColorForGradient(t.colorsDefault),t.crosshairsColor=this.parseSingleColorForGradient(t.crosshairsColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.axesColor=this.parseSingleColorForGradient(t.axesColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e=this.properties;if(this.coords&&this.coords[t]&&this.coords[t].length){var i=this;this.coords[t].forEach(function(t,s,a){i.context.beginPath(),i.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&i.context.setElementFillStyle(i.context.fillStyle),i.context.arc(t[0],t[1],e.tickmarksSize+3,0,DxChart.TWOPI,!1),i.context.fill()})}},this.drawTrendline=function(){var t=this.properties,e=DxChart.getArgs(arguments,"dataset"),i=t.trendLineColor,s=t.trendLineWidth,a=t.trendLineMargin;DxChart.isArray(t.trendLineColors)&&(i=t.trendLineColors),"object"==typeof i&&i[e.dataset]?i=i[e.dataset]:"object"==typeof i&&(i="gray"),"object"==typeof s&&"number"==typeof s[e.dataset]?s=s[e.dataset]:"object"==typeof s&&(s=1),"object"==typeof a&&"number"==typeof a[e.dataset]?a=a[e.dataset]:"object"==typeof a&&(a=25);for(var o=0,r=0,n=0;o<this.data[e.dataset].length;++o)r+=this.data[e.dataset][o][0],n+=this.data[e.dataset][o][1];for(var h=r/this.data[e.dataset].length,l=n/this.data[e.dataset].length,c=(o=0,[]),x=[],d=[],u=[];o<this.data[e.dataset].length;++o)c[o]=this.data[e.dataset][o][0]-h,x[o]=this.data[e.dataset][o][1]-l,d[o]=c[o]*x[o],u[o]=c[o]*c[o];var g=DxChart.arraySum(d)/DxChart.arraySum(u),p=l-g*h,f=[[t.xaxisScaleMin,g*t.xaxisScaleMin+p],[t.xaxisScaleMax,g*t.xaxisScaleMax+p]];t.trendLineDashed&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([4,4])),t.trendLineDotted&&(isNexacroRuntime?this.context.setElementLineStyle("dotted"):this.context.setLineDash([1,4])),DxChart.isNull(t.trendLineDashArray)||"object"!=typeof t.trendLineDashArray||(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash(t.trendLineDashArray));o=0;for(var m=[],b=[];o<this.data[e.dataset].length;++o)"number"==typeof this.data[e.dataset][o][0]&&m.push(this.data[e.dataset][o][0]),"number"==typeof this.data[e.dataset][o][1]&&b.push(this.data[e.dataset][o][1]);var C=DxChart.arrayMin({array:m}),y=DxChart.arrayMin({array:b}),v=DxChart.arrayMax({array:m}),D=DxChart.arrayMax({array:b});C=this.getXCoord(C),y=this.getYCoord(y,t.outofbounds),v=this.getXCoord(v),D=this.getYCoord(D,t.outofbounds),this.path(" lw % sa b r % % % % cl b r % % % % cl b m % % l % % s % rs",s,t.marginLeft+a,t.marginTop+a,this.canvas.width-t.marginLeft-t.marginRight-a-a,this.canvas.height-t.marginTop-t.marginBottom-a-a,!1===t.trendLineClip?0:C-25,!1===t.trendLineClip?0:D-25,!1===t.trendLineClip?this.canvas.width:v-C+25+25,!1===t.trendLineClip?this.canvas.height:y-D+25+25,this.getXCoord(f[0][0]),this.getYCoord(f[0][1],!0),this.getXCoord(f[1][0]),this.getYCoord(f[1][1],!0),i),isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([5,0])},this.drawAni=function(){var t=arguments[0];t||(t="trace");var e=arguments[1],i=arguments[2];switch(t){case"trace":this.trace(e,i);break;case"explode":this.explode(e,i)}},this.trace=function(){this.cancelStopAnimation();var t=this,e=arguments[2],i=(arguments[0]||{}).frames||30,s=0;e=arguments[1]||function(){};return this.set("animationTrace",!0),this.set("animationTraceClip",0),function a(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),s++<i?(t.set("animationTraceClip",s/i),DxChart.Effects.updateCanvas(a,t.canvas)):e(t))}(),this},this.explode=function(){this.cancelStopAnimation();var t=this,e=arguments[2],i=arguments[0]||{},s=i.frames||15,a=0,o=(e=arguments[1]||function(){},this.properties.xaxisScaleMax/2),r=0,n=1/s,h=DxChart.arrayClone(this.unmodified_data);return this.draw(),this.set("yaxisScaleMax",this.scale2.max),o="left"===i.originx?0:"right"===i.originx?this.properties.xaxisScaleMax:this.properties.xaxisScaleMax/2,r="center"===i.originy?this.scale2.max/2:"top"===i.originy?this.scale2.max:0,function i(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else{DxChart.clear(t.canvas);for(var l=0;l<t.data.length;++l)for(var c=0;c<t.data[l].length;++c)t.data[l][c][0]=o+(h[l][c][0]-o)*n*a,t.data[l][c][1]=r+(h[l][c][1]-r)*n*a;DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(i,t.canvas):(DxChart.redrawCanvas(t.canvas),e(t))}}(),this},this.stopAnimation=function(){this.set("animationTraceClip",1),this.data=DxChart.arrayClone(this.unmodified_data),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetColorsToOriginalValues=function(){for(var t=0,e=this.original_colors.data.length;t<e;++t)for(var i=0,s=this.original_colors.data[t].length;i<s;++i)this.data[t][i][2]=DxChart.arrayClone(this.original_colors.data[t][i][2]),"object"==typeof this.data[t][i][1]&&(this.data[t][i][1][5]=DxChart.arrayClone(this.original_colors.data[t][i][1][5]),this.data[t][i][1][6]=DxChart.arrayClone(this.original_colors.data[t][i][1][6]))},this.populateTooltips=function(){for(var t=this.properties,e=0;e<this.data.length;++e)for(var i=0;i<this.data[e].length;++i)this.data[e][i][3]=t.tooltipsData},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data[e[0]][e[1]][1],values:[this.data[e[0]][e[1]][1]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties;if(!DxChart.isNull(i.tooltipsFormattedKeyColors)&&"object"==typeof i.tooltipsFormattedKeyColors&&"string"==typeof i.tooltipsFormattedKeyColors[t.dataset])var s=i.tooltipsFormattedKeyColors[t.dataset];return this.data[t.dataset][t.index][2]&&(s=this.data[t.dataset][t.index][2]),{label:i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"",color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=DxChart.sequentialIndexToGrouped(t.index,this.data),o=this.coords[a[0]][a[1]];isNexacroRuntime?(t.tooltip.set_left(s[0]+o[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+o[1]-i.getOffsetHeight()-20+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+o[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+o[1]-i.offsetHeight-20+e.properties.tooltipsOffsetY+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),!0}function ScatterDrilldown(t){var e={xaxisScaleMin:t.options.xaxisScaleMin,xaxisScaleMax:t.options.xaxisScaleMax};t.options.xaxisScaleMin=t.options.xaxisScaleMin,t.options.xaxisScaleMax=t.options.xaxisScaleMax;var i=new DxChartScatter({id:t.id,data:DxChart.arrayClone(t.data),options:t.options});t.options.animation&&"function"==typeof i[t.options.animation]?i[t.options.animation]():i.draw();var s={};return i.canvas.onmousedown=function(t){if(0===t.button&&i.getXValue(t)){var e=i.getXValue(t);s.start=e}},i.canvas.onmouseup=function(a){if(0===a.button){var o=i.getXValue(a),r=Math.min(s.start,o),n=Math.max(s.start,o);s.end=o,i.set({xaxisScaleMin:r,xaxisScaleMax:n}),i.data[0].forEach(function(t,e,i){(t[0]<r||t[0]>n)&&(i[e]=[])}),i.set({contextmenu:[["Reset",function(){i.set({xaxisScaleMin:e.xaxisScaleMin,xaxisScaleMax:e.xaxisScaleMax,xaxisLabels:DxChart.arrayClone(t.options.xaxisLabels)}),i.data[0]=DxChart.arrayClone(t.data),DxChart.redraw()}]]});var h=[];t.options.xaxisLabels.forEach(function(t,e,i){t[1]>r&&t[1]<n&&h.push(t)}),i.set("xaxisLabels",h),DxChart.redraw(),s={}}},i.canvas.onmousemove=function(t){if("number"==typeof s.start&&!s.end){var e=i.getXCoord(s.start),a=i.getXCoord(i.getXValue(t));DxChart.redraw(),i.context.fillStyle="rgba(0,0,0,0.15)",isNexacroRuntime&&i.context.setElementFillStyle(i.context.fillStyle),i.context.fillRect(e,i.properties.marginTop,a-e,i.canvas.height-i.properties.marginTop-i.properties.marginBottom)}},i}function ScatterDrilldownDraw(t){return DxChart.Scatter.drilldown(t)}function DxChartSegment(t){return DxChart._Base.call(this,t,"segment"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.variantValue="",this.properties.imageUrl="",this.properties.imageCount=10,this.properties.imageWidth=90,this.properties.imageHeight=90,this.properties.imageVMargin=10,this.properties.imageHMargin=10,this.properties.imageLineCount=1,this.properties.imageFillColor="#ff0000",this.properties.imageMinSize=80,this.sequence=0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.value<=1e-7&&(this.value=1e-7)},this.drawImage=function(t,e,i,s,a,o,r,n){var h,l=t.split("/").join("");l=l.split("::").join("");var c=t;isNexacroRuntime&&(h={});var x=this.sequence;if("string"==typeof t)if(void 0===this.canvas["_cached_"+l+s+o]){var d=this;if(isNexacroRuntime){h.src=c,h.handle=nexacro._getImageObject(c,function(t,c,u,g){h.width=c,h.height=u,h.imagewidth=c,h.imageheight=u,d._drawImageCallback(x,l,h,e,i,s,a,o,r,n)},this,"",!1)}else{if(h=new Image,nexacro){if("url("==c.substring(0,4).toLowerCase()&&(c=c.substring(5,c.length-2)),!c||!c.length)return null;c=nexacro._getImageLocation(c)}h.onload=function(){d._drawImageCallback(x,l,h,e,i,s,a,o,r,n)},h.src=c}}else h=this.canvas["_cached_"+l+s+o],this._drawImageCallback(x,l,h,e,i,s,a,o,r,n)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l){if(t==this.sequence){this.canvas["_cached_"+e+o+n]||(this.canvas["_cached_"+e+o+n]=i);var c=this.context;if(c.drawImage(i,s,a,o,r),l&&(this.compageImageChk++,this.compageImageChk>=2&&this.drawLabel()),0!=n){for(var x=o*(n/100),d=c.getImageData(s,a,x,r),u=0,g=d.data.length;u<g;u+=4)255==d.data[u]&&255==d.data[u+1]&&255==d.data[u+2]&&255==d.data[u+3]&&(d.data[u]=h[0],d.data[u+1]=h[1],d.data[u+2]=h[2]);c.putImageData(d,s,a),c.globalAlpha=1}}},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);this.sequence++;var t=this.properties;return DxChart._BeforeDraw(this),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginBottom-this.marginTop)/2+this.marginTop,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),this.coordsText=[],DxChart.Background.draw(this),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.drawMeter(),t.imageMinUrl&&t.imageMinUrl||this.drawLabel(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawImageCompareProc=function(){if(this.max>100)trace("비교시에는 최대 100까지만 가능합니다.");else{var t=this.properties,e=this.canvas.width-this.marginLeft-this.marginRight,i=this.canvas.height-this.marginBottom-this.marginTop,s=e/2+this.marginLeft,a=i/2+this.marginTop,o=Math.min(e,i);this.compageImageChk=0;this.min;var r=o*(this.max/100),n=s-r-t.imageHMargin,h=a-r/2-t.imageVMargin,l=t.imageMaxUrl;this.drawImage(l,n,h,r,r,0,"","compare"),this.imageMaxX=n+r/2,this.imageMaxY=h+r/2+t.imageVMargin,this.imageMaxT=h-t.imageVMargin-20,this.imageMaxB=h+r+t.imageVMargin+20;var c=o*(this.min/100);c<t.imageMinSize&&(c=t.imageMinSize),n=s+r/2-t.imageHMargin,h=a-c/2-t.imageVMargin,l=t.imageMinUrl,this.drawImage(l,n,h,c,c,0,"","compare"),this.imageMinX=n+c/2,this.imageMinY=h+c/2+t.imageVMargin,this.imageMinT=n}},this.drawImageProc=function(){var t,e,i=this.properties,s=this.canvas.width-this.marginLeft-this.marginRight,a=this.canvas.height-this.marginBottom-this.marginTop,o=i.imageCount/i.imageLineCount,r=this.value,n=100/i.imageCount,h=DxChart._hex2rgb(i.imageFillColor);5==(h=h.match(/\d+/g).map(Number)).length&&(h[3]=.1*h[4]),t=i.imageWidth*o+i.imageHMargin*(o-1),e=i.imageHeight*i.imageLineCount+i.imageHMargin*(i.imageLineCount+1);var l=(s-t)/2+this.marginLeft,c=(a-e)/2+this.marginTop;this.imageShowTop=c;for(var x=0,d=i.imageUrl,u=l,g=c,p=i.imageWidth,f=i.imageHeight,m=0,b=0;b<i.imageLineCount;b++){for(var C=0;C<o;C++)m=r>=(x+=n)?100:r>x-n&&r<=x?(n-(x-r))/n*100:0,this.drawImage(d,u,g,p,f,m,h),u+=i.imageHMargin+i.imageWidth;g+=i.imageHMargin+i.imageHeight,u=l}},this.drawMeter=function(){var t=this.properties,e="number"==typeof t.width?t.width:this.radius/2;if("string"==typeof t.width&&(e+=Number(t.width)),t.backgroundColor&&this.path("fs % fr -5 -5 % %",t.backgroundColor,this.canvas.width+10,this.canvas.height+10),t.imageUrl&&""!=t.imageUrl)this.drawImageProc();else if(t.imageMaxUrl&&t.imageMinUrl)this.drawImageCompareProc();else{var i=360/t.radialsCount;i/=2;for(var s=Math.round((this.value-this.min)/(this.max-this.min)*(2*t.radialsCount)),a=1;a<2*t.radialsCount;a+=2){var o=DxChart.toRadians(a*i-i/2)*t.effectRoundrobinMultiplier-DxChart.HALFPI,r=DxChart.toRadians(a*i+i/2)*t.effectRoundrobinMultiplier-DxChart.HALFPI;isNexacroRuntime?(o=DxChart.toRadians(a*i-i/2)*t.effectRoundrobinMultiplier-DxChart.PI,r=DxChart.toRadians(a*i+i/2)*t.effectRoundrobinMultiplier-DxChart.PI,this.path("b a % % % % % false l % % f % ",this.centerx,this.centery,this.radius,o,r,this.centerx,this.centery,a>=s?t.colors[1]:t.colors[0])):this.path("b a % % % % % false a % % % % % true f % ",this.centerx,this.centery,this.radius,o,r,this.centerx,this.centery,this.radius-e,r,o,a>=s?t.colors[1]:t.colors[0])}if(isNexacroRuntime){var n=t.backgroundColor||this.canvas._refform.parent.background||"#ffffff";this.path("b a % % % % % false f % ",this.centerx,this.centery,this.radius-e,0,2*DxChart.PI,n)}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawLabel=function(){var t=this.properties;DxChart.isNull(t.textFontStyleObj.size)&&(t.textFontStyleObj.size=this.radius/2.5);var e=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});if(t.imageMinUrl&&t.imageMinUrl){var i=this.imageMaxX,s=this.imageMaxY;return"top"==t.labelsPosition?s=this.imageMaxT:"bottom"==t.labelsPosition&&(s=this.imageMaxB),DxChart.text({object:this,font:e.font,italic:e.italic,bold:e.bold,size:e.size,color:e.color,x:i,y:s,text:t.labelsData[0][0],halign:"center",valign:"center",accessible:t.textAccessible}),i=this.imageMinX,s=this.imageMinY,"top"==t.labelsPosition?s=this.imageMaxT:"bottom"==t.labelsPosition&&(s=this.imageMaxB),void DxChart.text({object:this,font:e.font,italic:e.italic,bold:e.bold,size:e.size,color:e.color,x:i,y:s,text:t.labelsData[0][1],halign:"center",valign:"center",accessible:t.textAccessible})}t.labelsCenterSpecific&&t.labelsCenterSpecific.length&&(t.labelsCenterSpecific=DxChart.labelSubstitution({object:this,text:t.labelsCenterSpecific,index:0,value:this.value,decimals:t.labelsCenterSpecificFormattedDecimals||0,unitsPre:t.labelsCenterSpecificFormattedUnitsPre||"",unitsPost:t.labelsCenterSpecificFormattedUnitsPost||"",thousand:t.labelsCenterSpecificFormattedThousand||",",point:t.labelsCenterSpecificFormattedPoint||"."})),DxChart.text({object:this,font:e.font,italic:e.italic,bold:e.bold,size:e.size,color:e.color,x:isNexacroRuntime?this.centerx+t.labelsCenterOffsetX+5:this.centerx+t.labelsCenterOffsetX,y:t.imageUrl&&""!=t.imageUrl?this.imageShowTop-t.labelsCenterOffsetY:this.centery+t.labelsCenterOffsetY,text:t.labelsCenterSpecific?t.labelsCenterSpecific:DxChart.numberFormat({object:this,number:(this.value*t.effectRoundrobinMultiplier).toFixed(t.labelsCenterDecimals),unitspre:t.labelsCenterUnitsPre,unitspost:t.labelsCenterUnitsPost,point:t.labelsCenterPoint,thousand:t.labelsCenterThousand}),halign:"center",valign:"center",accessible:t.textAccessible})},this.getShape=function(t){},this.getValue=function(t){if("number"==typeof t)i=t;else var e=DxChart.getMouseXY(t),i=DxChart.getAngleByXY(this.centerx,this.centery,e[0],e[1]);(i+=DxChart.HALFPI)>DxChart.TWOPI&&(i-=DxChart.TWOPI);var s=i/DxChart.TWOPI*(this.max-this.min)+this.min;return s=Math.max(s,this.min),s=Math.min(s,this.max)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=e.width,a=DxChart.getHypLength(this.centerx,this.centery,i[0],i[1]);return"string"==typeof s?s=this.radius/2+parseFloat(s):DxChart.isNull(s)&&(s=this.radius/2),a>this.radius||a<this.radius-s?null:this},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){if("number"==typeof t){if(t>this.max||t<this.min)return null;var e=(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI;t===this.max&&(e-=1e-5),t===this.min&&(e+=1e-5)}else{var i=t.offsetX,s=t.offsetY;(e=DxChart.getAngleByXY({cx:this.centerx,cy:this.centery,x:i,y:s}))>DxChart.PI+DxChart.HALFPI&&(e-=DxChart.TWOPI)}return e},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor);var e=t.colors;if(e&&e.length)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1,radial:!0});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(properties.marginLeft,0,this.canvas.width-properties.marginLeft-properties.marginRight,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i);break;case"roundRobin":this.roundRobin(e,i)}},this.grow=function(){this.cancelStopAnimation();var t=this;t.currentValue=t.currentValue||t.min;var e=(arguments[0]||{}).frames||30,i=0,s=(t.value-t.currentValue)/e,a=arguments[1]||function(){},o=t.currentValue;return function r(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=o+i++*s,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i<=e?DxChart.Effects.updateCanvas(r,t.canvas):a(t))}(),this},this.roundRobin=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=0,a=e.frames||30,o=(this.radius,function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set({effectRoundrobinMultiplier:DxChart.Effects.getEasingMultiplier(a,s)}),DxChart.redrawCanvas(t.canvas),s<a?(DxChart.Effects.updateCanvas(o,t.canvas),s++):(DxChart.redrawCanvas(t.canvas),i(t)))});return o(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartSemiCircle(t){return DxChart._Base.call(this,t,"semicircle"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.backgroundGridMargin=20,this.backgroundGridCircles=!0,this.backgroundGridRadials=!0,this.backgroundGridRadialsCount=10,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null,isNexacroRuntime&&(this.properties.anglesStart=DxChart.HALFPI,this.properties.anglesEnd=DxChart.PI+DxChart.HALFPI)},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this,!0),this.currentValue=this.value,this.radius=Math.min((this.canvas.width-t.marginLeft-t.marginRight)/2,this.canvas.height-t.marginTop-t.marginBottom),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-this.marginBottom,this.width=this.radius/3,"number"==typeof t.radius&&(this.radius=t.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.width&&(this.width=t.width),DxChart.isString(t.centerx)&&(this.centerx+=Number(t.centerx)),DxChart.isString(t.centery)&&(this.centery+=Number(t.centery)),DxChart.isString(t.radius)&&(this.radius+=Number(t.radius)),this.coords=[],this.coordsText=[],this.colorsParsed||(this.colorsParsed=!0,this.parseColors()),this.drawBackgroundGrid(),this.drawMeter(),this.drawLabels(),this.drawScale(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.allowAdjusting(),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawMeter=function(){var t=this.properties;this.coords=[];var e=t.anglesStart,i=t.anglesEnd;this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.strict":!0,"scale.min":this.min,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":5,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),"rgba(0,0,0,0)"!==t.backgroundColor&&this.path("fs % fr % % % %",t.backgroundColor,0,0,this.canvas.width,this.canvas.height);var s=this.centerx,a=this.centery,o=s-(d=this.radius),r=a-d,n="rgba(255,255,255,0.85)";t.colorsRemain&&(n=DxChart.parseRadialGradientInfo(this,t.colorsRemain,s,a,0,s,a,d));var h=DxChart.parseRadialGradientInfo(this,t.colors[0],s,a,0,s,a,d);if(isNexacroRuntime?(this.context.save(),this.context.translate(o,r),s=d,a=d,t.shadowUse?this.path("lw % b a % % % % % false l % % c s % f % sx % sy % sc % sb % f % sx 0 sy 0 sb 0 sc rgba(0,0,0,0) lw 1",t.lineWidth,s,a,this.radius,e,i,s,a,t.colorsStroke,h,t.shadowStyleObj.offsetx,t.shadowStyleObj.offsety,t.shadowUse?t.shadowStyleObj.color:"rgba(0,0,0,0)",t.shadowStyleObj.blur,n):(this.path("lw % b a % % % % % false l % % c s % f % lw 1",t.lineWidth,s,a,this.radius,e,i,s,a,t.colorsStroke,h),this.path("lw % b a % % % % % false l % % c f % lw 1",t.lineWidth,s,a,this.radius,e,i,s,a,n)),this.context.restore()):this.path("lw % b a % % % % % false a % % % % % true c s % f % sx % sy % sc % sb % f % sx 0 sy 0 sb 0 sc rgba(0,0,0,0) lw 1",t.lineWidth,this.centerx,this.centery,this.radius,e,i,this.centerx,this.centery,this.radius-this.width,i,e,t.colorsStroke,h,t.shadowStyleObj.offsetx,t.shadowStyleObj.offsety,t.shadowUse?t.shadowStyleObj.color:"rgba(0,0,0,0)",t.shadowStyleObj.blur,n),DxChart.isNumber(this.value)){var l=(i-e)*((this.value-this.scale2.min)/(this.max-this.scale2.min));isNexacroRuntime?(this.context.save(),this.context.translate(o,r),this.path("b a % % % % % false l % % c f %",s,a,this.radius,e,e+l,s,a,h),this.context.restore()):this.path("b a % % % % % false a % % % % % true c f %",this.centerx,this.centery,this.radius,e,e+l,this.centerx,this.centery,this.radius-this.width,e+l,e,h),this.coords=[[this.centerx,this.centery,this.radius,e,e+l,this.width,l]]}else if(DxChart.isArray(this.value))for(var c=0;c<this.value.length;++c){l=(t.anglesEnd-t.anglesStart)*((this.value[c]-this.scale2.min)/(this.max-this.scale2.min)),h=DxChart.parseRadialGradientInfo(this,t.colors[c],s,a,0,s,a,d);isNexacroRuntime?(this.context.save(),this.context.translate(o,r),this.path("b a % % % % % false l % % c f %",s,a,this.radius,e,e+l,s,a,h),this.context.restore()):this.path("b a % % % % % false a % % % % % true c f %",this.centerx,this.centery,this.radius,e,e+l,this.centerx,this.centery,this.radius-this.width,e+l,e,h),this.coords.push([this.centerx,this.centery,this.radius,e,e+l,this.width,l]),e+=l}if(isNexacroRuntime){var x=t.backgroundGridMargin,d=this.radius-this.width,u=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";if(t.backgroundGrid){if(t.backgroundGridCircles){var g=d-x;this.path("b lw % a % % % % % false l % % c s % f %",t.backgroundGridLineWidth,this.centerx,this.centery,d,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor,u),this.path("b lw % a % % % % % false l % % c s % f %",t.backgroundGridLineWidth,this.centerx,this.centery,g,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor,u)}if(t.backgroundGridRadials){var p=(t.anglesEnd-t.anglesStart)/t.backgroundGridRadialsCount;for(l=t.anglesStart,c=0;c<t.backgroundGridRadialsCount;++c){var f=DxChart.getRadiusEndPoint(this.centerx,this.centery,l+DxChart.HALFPI,d),m=DxChart.getRadiusEndPoint(this.centerx,this.centery,l+DxChart.HALFPI,g);this.path("lw % b m % % l % % c s % lw 1",t.backgroundGridLineWidth,f[0],f[1],m[0],m[1],t.backgroundGridColor),l+=p}}}d-=x;var b=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart+DxChart.HALFPI-.01,d),C=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesEnd+DxChart.HALFPI+.01,d),y=Math.abs(C[0]-b[0]),v=Math.abs(C[1]-b[1]);this.path("lw 0 b a % % % % % false l % % l % % c s % f %",this.centerx,this.centery,d,t.anglesStart,t.anglesEnd,C[0],C[1],b[0],b[1],t.colorsStroke,u),this.context.beginPath(),this.context.setElementFillStyle(u);var D=parseInt(b[0])+2,S=parseInt(b[1]);this.context.rect(D,S,parseInt(y),parseInt(v)),this.context.closePath(),this.context.fill()}},this.drawLabels=function(){var t=this.properties;if(t.labelsMin){o=DxChart.isNull(t.labelsMinSpecific)?DxChart.numberFormat({object:this,number:this.scale2.min.toFixed("number"==typeof t.labelsMinDecimals?t.labelsMinDecimals:t.scaleDecimals),unitspre:t.labelsMinUnitsPre,unitspost:t.labelsMinUnitsPost,point:t.labelsMinPoint,thousand:t.labelsMinThousand}):t.labelsMinSpecific;var e="center",i="top";t.anglesStart===DxChart.PI?(e="center",i="top"):t.anglesStart<=DxChart.PI?(e="left",i="center"):t.anglesStart>=DxChart.PI&&(e="right",i="center"),isNexacroRuntime?(a=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart+DxChart.HALFPI+t.labelsMinOffsetAngle,this.radius-this.width/2))[1]=a[1]+10:a=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart+t.labelsMinOffsetAngle,this.radius-this.width/2);var s=DxChart.getTextInfo({object:this,prefix:"labelsMin"});DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:a[0]+t.labelsMinOffsetX,y:a[1]+t.labelsMinOffsetY,valign:i,halign:e,text:o})}if(t.labelsMax){var a;e="center",i="top";if(t.anglesEnd===DxChart.TWOPI?(e="center",i="top"):t.anglesEnd>=DxChart.TWOPI?(e="right",i="center"):t.anglesEnd<=DxChart.TWOPI&&(e="left",i="center"),DxChart.isNull(t.labelsMaxSpecific))o=DxChart.numberFormat({object:this,number:this.scale2.max.toFixed("number"==typeof t.labelsMaxDecimals?t.labelsMaxDecimals:t.scaleDecimals),unitspre:t.labelsMaxUnitsPre,unitspost:t.labelsMaxUnitsPost,point:t.labelsMaxPoint,thousand:t.labelsMaxThousand});else var o=t.labelsMaxSpecific;isNexacroRuntime?(a=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesEnd+DxChart.HALFPI+t.labelsMaxOffsetAngle,this.radius-this.width/2))[1]=a[1]+2*t.anglesEnd:a=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesEnd+t.labelsMaxOffsetAngle,this.radius-this.width/2);s=DxChart.getTextInfo({object:this,prefix:"labelsMax"});DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:a[0]+t.labelsMaxOffsetX,y:a[1]+t.labelsMaxOffsetY,valign:i,halign:e,text:o})}if(t.labelsCenter){s=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});if(DxChart.isNull(t.labelsCenterSpecific))o=DxChart.numberFormat({object:this,number:DxChart.isNumber(this.value)?this.value.toFixed(DxChart.isNumber(t.labelsCenterDecimals)?t.labelsCenterDecimals:t.scaleDecimals):this.value[t.labelsCenterIndex].toFixed(DxChart.isNumber(t.labelsCenterDecimals)?t.labelsCenterDecimals:t.scaleDecimals),unitspre:t.labelsCenterUnitsPre,unitspost:t.labelsCenterUnitsPost,point:t.labelsCenterPoint,thousand:t.labelsCenterThousand});else var o=t.labelsCenterSpecific;var r=DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:this.centerx+t.labelsCenterOffsetX,y:this.centery+t.labelsCenterOffsetY,valign:t.labelsCenterValign,halign:"center",text:o});if(t.labelsCenterFade&&r.node){r.node.style.opacity=0;for(var n=0;n<20;++n)!function(t){setTimeout(function(){r.node.style.opacity=.05*t},25*(t+1))}(n)}}DxChart.drawTitle(this)},this.drawBackgroundGrid=function(){var t=this.properties;if(t.backgroundGrid){var e=t.backgroundGridMargin,i=this.radius+e,s=this.radius-this.width-e;if(t.backgroundGridCircles&&(isNexacroRuntime?(this.path("b lw % a % % % % % false l % % c s %",t.backgroundGridLineWidth,this.centerx,this.centery,i,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor),this.path("b lw % a % % % % % false l % % c s %",t.backgroundGridLineWidth,this.centerx,this.centery,s,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor)):(this.path("b lw % a % % % % % false",t.backgroundGridLineWidth,this.centerx,this.centery,i,t.anglesStart,t.anglesEnd),this.path("a % % % % % true c s %",this.centerx,this.centery,s,t.anglesEnd,t.anglesStart,t.backgroundGridColor))),t.backgroundGridRadials)for(var a=(t.anglesEnd-t.anglesStart)/t.backgroundGridRadialsCount,o=t.anglesStart,r=0;r<t.backgroundGridRadialsCount;++r){if(isNexacroRuntime){var n=DxChart.getRadiusEndPoint(this.centerx,this.centery,o+DxChart.HALFPI,i),h=DxChart.getRadiusEndPoint(this.centerx,this.centery,o+DxChart.HALFPI,s);this.path("lw % b m % % l % % c s % lw 1",t.backgroundGridLineWidth,n[0],n[1],h[0],h[1],t.backgroundGridColor)}else this.path(" b a % % % % % false a % % % % % false s %",this.centerx,this.centery,s,o,o,this.centerx,this.centery,i,o,o,t.backgroundGridColor);o+=a}}},this.drawScale=function(){var t=this.properties;if(t.scaleVisible){this.scale2=DxChart.getScale({object:this,options:{"scale.max":t.scaleMax||this.max,"scale.strict":!0,"scale.min":t.scaleMin,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.scaleLabelsCount,"scale.round":!1,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.formatter":t.scaleFormatter}});for(var e=0;e<this.scale2.labels.length;++e){var i=DxChart.getTextInfo({object:this,prefix:"scaleLabels"});if(isNexacroRuntime){var s=t.anglesStart+DxChart.HALFPI,a=t.anglesEnd+DxChart.HALFPI;o=DxChart.getRadiusEndPoint(this.centerx,this.centery,s+(e+1)/this.scale2.labels.length*(a-s),this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+i.size+t.scaleLabelsOffsetR+5)}else o=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart+(e+1)/this.scale2.labels.length*(t.anglesEnd-t.anglesStart),this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+i.size+t.scaleLabelsOffsetR+5);DxChart.text({object:this,tag:"scale",font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:o[0]+(t.scaleLabelsOffsetX||0),y:o[1]+(t.scaleLabelsOffsetY||0),valign:"center",halign:"center",text:this.scale2.labels[e]})}var o;if(isNexacroRuntime){s=t.anglesStart+DxChart.HALFPI,a=t.anglesEnd+DxChart.HALFPI;o=DxChart.getRadiusEndPoint(this.centerx,this.centery,s,this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+i.size+t.scaleLabelsOffsetR+5)}else o=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart,this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+i.size+t.scaleLabelsOffsetR+5);DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:o[0]+(t.scaleLabelsOffsetX||0),y:o[1]+(t.scaleLabelsOffsetY||0),valign:"center",halign:"center",text:"function"==typeof t.scaleFormatter?t.scaleFormatter({object:this,number:0,unitspre:t.scaleUnitsPre,unitspost:t.scaleUnitsPost,point:t.scalePoint,thousand:t.scaleThousand,formatter:t.scaleFormatter}):(t.scaleUnitsPre||"")+t.scaleMin.toFixed(t.scaleDecimals).replace(/\./,t.scalePoint)+(t.scaleUnitsPost||"")})}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=0;o<this.coords.length;++o)if(this.context.beginPath(),this.context.arc(this.coords[o][0],this.coords[o][1],this.coords[o][2],this.coords[o][3],this.coords[o][4],!1),this.context.arc(this.coords[o][0],this.coords[o][1],this.coords[o][2]-this.coords[o][5],this.coords[o][4],this.coords[o][3],!0),this.context.isPointInPath(s,a)){if(DxChart.parseTooltipText)var r=DxChart.parseTooltipText(e.tooltips,o);return{object:this,x:this.coords[o][0],y:this.coords[o][1],radiusOuter:this.coords[o][2],radiusInner:this.coords[o][2]-this.coords[o][5],width:this.coords[o][5],angleStart:this.coords[o][3],angleEnd:this.coords[o][4],index:o,dataset:0,sequentialIndex:o,tooltip:"string"==typeof r?r:null}}},this.getValue=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=DxChart.getAngleByXY(this.centerx,this.centery,s,a);o&&s>=this.centerx&&a>this.centery&&(o+=DxChart.TWOPI),o<e.anglesStart&&s>this.centerx&&(o=e.anglesEnd),o<e.anglesStart&&(o=e.anglesStart);var r=(o-e.anglesStart)/(e.anglesEnd-e.anglesStart)*(this.max-this.min)+this.min;return r=Math.max(r,this.min),r=Math.min(r,this.max)},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("lw 5 b a % % % % % false a % % % % % true c f % s % lw 1",t.x,t.y,t.radiusOuter,t.angleStart,t.angleEnd,t.x,t.y,t.radiusInner,t.angleEnd,t.angleStart,e.highlightFill,e.highlightStroke)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);return this.path("b a % % % % % false",this.centerx,this.centery,this.radius,e.anglesStart,e.anglesEnd),this.path("a % % % % % true",this.centerx,this.centery,this.radius-this.width,e.anglesEnd,e.anglesStart),this.context.isPointInPath(i[0],i[1])?this:null},this.allowAdjusting=function(){},this.changing_mousemove=function(t){var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){var i=this.getValue(t);"number"==typeof i&&(DxChart._fireEvent(this,"onadjust"),this.value=Number(i.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas))}},this.getAngle=function(t){var e=this.properties;if(t>this.max||t<this.min)return null;var i=t/this.max*(e.anglesEnd-e.anglesStart);return i+=e.anglesStart},this.overChartArea=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1];return this.path("b a % % % % % false a % % % % % true",this.coords[0][0],this.coords[0][1],this.coords[0][2],e.anglesStart,e.anglesEnd,this.coords[0][0],this.coords[0][1],this.coords[0][2]-this.coords[0][5],e.anglesEnd,e.anglesStart),this.context.isPointInPath(s,a)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor)},this.reset=function(){},this.firstDrawFunc=function(){},this.grow=function(){this.cancelStopAnimation();var t=this,e=(arguments[0]||{}).frames||30,i=0,s=arguments[1]||function(){};if(DxChart.isNumber(this.value))var a=this.currentValue,o=(r=this.value-Number(this.currentValue))/e;else{a=[];for(var r=[],n=(o=[],0);n<this.value.length;++n)a[n]=DxChart.isNull(this.currentValue)?0:this.currentValue[n],r[n]=this.value[n]-Number(DxChart.isNull(this.currentValue)?0:this.currentValue[n]),o[n]=r[n]/e}return function r(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else if(++i<=e){if(DxChart.isNumber(t.value))t.value=a+o*i;else for(var n=0;n<t.value.length;++n)t.value[n]=a[n]+o[n]*i;DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(r)}else s()}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.value,values:[this.value]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[t.index]?i.tooltipsFormattedKeyColors[t.index]:i.colors[t.index];return{label:i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"",color:s,value:t.values[0][t.index]}},this.positionTooltipStatic=function(t){var e=t.object,i=t.event,s=t.tooltip,a=(t.index,DxChart.getCanvasXY(e.canvas));shape=this.getShape(i),angle=(shape.angleEnd-shape.angleStart)/2+shape.angleStart;var o=DxChart.getRadiusEndPoint(shape.x,shape.y,angle,(shape.radiusOuter-shape.radiusInner)/2+shape.radiusInner);t.tooltip.style.left=a[0]+o[0]-s.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]+o[1]-s.offsetHeight+e.properties.tooltipsOffsetY-10+"px"},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartThermometer(t){return DxChart._Base.call(this,t,"thermometer"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsCount=5,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.graphArea=[],this.currentValue=null,this.$0={}},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;return DxChart._BeforeDraw(this,!0),this.value=Math.min(this.max,this.value),this.value=Math.max(this.min,this.value),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.currentValue=this.value,this.coordsText=[],this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"ylabels.count":t.labelsCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),this.x=this.marginLeft,this.width=this.canvas.width-this.marginLeft-this.marginRight,this.y=this.marginTop+this.width/2,this.halfWidth=this.width/2,this.bulbTopCenterx=this.marginLeft+this.width/2,this.bulbTopCentery=this.marginTop+this.width/2,this.bulbTopRadius=this.width/2,this.bulbBottomCenterx=this.marginLeft+this.width/2,this.bulbBottomRadius="number"==typeof t.bulbBottomRadius?t.bulbBottomRadius:.75*this.width+t.bulbBottomRadiusAdjust,this.bulbBottomCentery=this.canvas.height-this.marginBottom-this.bulbBottomRadius,this.scaleTopY=this.bulbTopCentery,this.scaleBottomY=this.bulbBottomCentery-this.bulbBottomRadius,this.scaleHeight=this.scaleBottomY-this.scaleTopY,this.height=this.getYCoord(this.min)-this.getYCoord(this.value),this.coords[0]=[this.x,this.getYCoord(this.value),this.width,this.height],this.drawBackground(),this.drawBar(),this.drawTickMarks(),this.drawLabels(),t.titleText&&this.drawTitle(),t.titleSide&&this.drawSideTitle(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties;t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetx,t.shadowStyleObj.offsety,t.shadowStyleObj.blur),this.pathBackground(),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=1+t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.stroke(),this.context.fill(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawBar=function(){var t=this.properties;this.pathBar(),this.path("f %",t.colors[0])},this.pathBar=function(){var t=this.coords[0][3],e=this.coords[0][1]+this.coords[0][3]-t;DxChart.noShadow(this),this.context.beginPath(),this.context.strokeStyle="transparent",isNexacroRuntime&&this.context.setElementStrokeStyle(context.strokeStyle),this.context.rect(this.coords[0][0],e,this.coords[0][2],this.bulbBottomCentery-e),this.context.moveTo(this.bulbBottomCenterx+this.bulbBottomRadius,this.bulbBottomCentery),this.context.arc(this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomRadius,0,6.28,!1)},this.pathBackground=function(){isNexacroRuntime?this.path("b  r % % % %  a % % % % % false m % % a % % % 0 6.2830 false c",this.x,this.scaleTopY-1,this.coords[0][2],this.bulbBottomCentery-this.scaleTopY,this.bulbTopCenterx,this.bulbTopCentery,this.bulbTopRadius,DxChart.HALFPI,DxChart.TWOPI-DxChart.HALFPI,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomRadius):this.path("b  r % % % %  a % % % 3.1415927 6.28 false m % % a % % % 0 6.2830 false c",this.x,this.scaleTopY-1,this.coords[0][2],this.bulbBottomCentery-this.scaleTopY,this.bulbTopCenterx,this.bulbTopCentery,this.bulbTopRadius,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomRadius)},this.drawTickMarks=function(){var t=this.properties;if(t.tickmarksCount){var e=t.tickmarksSize;this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth/2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(var i=0;i<=t.tickmarksCount;++i){var s=this.scaleBottomY-this.scaleHeight/t.tickmarksCount*i;this.context.moveTo(this.marginLeft,Math.round(s)),this.context.lineTo(this.marginLeft+e,Math.round(s)),this.context.moveTo(this.canvas.width-this.marginRight,Math.round(s)),this.context.lineTo(this.canvas.width-this.marginRight-e,Math.round(s))}this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawLabels=function(){var t=this.properties;if(t.labelsValue){var e=(t.scaleVisible,DxChart.numberFormat({object:this,number:this.value.toFixed("number"==typeof t.labelsValueDecimals?t.labelsValueDecimals:t.scaleDecimals),unitspre:"string"==typeof t.labelsValueUnitsPre?t.labelsValueUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsValueUnitsPost?t.labelsValueUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsValuePoint?t.labelsValuePoint:t.scalePoint,thousand:"string"==typeof t.labelsValueThousand?t.labelsValueThousand:t.scaleThousand})),i=DxChart.getTextInfo({object:this,prefix:"labelsValue"});DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:this.coords[0][0]+this.coords[0][2]/2+t.labelsValueOffsetX,y:this.coords[0][1]+7+t.labelsValueOffsetY,text:e,valign:"top",halign:"center",bounding:!0,boundingFill:"white",tag:"labels.value"})}t.scaleVisible&&this.drawScale()},this.drawTitle=function(){DxChart.drawTitle(this)},this.drawSideTitle=function(){var t=this.properties,e=DxChart.getTextInfo({object:this,prefix:"titleSide"}),i=this.marginLeft-3,s=this.scaleHeight/2+this.marginTop+this.bulbTopRadius;"number"==typeof t.titleSideOffsetX&&(i+=t.titleSideOffsetX),"number"==typeof t.titleSideOffsetY&&(s+=t.titleSideOffsetY),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:i,y:s,text:String(t.titleSide),valign:"bottom",halign:"center",angle:270,tag:"title.side",accessible:!1})},this.drawScale=function(){var t=this.properties;this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);t.scaleUnitsPre,t.scaleUnitsPost;for(var e="number"==typeof t.labelsDecimals?t.labelsDecimals:t.scaleDecimals,i=t.labelsCount,s=(this.max-this.min)/i,a=1;a<=i;++a){var o=this.canvas.width-this.marginRight+t.lineWidth/2,r=this.canvas.height-this.marginBottom-2*this.bulbBottomRadius-this.scaleHeight/i*a,n=DxChart.numberFormat({object:this,number:String((this.min+a*s).toFixed(e)),unitspre:"string"==typeof t.labelsUnitsPre?t.labelsUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsUnitsPost?t.labelsUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsPoint?t.labelsPoint:t.scalePoint,thousand:"string"==typeof t.labelsThousand?t.labelsThousand:t.scaleThousand}),h=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:o+5+t.labelsOffsetX,y:r+t.labelsOffsetY,text:n,valign:"center",tag:"scale"})}DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:o+6+t.labelsOffsetX,y:this.bulbBottomCentery-this.bulbBottomRadius+t.labelsOffsetY,text:DxChart.numberFormat({object:this,number:this.min.toFixed(e),unitspre:"string"==typeof t.labelsUnitsPre?t.labelsUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsUnitsPost?t.labelsUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsPoint?t.labelsPoint:t.scalePoint,thousand:"string"==typeof t.labelsThousand?t.labelsThousand:t.scaleThousand}),valign:"center",tag:"scale"})},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=0;o<this.coords.length;o++){var r=this.coords[o],n=r[0],h=r[1],l=r[2],c=r[3];if(this.pathBar(),this.context.isPointInPath(s,a)){var x=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,o):"";return{object:this,x:n,y:h,width:l,height:c,index:0,dataset:0,sequentialIndex:0,tooltip:"string"==typeof x?x:null}}}return null},this.getValue=function(t){if(2===t.length){t[0];var e=t[1]}else{var i=DxChart.getMouseXY(t);i[0],e=i[1]}var s=(this.scaleHeight-(e-this.scaleTopY))/this.scaleHeight;return s*=this.max-this.min,s+=this.min,s=Math.max(s,this.min),s=Math.min(s,this.max)},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight){if("function"==typeof e.highlightStyle)return void e.highlightStyle(t);this.pathBar(),this.path("s % f %",e.highlightStroke,e.highlightFill)}},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t),i=e[0],s=e[1];if(this.pathBackground(),this.context.isPointInPath(i,s))return this},this.changing_mousemove=function(t){var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){DxChart.getMouseXY(t);var i=this.getValue(t);"number"==typeof i&&(DxChart._fireEvent(this,"onadjust"),this.value=Number(i.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas))}},this.getYCoord=function(t){if(t>this.max||t<this.min)return null;var e=Math.abs(t-this.min)/Math.abs(this.max-this.min);return e*=this.scaleBottomY-this.scaleTopY,this.scaleBottomY-e},this.overChartArea=function(t){var e=DxChart.getMouseXY(t),i=e[0],s=e[1];return this.pathBackground(),this.context.isPointInPath(i,s)},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(this.properties.colors));for(var t=this.properties.colors,e=0;e<t.length;++e)t[e]=this.parseSingleColorForGradient(t[e])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[1]||function(){},i=arguments[0]||{},s=i.frames?i.frames:30,a=Number(t.currentValue),o=t.value;o=Math.min(o,this.max);var r=((o=Math.max(o,this.min))-a)/s,n=0;return function i(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=r*n+a,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),n<s?(n++,DxChart.Effects.updateCanvas(i,t.canvas)):e(t))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:this.value,values:[this.value]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[0]?i.tooltipsFormattedKeyColors[0]:i.colors[0];return{label:i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[0]?i.tooltipsFormattedKeyLabels[0]:"",color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.top)<0&&t.tooltip.set_top(parseFloat(t.tooltip.style.top)+a[3]/2+5)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+a[3]/2+5+"px"))},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartTree(t){return DxChart._Base.call(this,t,"tree"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.Cubes=[],this.LevelHeight=[],this.Final=null,this.NodeClick=null,this.NodeSearch=null,this.coords=[],this.dpr=1,this.isDragging=!1,this.dragStart={x:0,y:0},this.cameraOffset={x:this.canvas.width/2,y:this.canvas.height/2},this.cameraZoom=1,this.lastZoom=this.cameraZoom,this.initialPinchDistance=null,this.properties.scaleMaxZoom=5,this.properties.scaleMinZoom=.2,this.SCROLL_SENSITIVITY=5e-4,this.properties.backgroundGrid=!1,this.properties.scaleAuto=!1,this.properties.scaleMove=!1,this.properties.scaleZoom=!1,this.properties.scaleValueX=1,this.properties.scaleValueY=1,this.properties.itemConnectionStyle="curve",this.properties.itemTextShowValuePreText="",this.properties.itemTextShowValuePostText="",this.properties.itemTextShowValue=!1,this.properties.itemTextFontStyle="10px Tahoma",this.properties.itemTextColor="#000000",this.properties.itemTextHMargin=5,this.properties.itemTextVMargin=5,this.properties.itemTextVGap=5,this.properties.itemMargin=5,this.properties.itemHighlightTextColor="green",this.properties.itemHighlightStrokeColor="#ffffff",this.properties.rootPosition="top",this.properties.animationGrowMultiplier=1,this.properties.colors=["red","blue"],this.properties.highlightFill="rgba(255,255,255,0.3)",this.properties.highlightStroke="gray",this.properties.tooltipsFormattedKeyLabels=[],this.properties.tooltipsFormattedKeyColors=[],this.properties.itemCollapseLineWidth=1,this.properties.itemCollapseBackgroundColor="#ffffff",this.properties.itemCollapseLineColor="#000000",this.properties.itemExpandWidth=3,this.properties.itemExpandLineWidth=1,this.properties.itemExpandBackgroundColor="#111111",this.properties.itemExpandLineColor="#000000",this.properties.itemExpandShow=!0,this.properties.itemHighlightLineColor="#333300",this.properties.itemHighlightSubTextColor="#ffffff",this.properties.itemHighlightExpandRadius=null,this.properties.itemHighlightExpandFillColor=null,this.properties.itemHighlightExpandLineColor=null,this.properties.itemHighlightExpandLineWidth=null,this.properties.itemHighlightCollapseFillColor=null,this.properties.itemHighlightCollapseLineColor=null,this.properties.itemHighlightCollapseLineWidth=null,this.properties.itemLineColor="#dddddd",this.properties.itemTextColor="#000000",this.properties.itemLineWidth=1,t.binddataset&&(this.binddataset=t.binddataset),DxChart.parseProperties(this,t.options),this.resetData=function(t){this.Cubes=null,this.Cubes=[];for(var e=t.nameColumn,i=t.parentNameColumn,s=t.valueColumn,a=t.expandColumn,o=t.colorColumn,r=t.fontColumn,n=t.lineWidthColumn,h=t.lineColorColumn,l=this.binddataset,c=0;c<l.rowcount;c++){var x=new _TreeCube(l.getColumn(c,e),l.getColumn(c,i),{n:e?l.getColumn(c,e):null,c:o?l.getColumn(c,o):null,f:r?l.getColumn(c,r):null,lw:n?l.getColumn(c,n):null,lc:h?l.getColumn(c,h):null,v:s?l.getColumn(c,s):null,e:!a||l.getColumn(c,a)},this.properties,c,this);this.Push(x)}},this.Push=function(t){for(t.canvas=this.canvas,t.context=this.context,t.OC=this;;){var e=this.Each(this.Cubes,function(e,i){if(e.ParentId==t.Id)return i});if(this.IsNull(e))break;var i=this.Cubes.splice(e,1)[0];t.AddChild(i)}var s=this.Each(this.Cubes,function(e,i){return e.FindNode(t.ParentId)});this.IsNull(s)?(this.Cubes.push(t),t.IsRoot=!0):(s.AddChild(t),t.parentNode=s,t.IsRoot=!1)},this.IsSolid=function(t){return!this.IsNull(t)&&("boolean"!=typeof t||t)},this.IsFunction=function(t){return!this.IsNull(t)&&"function"==typeof t},this.IsNull=function(t){return null==t},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.SetNodeLineColor=function(t,e,i,s,a,o,r,n,h,l){var c=this;t.HighlightLineColor=e,t.HighlightSubTextColor=i,t.HighlightExpandRadius=s,t.HighlightExpandLineColor=o,t.HighlightExpandLineWidth=r,t.HighlightExpandFillColor=a,t.HighlightCollapseLineColor=h,t.HighlightCollapseLineWidth=l,t.HighlightCollapseFillColor=n,this.Each(t.Children,function(t){c.SetNodeLineColor(t,e,i,s,a,o,r,n,h,l)})},this.SearchNode=function(t,e){if(t.index==e)return t;var i=this;return this.Each(t.Children,function(t){return i.SearchNode(t,e)})},this.SearchClickedOne=function(t,e,i){if(t.ClickMe(e,i))return t;var s=this;return this.Each(t.Children,function(t){return s.SearchClickedOne(t,e,i)})},this.GetClickedCube=function(t,e){return this.IsNull(this.Final)?null:this.SearchClickedOne(this.Final,t,e)},this.Layout=function(t){var e=this.properties;t.RefreshLevel(),t.ComputeSpan(),t.SetLevelInfo(t);var i=this.canvas.width-e.marginLeft-e.marginRight,s=this.canvas.height-e.marginTop-e.marginBottom,a=0;"top"==e.rootPosition&&(t.Position.x=this.canvas.width/2-t.Dimen.width/2,a=s/t.LevelDictShowSize.length),"left"==e.rootPosition&&(t.Position.x=e.marginLeft,a=i/t.LevelDictShowSize.length),"center"==e.rootPosition&&(t.Position.x=i/2,a=Math.min(i,s)/(t.LevelDictShowSize.length+1));var o=[];o.push(t),"top"==e.rootPosition?(t.Position.l=e.marginLeft+(i-t.SpanWidth)/2,t.Position.y=e.marginTop):"left"==e.rootPosition?(t.Position.l=e.marginTop+(s-t.SpanHeight)/2,t.Position.y=this.canvas.height/2-t.Dimen.height/2):"center"==e.rootPosition&&(t.Position.y=s/2,t.Position.l=0-DxChart.HALFPI,t.Position.startAngle=0,t.Position.endAngle=DxChart.TWOPI,t.Position.radius=0,t.Seq=0);var r=t.Position.x,n=t.Position.y;a*=e.animationGrowMultiplier;Math.max(i,s);var h,l,c=0,x=0,d=0,u=0,g=0,p=(t.Size,0);for(this.nDiv=a;o.length>0;){var f=o.shift();if(!f.parentNode||0!=f.parentNode.Expand){var m=f.LinesSize[0];c=Math.max(c,f.Position.x+m[0]),x=Math.max(x,f.Position.y+m[1]),u=Math.min(u,f.Position.x),d=Math.min(d,f.Position.y);for(var b=0;b<f.Children.length;++b){var C=f.Children[b];0==b&&(p=0,g=f.Position.l,"left"==e.rootPosition?g<e.marginTop&&(g=e.marginTop):"center"==e.rootPosition&&(D=f.Position.startAngle,v=(y=f.Position.endAngle)-D)),"top"==e.rootPosition?(h=C.SpanWidth,C.Position.x=g+h/2*e.animationGrowMultiplier,C.Position.l=C.Position.x-h/2,g+=h,t.LevelDictSize[C.Level]>a?C.Position.y=C.Level*(t.LevelDictSize[C.Level]*e.animationGrowMultiplier):C.Position.y=C.Level*a):"left"==e.rootPosition?(h=C.SpanHeight,C.Position.y=g+h/2*e.animationGrowMultiplier,C.Position.y<e.marginTop&&(C.Position.y=e.marginTop),C.Position.l=C.Position.y-h/2,g+=h,t.LevelDictSize[C.Level]>a?C.Position.x=C.Level*(t.LevelDictSize[C.Level]*e.animationGrowMultiplier):C.Position.x=C.Level*a):"center"==e.rootPosition&&(y=D+C.Size/f.Size*v,C.Position.startAngle=D,C.Position.endAngle=y,l=C.Level*a,k=DxChart.getRadiusEndPoint(r,n,D,l),C.Position.radius=l*e.animationGrowMultiplier,C.Position.x=k[0],C.Position.y=k[1],D=y,C.Seq=p,p++),m=C.LinesSize[0],c=Math.max(c,C.Position.x+m[0]),x=Math.max(x,C.Position.y+m[1]),u=Math.min(u,C.Position.x),d=Math.min(d,C.Position.y),o.push(C)}if("center"==e.rootPosition&&f.Children.length>0&&t!=f){var y,v=(f.Position.endAngle-f.Position.startAngle)/2,D=f.Children[0].Position.startAngle,S=(y=f.Children[f.Children.length-1].Position.endAngle)-(y-D)/2,k=DxChart.getRadiusEndPoint(t.Position.x,t.Position.y,S,f.Position.radius);f.Position.x=k[0],f.Position.y=k[1],f.Position.startAngle=S-v,f.Position.endAngle=S+v}}}this.TREEMaxW=c+Math.abs(u),this.TREEMaxH=x+Math.abs(d),this.TREEMinL=u,this.TREEMinT=d},this.mapRect=function(t){var e={},i=this;return t=t||{},e.x=void 0===t.x||null===t.x?0:t.x,e.y=void 0===t.y||null===t.y?0:t.y,e.w=void 0===t.w||null===t.w?1:t.w,e.h=void 0===t.h||null===t.h?1:t.h,e.aspectRatio=function(){return Math.max(e.w/e.h,e.h/e.w)},e.copy=function(){return i.rect(e)},e.toString=function(){return"rect [x: "+e.x+", y: "+e.y+", w: "+e.w+", h: "+e.h+"]"},e},this.mapSortDescending=function(t){var e=t.slice(0);return e.sort(function(t,e){return e.SumValue-t.SumValue}),e},this.mapTotalSize=function(t,e,i){for(var s=0,a=(i=void 0===i?t.length-1:i,e=void 0===e?0:e);a<=i;a++)s+=t[a].SumValue;return s},this.mapSlice=function(t,e,i,s,a,o,r){for(var n=this.mapTotalSize(t,i,s),h=0,l=1===o,c=i;c<=s;c++){var x=t[c];x.TotalValue=n;var d=this.mapRect(),u=x.SumValue/n;l?(d.x=a.x,d.w=a.w,d.y=1===r?a.y+a.h*h:a.y+a.h*(1-h-u),d.h=a.h*u):(d.x=1===r?a.x+a.w*h:a.x+a.w*(1-h-u),d.w=a.w*u,d.y=a.y,d.h=a.h),x.bounds=d,h+=u}},this.mapLayoutBest=function(t,e,i,s,a,o){var r=a.w>a.h?2:1;this.mapSlice(t,e,i,s,a,r,void 0===o?1:o)},this.mapNormAspect=function(t,e,i,s){var a=t*s/(e*i/s);return a<1?1/a:a},this.mapApply=function(t,e,i,s,a){if(!((s=void 0===s?0:s)>(a=void 0===a?t.length-1:a)))if(a-s<2)this.mapLayoutBest(t,e,s,a,i);else{var o=i.x,r=i.y,n=i.w,h=i.h,l=this.mapTotalSize(t,s,a),c=s,x=t[s].SumValue/l,d=x;if(n<h){for(;c<=a;){var u=this.mapNormAspect(h,n,x,d),g=t[c].SumValue/l;if(t[c].Pecentage=g,this.mapNormAspect(h,n,x,d+g)>u)break;c++,d+=g}c>=t.length&&(c=t.length-1),this.mapLayoutBest(t,e,s,c,this.mapRect({x:o,y:r,w:n,h:h*d})),this.mapApply(t,e,this.mapRect({x:o,y:r+h*d,w:n,h:h*(1-d)}),c+1,a)}else{for(;c<=a;){u=this.mapNormAspect(n,h,x,d),g=t[c].SumValue/l;if(t[c].Pecentage=g,this.mapNormAspect(n,h,x,d+g)>u)break;c++,d+=g}c>=t.length&&(c=t.length-1),this.mapLayoutBest(t,e,s,c,this.mapRect({x:o,y:r,w:n*d,h:h})),this.mapApply(t,e,this.mapRect({x:o+n*d,y:r,w:n*(1-d),h:h}),c+1,a)}}},this.LayoutMap=function(t){var e=this.properties;t.RefreshLevel(),t.ComputeSpanMap();var i=this.canvas.width-e.marginLeft-e.marginRight,s=this.canvas.height-e.marginTop-e.marginBottom;t.bounds.x=e.marginLeft,t.bounds.y=e.marginTop,t.bounds.w=i*e.animationGrowMultiplier,t.bounds.h=s*e.animationGrowMultiplier;var a=[];a.push(t);e.itemFontSeqStyleObj;var o=t.LinesFont[0];if(isNexacroRuntime){var r=new nexacro.FontObject(o);this.context.setElementFont(r)}else this.context.font=o;t._DrawText(t.bounds.x,t.bounds.y-t.LinesSize[0][1],t.Name,t.Color);for(var n=this,h=this.context;a.length>0;){for(var l=a.shift(),c=[],x=0;x<l.Children.length;++x){var d=l.Children[x];a.push(d),c.push(d)}if(c.length>0){if(l.Level>0){var u=l.bounds.x,g=l.bounds.y,p=l.bounds.w,f=l.bounds.h,m=l.LinesSize[0][1]+10;p>m&&f>m&&l.boundRect({x:u+5,y:g+m,w:p-10,h:f-m-5})}var b=this.mapSortDescending(c);this.mapApply(b,l,l.bounds),this.Each(b,function(t){var i=t.bounds;return i.w>3&&i.h>3&&(n.coords.push([t,i.x,i.y,i.w,i.h,"text"]),h.beginPath(),h.strokeStyle=t.LineColor,h.fillStyle=t.BackgroundColor,isNexacroRuntime&&h.setElementStrokeStyle(h.strokeStyle),isNexacroRuntime&&h.setElementFillStyle(h.fillStyle),h.lineWidth=t.LineWidth,isNexacroRuntime&&h.setElementLineWidth(t.LineWidth),h.rect(i.x,i.y,i.w,i.h),h.closePath(),h.fill(),h.stroke(),1==e.itemTextShowValue?t.Name+e.itemTextShowValuePreText+t.value+e.itemTextShowValuePostText:t.Name,i.w>t.LinesSize[0][0]?t._DrawText(i.x+10,i.y+10,t.Name,t.Color):t.bounds.h>t.LinesSize[0][0]&&t._DrawText(i.x+10,i.y+10,t.Name,t.Color,!0)),null}),b=null}}if(this.properties._rootTree){this.coords2=[],h.beginPath(),h.strokeStyle="#000000",isNexacroRuntime&&h.setElementStrokeStyle(h.strokeStyle),h.lineWidth=2,isNexacroRuntime&&h.setElementLineWidth(item.LineWidth);var C=this.canvas.height/2,y=this.properties.marginLeft/2;h.moveTo(y,C),h.lineTo(y+10,C-10),h.lineTo(y+10,C+10),h.lineTo(y,C),h.closePath(),h.stroke(),this.coords2.push(["back",y,C,y+10,C-10,y+10,C+10,y,C])}},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawAni=function(){arguments[0];var t=arguments[1],e=arguments[2];this.grow(t,e)},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0;return function e(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("animationGrowMultiplier",a/s),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a<s?(a++,DxChart.Effects.updateCanvas(e,t.canvas)):i(t))}(),this},this.growNode=function(t,e){this.cancelStopAnimation();var i=this,s=20,a=0,o=this.properties,r=(this.canvas.width,o.marginLeft,o.marginRight,this.canvas.height,o.marginTop,o.marginBottom,o=this.properties,t.bounds.x),n=t.bounds.y,h=t.bounds.w,l=t.bounds.h,c=o.marginLeft,x=o.marginRight,d=o.marginTop,u=o.marginBottom,g=n-d,p=r-c,f=this.canvas.height-d-(n+l),m=this.canvas.width-c-(r+h);o.marginLeft=r,o.marginTop=n,o.marginBottom=this.canvas.height-n-l,o.marginRight=this.canvas.width-r-h;var b=p/s,C=g/s,y=m/s,v=f/s;return function t(){i.stopAnimationRequested?i.stopAnimationRequested=!1:(DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),a<s?(o.marginLeft-=b,o.marginTop-=C,o.marginBottom-=v,o.marginRight-=y,a++,DxChart.Effects.updateCanvas(t,i.canvas)):(o.marginLeft=c,o.marginTop=d,o.marginBottom=u,o.marginRight=x,DxChart.redrawCanvas(i.canvas)))}(),this},this.draw=function(){var t=this.properties;this.coords=[],this.coords2=[],this.dprX=t.scaleValueX,this.dprY=t.scaleValueY,DxChart._BeforeDraw(this),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var e=this;if("treemap"==this.properties.variantValue)DxChart.Background.draw(this),this.properties.rootPosition="left",this.properties._rootTree?e.LayoutMap(this.properties._rootTree):this.Each(this.Cubes,function(t){return e.LayoutMap(t),null});else if(this.Each(this.Cubes,function(t){return e.Layout(t),null}),this.FitstNode=null,this.Final=null,this.Cubes.length>0){this.FitstNode=this.Cubes[0],this.Final=this.Cubes[0];for(var i=1;i<this.Cubes.length;++i)this.Cubes[i].Size>this.Final.Size&&(this.Final=this.Cubes[i]);var s=1,a=1;this.TREEMaxW>this.canvas.width&&(s=this.canvas.width/this.TREEMaxW),this.TREEMaxH>this.canvas.height&&(a=this.canvas.height/this.TREEMaxH),t.scaleAuto?s<1||a<1?this.context.setTransform(s,0,0,a,Math.abs(this.TREEMinL)*s,Math.abs(this.TREEMinT)*a):this.context.setTransform(1,0,0,1,0,0):0==t.scaleZoom?this.context.setTransform(1,0,0,1,0,0):(this.context.scale(this.cameraZoom,this.cameraZoom),this.context.translate(-this.canvas.width/2+this.cameraOffset.x,-this.canvas.height/2+this.cameraOffset.y)),this.Final.Draw()}DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw")},this.getEventLocation=function(t){return isNexacroRuntime?{x:t.clientx,y:t.clienty}:t.touches&&1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.clientX&&t.clientY?{x:t.clientX,y:t.clientY}:void 0},this.onPointerDown=function(t){this.properties.scaleMove&&(this.isDragging=!0,this.dragStart.x=this.getEventLocation(t).x/this.cameraZoom-this.cameraOffset.x,this.dragStart.y=this.getEventLocation(t).y/this.cameraZoom-this.cameraOffset.y)},this.onPointerUp=function(t){this.properties.scaleMove&&(this.isDragging=!1,this.initialPinchDistance=null,this.lastZoom=this.cameraZoom)},this.onPointerMove=function(t){if(this.properties.scaleMove&&this.isDragging){this.cameraOffset.x=this.getEventLocation(t).x/this.cameraZoom-this.dragStart.x,this.cameraOffset.y=this.getEventLocation(t).y/this.cameraZoom-this.dragStart.y;var e=this;DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(e.canvas)},this.canvas)}},this.handleTouch=function(t,e){1==t.touches.length?this.singleTouchHandler(t):"touchmove"==t.type&&2==t.touches.length&&(this.isDragging=!1,this.handlePinch(t))},this.handlePinch=function(t){t.preventDefault();var e=t.touches[0].clientX,i=t.touches[0].clientY,s=t.touches[1].clientX,a=t.touches[1].clientY,o=(e-s)*(e-s)+(i-a)*(i-a);null==this.initialPinchDistance?this.initialPinchDistance=o:this.adjustZoom_(null,o/this.initialPinchDistance)},this.adjustZoom=function(t,e){if(this.properties.scaleZoom){var i=t.deltaY*this.SCROLL_SENSITIVITY;this.adjustZoom_(e,i),t.stopPropagation()}},this.adjustZoom_=function(t,e,i){if(!this.isDragging){e?this.cameraZoom+=e:i&&(this.cameraZoom=i*this.lastZoom),this.cameraZoom=Math.min(this.cameraZoom,this.properties.scaleMaxZoom),this.cameraZoom=Math.max(this.cameraZoom,this.properties.scaleMinZoom);var s=this;DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(s.canvas)},this.canvas)}},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=e.marginLeft;if("treemap"==this.properties.variantValue&&(s=0),i[0]>=s&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.onclick=function(t,e){if(e&&e.cube){if("treemap"==e.object.properties.variantValue&&1==e.object.properties.itemExpandShow){if("back"==e.cube)return e.object.coords2=[],e.object.properties._rootTree=null,void e.object.drawAni();e.cube.Children.length>0&&(e.object.properties._rootTree=e.cube,e.object.growNode(e.cube,"large"))}else e.cube.Children.length>0&&(e.cube.Expand=!e.cube.Expand,e.object.draw());e.object.onnodeclick&&e.object.onnodeclick(e.cube)}},this.highlight=function(t){var e=this.properties;if(t&&t.cube){var i=t.cube;"treemap"==e.variantValue?(DxChart.redrawCanvas(this.canvas),DxChart.Highlight.rect(this,t)):(this.SetNodeLineColor(i,this.properties.itemHighlightLineColor,this.properties.itemHighlightSubTextColor,this.properties.itemHighlightExpandRadius,this.properties.itemHighlightExpandFillColor,this.properties.itemHighlightExpandLineColor,this.properties.itemHighlightExpandLineWidth,this.properties.itemHighlightCollapseFillColor,this.properties.itemHighlightCollapseLineColor,this.properties.itemHighlightCollapseLineWidth),DxChart.Registry.set("treehighlight",{obj:this,cube:t.cube}),this.draw())}},this.removeHighlight=function(t){if(t&&t.cube){var e=t.cube;this.SetNodeLineColor(e,null,null,null,null,null,null,null,null,null,null),DxChart.Registry.set("treehighlight",null),this.draw()}},this.tooltipSubstitutions=function(t){var e=this.SearchNode(this.Cubes[0],t.index);if(e){var i=e?e.SumValue:"";return this.properties.tooltipsFormattedKeyLabels[0]=e.Name,"treemap"==this.properties.variantValue?(this.properties.colors[0]=e.BackgroundColor?e.BackgroundColor:this.properties.colors[0],this.properties.tooltipsFormattedKeyColors[0]=this.properties.colors[0]):(this.properties.colors[0]=e.Color?e.Color:this.properties.colors[0],this.properties.tooltipsFormattedKeyColors[0]=e.Color?e.Color:this.properties.colors[0]),{index:t.index,dataset:0,sequentialIndex:t.index,value:i,values:[i]}}},this.getShape=function(t){var e=this.properties,i=arguments[1]?arguments[1]:this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context,i.coords);if(this.coords2.length>0&&(this.context.beginPath(),this.context.moveTo(this.coords2[0][1],this.coords2[0][2]),this.context.lineTo(this.coords2[0][3],this.coords2[0][4]),this.context.lineTo(this.coords2[0][5],this.coords2[0][6]),this.context.lineTo(this.coords2[0][7],this.coords2[0][8]),this.context.closePath(),this.context.isPointInPath(a,o)))return{object:this,cube:"back",x:1,y:1,width:1,height:1,tooltip:" ",label:"BACK",dataset:0,sequentialIndex:0,index:0};for(var n=!1,h=r.length-1;h>=0;h--)if(0!=i.coords[h].length){var l=r[h][1],c=r[h][2],x=r[h][3],d=r[h][5];if("expand"==d||"text"==d||!isNaN(d)){if("expand"==d)isNexacroRuntime?this.path("b r % % % % c",l-x,c-x,2*x,2*x):this.path("b a % % % % % false c",l,c,x,0,DxChart.TWOPI);else if("text"==d){var u=l,g=c,p=x,f=r[h][4];if("top"==this.properties.rootPosition)isNexacroRuntime?this.path("b r % % % % c",l,c,f,x):this.path("b r % % % % c",u-f,g,f,p);else if("left"==this.properties.rootPosition)this.path("b r % % % % c",u,g,p,f);else if("center"==this.properties.rootPosition)if(isNexacroRuntime){var m=r[h][3],b=r[h][4],C=r[h][5],y=r[h][6],v=r[h][7],D=r[h][8];this.path("b m % % l % % l % % l % % l % % c",l,c,m,b,C,y,v,D,l,c)}else{n=!0;var S=r[h][3],k=r[h][4],w=r[h][6];this.path("b sa tr % % ro % r % % % % c",u,g,w,0,0,S,k)}}if(this.context.isPointInPath(a,o)){1==n&&this.context.restore();var _=r[h][0];return"treemap"==this.properties.variantValue?{object:this,cube:_,x:_.bounds.x,y:_.bounds.y,width:_.bounds.w,height:_.bounds.h,tooltip:e.tooltipsData,label:_.Name,dataset:0,sequentialIndex:_.index,index:_.index}:{object:this,cube:_,x:_.Position.x,y:_.Position.x,width:_.Dimen.width,height:_.Dimen.height,tooltip:e.tooltipsData,label:_.Name,dataset:0,sequentialIndex:_.index,index:_.index}}1==n&&this.context.restore()}}},this.resetData(t),DxChart.register(this),this}function _TreeCube(t,e,i,s,a,o){return this._assignRandomColor=function(){var t=function(){return Math.round(255*Math.random())};return"rgba("+t()+","+t()+","+t()+",1)"},this.parent=null,this.Id=t,this.ParentId=e,this.Name=i.n,this.index=a,this.value=i.v?i.v.valueOf():null,this.Color=i.c||s.itemTextColor,this.BackgroundColor=i.b||this._assignRandomColor(),this.Font=i.f||s.itemTextFontStyle,this.HighlightLineColor=null,null==i.e||null==i.e?this.Expand=!0:this.Expand=nexacro._toBoolean(i.e),this.FontObj=DxChart._parseFontInfo(this.Font),this.LineWidth=i.lw||s.itemLineWidth,this.LineColor=i.lc||s.itemLineColor,this.Level=0,this.LevelMaxNodes=1,this.Depth=0,this.TotalHeight=0,this.cumW=0,this.cumH=0,this.coords=[],this.Size=1,this.Dimen={width:10,height:10},this.Span=0,this.Lines=[],this.Children=[],this.Position={x:0,y:0},this.SeperatorY=999999,this.canvas=null,this.context=null,this.OC=o,"treemap"==s.variantValue&&(this.bounds=this.OC.mapRect()),this.boundRect=function(t){return this.bounds.x=void 0===t.x||null===t.x?0:t.x,this.bounds.y=void 0===t.y||null===t.y?0:t.y,this.bounds.w=void 0===t.w||null===t.w?1:t.w,this.bounds.h=void 0===t.h||null===t.h?1:t.h,this.bounds},this.DrawCircle=function(t,e,i,s){var a,o,r,n=this.OC.properties,h=this.HighlightExpandRadius||n.itemExpandWidth;if("leaf"==t)return a=this.HighlightCollapseFillColor||n.itemCollapseBackgroundColor,o=this.HighlightCollapseLineColor||n.itemCollapseLineColor,r=this.HighlightCollapseLineWidth||n.itemCollapseLineWidth,e.setElementLineWidth(r),e.setElementFillStyle(a),e.beginPath(),e.rect(i-h,s-h,2*h,2*h),e.setElementStrokeStyle(o),e.stroke(),void e.fill();t?(a=this.HighlightExpandFillColor||n.itemExpandBackgroundColor,o=this.HighlightExpandLineColor||n.itemExpandLineColor,r=this.HighlightExpandLineWidth||n.itemExpandLineWidth):(a=this.HighlightCollapseFillColor||n.itemCollapseBackgroundColor,o=this.HighlightCollapseLineColor||n.itemCollapseLineColor,r=this.HighlightCollapseLineWidth||n.itemCollapseLineWidth),e.lineWidth=r,isNexacroRuntime&&e.setElementLineWidth(r),e.fillStyle=a,isNexacroRuntime&&e.setElementFillStyle(a),e.beginPath(),e.arc(i,s,h,0,2*Math.PI,!1),e.strokeStyle=o,isNexacroRuntime&&e.setElementStrokeStyle(o),e.stroke(),e.fill()},this.DrawCirclePlus=function(t,e,i){var s=this.OC.properties,a=s.itemExpandWidth,o=(s.itemExpandBackgroundColor,s.itemExpandLineColor),r=s.itemExpandLineWidth;t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.beginPath(),t.moveTo(e-a,i),t.lineTo(e+a,i),t.moveTo(e,i-a),t.lineTo(e,i+a),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawCircleMinus=function(t,e,i){var s=this.OC.properties,a=s.itemExpandWidth,o=(s.itemExpandBackgroundColor,s.itemExpandLineColor);t.beginPath(),t.moveTo(e-a,i),t.lineTo(e+a,i),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawConnection=function(t,e,i,s){var a=this.LineColor;this.HighlightLineColor&&(a=this.HighlightLineColor),"curve"==this.OC.properties.itemConnectionStyle?this.DrawCurveLine(t,e,i,s,this.LineWidth,a):this.DrawLine(t,e,i,s,this.LineWidth,a)},this.DrawSeperator=function(t,e,i){},this.DrawLine=function(t,e,i,s,a,o){t.beginPath(),t.lineWidth=a,isNexacroRuntime&&t.setElementLineWidth(a),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.moveTo(i.x,i.y);var r=i.x,n=i.y,h=s.x,l=s.y;if("top"==this.OC.properties.rootPosition){var c=Math.abs(s.y-i.y)/2;t.lineTo(r,n+c),t.lineTo(h,n+c),t.lineTo(h,l)}else if("left"==this.OC.properties.rootPosition){var x=Math.abs(s.x-i.x)/2;c=Math.abs(s.y-i.y)/2;t.lineTo(r+x,n),t.lineTo(r+x,l),t.lineTo(h,l)}else if("center"==this.OC.properties.rootPosition){var d=this.Children[0].Position.startAngle,u=this.Children[childLength-1].Position.startAngle,g=d+(u-d),p=this.OC.nDiv+(this.Children[0].nDiv-this.OC.nDiv)/2,f=DxChart.getRadiusEndPoint(this.startAngle,this.startAngle,g,p),m=DxChart.getRadiusEndPoint(this.startAngle,this.startAngle,e.startAngle,p);t.lineTo(f[0],f[1]),t.lineTo(m[0],m[1]),t.lineTo(s.x,s.y)}t.stroke()},this.GetControlPoints=function(t,e,i,s,a,o,r){var n=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-e,2)),h=r*n/(n+Math.sqrt(Math.pow(a-i,2)+Math.pow(o-s,2))),l=r-h;return[i+h*(t-a),s+h*(e-o),i-l*(t-a),s-l*(e-o)]},this.DrawCurveLine=function(t,e,i,s,a,o){var r,n,h,l;if(t.beginPath(),t.lineWidth=a,isNexacroRuntime&&t.setElementLineWidth(a),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.moveTo(i.x,i.y),"top"==this.OC.properties.rootPosition){var c=Math.abs(s.x-i.x)/3,x=Math.abs(s.y-i.y)/3;i.x,s.x,r=i.x,n=i.y+x,h=s.x,l=s.y-x-x}else if("left"==this.OC.properties.rootPosition){c=Math.abs(s.x-i.x)/3,x=Math.abs(s.y-i.y)/3;i.y,s.y,r=i.x+c,n=i.y,h=s.x-c-c,l=s.y}else if("center"==this.OC.properties.rootPosition){this.OC.FitstNode.Position.x,this.OC.FitstNode.Position.y;var d=this.Children.length;if(1==d||this.Level<1)r=i.x,n=i.y,h=s.x,l=s.y;else{var u,g,p=this.Children[0].Position.startAngle,f=this.Children[d-1].Position.startAngle,m=(e.Position.startAngle,DxChart.getAngleByXY(i.x,i.y,e.Position.x,e.Position.y)),b=(f-p)/d,C=d/2,y=(DxChart.getAngleByXY(i.x,i.y,this.Children[parseInt(C)].Position.x,this.Children[parseInt(C)].Position.y),Math.abs(C-e.Seq));C>e.Seq?(u=m,g=m-b*y*1.3):(u=m,g=m+b*y*1.3),u>DxChart.TWOPI&&(u-=DxChart.TWOPI),g>DxChart.TWOPI&&(g-=DxChart.TWOPI),isNexacroRuntime&&(u+=DxChart.HALFPI,g+=DxChart.HALFPI);var v=this.OC.nDiv/3,D=DxChart.getRadiusEndPoint(i.x,i.y,u,1.5*v),S=DxChart.getRadiusEndPoint(i.x,i.y,g,2*v);r=D[0],n=D[1],h=S[0],l=S[1]}}t.bezierCurveTo(r,n,h,l,s.x,s.y),t.stroke()},this.DrawText=function(t,e,i,s,a){isNexacroRuntime&&(t.setElementTextAlign("start"),t.setElementTextBaseline(t.textBaseline)),a?(t.strokeStyle=this.OC.properties.itemHighlightStrokeColor||"#ffffff",isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.strokeText(i,e.x,e.y),s=this.OC.properties.itemHighlightTextColor||"green"):this.HighlightSubTextColor?(t.strokeStyle=this.HighlightSubTextColor||"#ffffff",isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.strokeText(i,e.x,e.y)):t.fillStyle=s,t.fillStyle=s,isNexacroRuntime&&t.setElementFillStyle(s),t.fillText(i,e.x,e.y)},this.IsSolid=function(t){return null!=t&&null!=t&&("boolean"!=typeof t||t)},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.AddChild=function(t){this.Children.push(t)},this.RefreshLevel=function(){var t=this.Level;return this.Each(this.Children,function(e){return e.Level=t+1,e.RefreshLevel()})},this.Count=function(t,e,i,s,a){var o=this.OC.properties;null==e[this.Level]||null==e[this.Level]?(e[this.Level]=1,i[this.Level]={w:t.Dimen.width,h:t.Dimen.height},s[this.Level]={w:t.Dimen.width,h:t.Dimen.height}):(e[this.Level]+=1,"top"==o.rootPosition?(i[this.Level].w=i[this.Level].w+t.Dimen.width,i[this.Level].h=Math.max(i[this.Level].h,t.Dimen.height),1==a&&(s[this.Level].w=s[this.Level].w+t.Dimen.width,s[this.Level].h=Math.max(s[this.Level].h,t.Dimen.height))):(i[this.Level].w=Math.max(i[this.Level].w,t.Dimen.width),i[this.Level].h=i[this.Level].h+t.Dimen.height,1==a&&(s[this.Level].w=Math.max(s[this.Level].w,t.Dimen.width),s[this.Level].h=s[this.Level].h+t.Dimen.height)),0==t.Expand&&(a=!1)),this.Each(this.Children,function(t){t.Count(t,e,i,s,a)})},this.SetLevelInfo=function(t){var e={},i=[],s=[];this.Count(t,e,i,s,!0);var a=1,o=1;for(var r in e)o++,e[r]>a&&(a=e[r]);for(var n=0,h=0,l=0;l<i.length;l++)n=Math.max(i[l].w,n),h=Math.max(i[l].h,h);this.LevelMaxSize=[n,h],n=0,h=0;for(l=0;l<s.length;l++)n=Math.max(s[l].w,n),h=Math.max(s[l].h,h);this.LevelMaxShowSize=[n,h],this.LevelDict=e,this.LevelDictSize=i,this.LevelDictShowSize=s,this.LevelMaxNodes=a,this.Depth=o},this.RealSpan=function(){return[Math.max(this.SpanWidth,this.Dimen.width),Math.max(this.SpanHeight,this.Dimen.height),this.SumValue?this.SumValue:this.value?this.value:0]},this.RealSpanValue=function(){return this.SumValue?this.SumValue:this.value?this.value:0},this.ComputeDimension=function(){var t=this.Name,e=(this.OC.properties,(this.FontObj.italic?"italic ":"")+(this.FontObj.bold?"bold ":"")+this.FontObj.size+"px "+this.FontObj.face),i=DxChart.measureText(t,this.FontObj.bold,this.FontObj.face,this.FontObj.size);"top"==this.OC.properties.rootPosition?(this.Dimen.width=i[1],this.Dimen.height=i[0]):(this.Dimen.width=i[0],this.Dimen.height=i[1]),this.Lines=[],this.LinesSize=[],this.LinesFont=[];this.Lines.push(t),this.LinesFont.push(e),this.LinesSize.push(i)},this.ComputeSpan=function(){var t;this.ComputeDimension();var e=0,i=0,s=1,a=0;if(this.Children.length>0&&(this.IsRoot||this.parentNode&&1==this.parentNode.Expand))for(var o=0;o<this.Children.length;++o)e+=(t=this.Children[o].ComputeSpan())[0],i+=t[1],a+=t[2],s+=this.Children[o].Size;return 0==e&&(e=this.Dimen.width),0==i&&(i=this.Dimen.height),0==a&&(a=this.value?this.value:0),this.Size=s,this.SumValue=a,this.SpanWidth=e,this.SpanHeight=i,this.RealSpan()},this.ComputeSpanMap=function(){this.ComputeDimension();var t=0,e=0;if(this.Children.length>0)for(var i=0;i<this.Children.length;++i)e+=this.Children[i].ComputeSpanMap(),t+=this.Children[i].Size;return 0===e&&(e=this.value?this.value:0),this.Size=t,this.SumValue=e,this.RealSpanValue()},this.GetTextSize=function(t,e){if(isNexacroRuntime){var i=new nexacro.FontObject(e),s=nexacro._getTextSize(t,i);return i=null,[s[0],s[1]]}this.context.font=e;var a=this.context.measureText(t);return[a.width,a.actualBoundingBoxAscent+a.actualBoundingBoxDescent]},this.FindNode=function(t){return this.Id==t?this:this.Each(this.Children,function(e,i){return e.FindNode(t)})},this.ClickMe=function(t,e){return t/=this.OC.dpr,e/=this.OC.dpr,t>this.Position.x&&t<this.Position.x+this.Dimen.width&&e>this.Position.y&&e<this.Position.y+this.Dimen.height},this.DrawRect=function(t,e,i,s){var a=this.OC.properties.itemBoundingBackgroundColor||"#ffffff";this.context.fillStyle=a,isNexacroRuntime&&canvas.setElementFillStyle(a),this.context.fillRect(t,e,i,s)},this._DrawText=function(t,e,i,s,a){var o=this.OC.properties,r=!1,n=DxChart.Registry.get("treehighlight");if(n&&n.cube==this){var h=o.itemHighlightFontStyle||"bold 12px Tahoma";if(isNexacroRuntime){var l=new nexacro.FontObject(h);this.context.setElementFont(l)}else this.context.font=h;r=!0}if("top"==o.rootPosition){var c=this.LinesSize[0];if(this.context.save(),isNexacroRuntime){if(t>0&&e>0){var x=t+c[1]*Math.cos(-90),d=e+c[1]*Math.sin(-90);this.OC.coords.push([this,x,d,c[0],c[1],"text"])}this.context.translate(t,e+c[0]-10),this.context.rotate(-90)}else t>0&&e>0&&this.OC.coords.push([this,t,e,c[0],c[1],"text"]),this.context.translate(t,e),this.context.rotate(Math.PI/180*-90);this.context.textAlign="right",this.context.textBaseline="bottom",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("bottom")),t=0,e=0}else if("left"==o.rootPosition){c=this.LinesSize[0];if("treemap"==o.variantValue)return a?(this.context.textAlign="right",this.context.textBaseline="bottom",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle")),this.context.save(),isNexacroRuntime?(this.context.translate(t,e+c[0]-10),this.context.rotate(-90)):(this.context.translate(t,e),this.context.rotate(Math.PI/180*-90)),this.DrawText(this.context,{x:0,y:0},i,s,!1)):(this.context.textAlign="left",this.context.textBaseline="middle",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle")),this.DrawText(this.context,{x:t,y:e},i,s,!1)),void this.context.restore();t>0&&e>0&&this.OC.coords.push([this,t,e-c[1]/2,c[0],c[1],"text"]),this.context.textAlign="left",this.context.textBaseline="middle",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle"))}else if("center"==o.rootPosition){c=this.LinesSize[0];if(this.context.save(),isNexacroRuntime){a=180/Math.PI*this.Position.startAngle;this.context.translate(t,e),this.context.rotate(a),this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("bottom")}else if(this.context.translate(t,e),this.Position.startAngle>1.4&&this.Position.startAngle<DxChart.TWOPI-DxChart.HALFPI){a=this.Position.startAngle-DxChart.PI;if(this.context.rotate(a),this.context.textAlign="right",this.context.textBaseline="middle",t>0&&e>0){DxChart.getRadiusEndPoint(this.OC.Cubes[0].Position.x,this.OC.Cubes[0].Position.y,this.Position.startAngle,this.Position.radius+c[0]);this.OC.coords.push([this,t,e+c[1]/2,c[0],c[1],"text",this.Position.startAngle,"right"])}}else{a=this.Position.startAngle;t>0&&e>0&&this.OC.coords.push([this,t,e-c[1],c[0],c[1],"text",a,"left"]),this.context.rotate(a),this.context.textAlign="left",this.context.textBaseline="middle"}t=0,e=0}this.DrawText(this.context,{x:t,y:e},i,s,r),"top"!=o.rootPosition&&"center"!=o.rootPosition||this.context.restore()},this.Draw=function(){var t,e,i=this.OC.properties,s=this.Position.x,a=this.Position.y;"top"==this.OC.properties.rootPosition?s+=i.itemTextHMargin:"left"==this.OC.properties.rootPosition&&(s+=i.itemTextVMargin);i.itemFontSeqStyleObj;if(t=this.Color,e=this.LinesFont[0],isNexacroRuntime){var o=new nexacro.FontObject(e);this.context.setElementFont(o)}else this.context.font=e;var r=this.Lines[0];if("top"==this.OC.properties.rootPosition&&(a+=i.itemTextVGap+this.LinesSize[0][1]),1==this.Expand&&this.Each(this.Children,function(t){return t.Draw()}),this.Children.length>0){var n={x:this.Position.x,y:this.Position.y};if(1==this.Expand)for(var h=0;h<this.Children.length;++h){var l={x:this.Children[h].Position.x,y:this.Children[h].Position.y};this.DrawConnection(this.context,this.Children[h],{x:this.Position.x,y:this.Position.y},{x:l.x,y:l.y})}i.itemExpandShow&&(this.OC.coords.push([this,n.x,n.y,i.itemExpandWidth,this.Expand,"expand"]),this.DrawCircle(this.Expand,this.context,n.x,n.y))}else isNexacroRuntime&&(this.OC.coords.push([this,this.Position.x,this.Position.y,i.itemExpandWidth,this.Expand,"expand"]),this.DrawCircle("leaf",this.context,this.Position.x,this.Position.y));return this._DrawText(s,a,r,t),null},this}function DxChartVProgress(t){return DxChart._Base.call(this,t,"vprogress"),DxChart.setDefaultProperties(this,"tickmark"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsPosition="right",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null;for(var s=DxChart.arrayLinearize(this.value),a=0;a<s.length;++a)this["$"+a]={}},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),this.currentValue=this.value,t.labelsSpecific&&t.labelsSpecific.length){"string"==typeof t.labelsSpecific&&(t.labelsSpecific=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsSpecific})),t.labelsSpecificClon=DxChart.arrayClone(t.labelsSpecific);for(var e=0;e<t.labelsSpecific.length;++e)t.labelsSpecificClon[e]=DxChart.labelSubstitution({object:this,text:t.labelsSpecific[e],index:e,value:"object"==typeof this.value&&"number"==typeof this.value[e]?this.value[e]:this.value,decimals:t.labelsSpecificFormattedDecimals||0,unitsPre:t.labelsSpecificFormattedUnitsPre||"",unitsPost:t.labelsSpecificFormattedUnitsPost||"",thousand:t.labelsSpecificFormattedThousand||",",point:t.labelsSpecificFormattedPoint||"."})}return this.width=this.canvas.width-this.marginLeft-this.marginRight,this.height=this.canvas.height-this.marginTop-this.marginBottom,this.coords=[],this.coordsText=[],this.drawbar(),this.drawTickMarks(),this.drawLabels(),this.drawTitles(),t.beveled&&this.drawBevel(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),this.allowAdjusting(),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawbar=function(){var t=this.properties;this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.labelsCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur),this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.strokeRect(this.marginLeft,this.marginTop,this.width,this.height),this.context.fillRect(this.marginLeft,this.marginTop,this.width,this.height),DxChart.noShadow(this),this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var e=t.marginInner,i=(this.canvas.height-this.marginTop-this.marginBottom)*((DxChart.arraySum(this.value)-this.min)/(this.max-this.min));if("number"==typeof this.value)this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.borderInner&&this.drawCurvedBar({x:this.marginLeft+e,y:this.marginTop+(this.height-i),width:this.width-e-e,height:i,stroke:t.colorsStrokeInner}),this.drawCurvedBar({x:this.marginLeft+e,y:this.marginTop+(this.height-i),width:this.width-e-e,height:i,fill:t.colors[0]});else if("object"==typeof this.value){this.context.beginPath(),this.context.strokeStyle=t.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var s=this.canvas.height-this.marginBottom,a=0,o=this.value.length;a<o;++a){var r=(this.value[a]-this.min)/(this.max-this.min)*(this.canvas.height-this.marginBottom-this.marginTop);this.context.beginPath(),this.context.fillStyle=t.colors[a],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.borderInner&&this.drawCurvedBar({x:this.marginLeft+e,y:s-r,width:this.width-e-e,height:r,stroke:this.context.strokeStyle}),this.drawCurvedBar({x:this.marginLeft+e,y:s-r,width:this.width-e-e,height:r,fill:t.colors[a]}),this.coords.push([this.marginLeft+e,s-r,this.width-e-e,r]),s-=r}this.context.fill()}if(t.tickmarksInnerCount>0){var n=(this.canvas.height-this.marginTop-this.marginBottom)/t.tickmarksInnerCount;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var h=this.marginTop;h<this.canvas.height-this.marginBottom;h+=n)this.context.moveTo(this.marginLeft,Math.round(h)),this.context.lineTo(this.marginLeft+3,Math.round(h)),this.context.moveTo(this.canvas.width-this.marginRight,Math.round(h)),this.context.lineTo(this.canvas.width-this.marginRight-3,Math.round(h));this.context.stroke()}if(this.context.beginPath(),this.context.strokeStyle=t.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),"number"==typeof this.value&&(t.borderInner&&this.drawCurvedBar({x:this.marginLeft+e,y:this.marginTop+this.height-i,width:this.width-e-e,height:i}),this.drawCurvedBar({x:this.marginLeft+e,y:this.marginTop+this.height-i,width:this.width-e-e,height:i}),this.coords.push([this.marginLeft+e,this.marginTop+this.height-i,this.width-e-e,i])),t.arrows){var l=this.marginLeft-4;h=this.canvas.height-this.marginBottom-i;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.moveTo(l,h),this.context.lineTo(l-4,h-2),this.context.lineTo(l-4,h+2),this.context.closePath(),this.context.stroke(),this.context.fill(),l+=this.width+8,this.context.beginPath(),this.context.moveTo(l,h),this.context.lineTo(l+4,h-2),this.context.lineTo(l+4,h+2),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath()}if(t.labelsInner){var c=DxChart.getTextInfo({object:this,prefix:"labelsInner"});DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft+t.labelsInnerOffsetX,y:this.coords[this.coords.length-1][1]-5+t.labelsInnerOffsetY,text:"string"==typeof t.labelsInnerSpecific?t.labelsInnerSpecific:DxChart.numberFormat({object:this,number:DxChart.arraySum(this.value).toFixed("number"==typeof t.labelsInnerDecimals?t.labelsInnerDecimals:t.scaleDecimals),unitspre:"string"==typeof t.labelsInnerUnitsPre?t.labelsInnerUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsInnerUnitsPost?t.labelsInnerUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsInnerPoint?t.labelsInnerPoint:t.scalePoint,thousand:"string"==typeof t.labelsInnerThousand?t.labelsInnerThousand:t.scaleThousand}),valign:"bottom",halign:"center",bounding:!0,boundingFill:t.labelsInnerBackgroundFill,boundingStroke:t.labelsInnerBorder?t.labelsInnerBorderColor:"rgba(0,0,0,0)",boundingLineWidth:t.labelsInnerBorderLineWidth,tag:"labels.inner"})}},this.drawTickMarks=function(){var t=this.properties;if(this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.tickmarksOuter){this.context.beginPath();for(var e=0;e<=t.tickmarksOuterCount;e++){var i="left"===t.labelsPosition?this.marginLeft:this.canvas.width-t.marginRight,s="left"===t.labelsPosition?i-4:i+4,a=this.height*(e/t.tickmarksOuterCount)+this.marginTop;this.context.moveTo(i,Math.round(a)),this.context.lineTo(s,Math.round(a))}this.context.stroke()}},this.drawLabels=function(){var t=this.properties;if(!DxChart.isNull(t.labelsSpecificClon))return this.drawSpecificLabels();this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var e=t.labelsPosition.toLowerCase(),i="left"===e?"right":"left",s=t.labelsCount,a=t.scaleUnitsPre,o=t.scaleUnitsPost,r=(t.textFontStyleObj.size,t.textFontStyleObj.face,t.scaleDecimals),n=t.labelsOffsetX,h=t.labelsOffsetY;if(t.tickmarksOuter){for(var l=DxChart.getTextInfo({object:this,prefix:"labels"}),c=0;c<s;++c)DxChart.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,x:"left"==e?this.marginLeft-7+n:this.canvas.width-this.marginRight+7+n,y:(this.canvas.height-this.marginTop-this.marginBottom)/s*c+this.marginTop+h,text:this.scale2.labels[this.scale2.labels.length-(c+1)],valign:"center",halign:i,tag:"scale"});0==this.min&&DxChart.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,x:"left"==e?this.marginLeft-5+n:this.canvas.width-this.marginRight+5+n,y:this.canvas.height-this.marginBottom+h,text:DxChart.numberFormat({object:this,number:this.min.toFixed(0===this.min?0:r),unitspre:a,unitspost:o,point:t.scalePoint,thousand:t.scaleThousand}),valign:"center",halign:i,tag:"scale"}),0!=this.min&&DxChart.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,x:"left"==e?this.marginLeft-5+n:this.canvas.width-this.marginRight+5+n,y:this.canvas.height-this.marginBottom+h,text:DxChart.numberFormat({object:this,number:this.min.toFixed(r),unitspre:a,unitspost:o}),valign:"center",halign:i,tag:"scale"})}if(t.tickmarksInner){l=DxChart.getTextInfo({object:this,prefix:"labels"});var x=this.canvas.width-this.marginRight,d="right"==e?x-(x-this.marginLeft)/2-7+n:x-(x-this.marginLeft)/2+7+n;for(c=1;c<s;c++)DxChart.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,x:d,y:(this.canvas.height-this.marginTop-this.marginBottom)/s*c+this.marginTop+h,text:this.scale2.labels[this.scale2.labels.length-(c+1)],valign:"center",halign:i,tag:"scale"})}},this.drawTitles=function(){var t=this.properties;if(DxChart.drawTitle(this),t.titleSideText){this.context.fillStyle=t.titleSideColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var e=DxChart.getTextInfo({object:this,prefix:"titleSide"}),i="right"==t.labelsPosition?this.marginLeft-10:this.canvas.width-this.marginRight+10,s=this.marginTop+this.height/2;"number"==typeof t.titleSideOffsetX&&(i+=t.titleSideOffsetX),"number"==typeof t.titleSideOffsetY&&(s+=t.titleSideOffsetY),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:i,y:s,text:t.titleSideText,valign:"bottom",halign:"center",accessible:!1,angle:"right"==t.labelsPosition?270:90,tag:"title.side"})}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=0,r=this.coords.length;o<r;o++){var n=this.coords[o][0],h=this.coords[o][1],l=this.coords[o][2],c=this.coords[o][3];if(this.context.beginPath(),this.drawCurvedBar({x:n,y:h,width:l,height:c}),this.context.isPointInPath(s,a)){var x=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,o):null;return{object:this,x:n,y:h,width:l,height:c,index:o,dataset:0,sequentialIndex:o,tooltip:"string"==typeof x?x:null}}}},this.getValue=function(t){var e=DxChart.getMouseXY(t),i=(e[0],e[1]),s=(this.height-(i-this.marginTop))/this.height;return s*=this.max-this.min,(s+=this.min)>this.max&&(s=this.max),s<this.min&&(s=this.min),s},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&this.path("b lw % r % % % % s % f %",e.highlightLineWidth,this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1,e.highlightStroke,e.highlightFill);else{t.index,this.coords.length;this.path("lw %",e.highlightLineWidth),this.drawCurvedBar({x:t.x-.5,y:t.y-.5,width:t.width+1,height:t.height+1,stroke:e.highlightStroke,fill:e.highlightFill}),this.path("lw %",1)}},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.marginLeft&&e[0]<this.canvas.width-this.marginRight&&e[1]>=this.marginTop&&e[1]<=this.canvas.height-this.marginBottom)return this},this.allowAdjusting=function(){},this.changing_mousemove=function(t){var e=this.properties;if(e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid){DxChart.getMouseXY(t);var i=this.getValue(t);"number"==typeof i&&(DxChart._fireEvent(this,"onadjust"),this.value=Number(i.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas))}},this.drawSpecificLabels=function(){var t=this.properties,e=t.labelsSpecificClon;if(e){var i="right"===t.labelsPosition?"left":"right",s=this.height/(e.length-1);this.context.beginPath(),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(var a=0;a<e.length;++a){var o=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:"right"==t.labelsPosition?this.canvas.width-this.marginRight+7:this.marginLeft-7,y:this.height+this.marginTop-s*a,text:e[a],valign:"center",halign:i,tag:"labels.specific",cssClass:t.labelsSpecific?DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:a}):""})}this.context.fill()}},this.getYCoord=function(t){var e=this.properties;if(t>this.max||t<this.min)return null;var i=this.canvas.height-e.marginTop-e.marginBottom,s=(t-this.min)/(this.max-this.min)*i;return s=this.canvas.height-s-e.marginBottom},this.overChartArea=function(t){var e=DxChart.getMouseXY(t),i=e[0],s=e[1];return i>=this.marginLeft&&i<=this.canvas.width-this.marginRight&&s>=this.marginTop&&s<=this.canvas.height-this.marginBottom},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.tickmarksInnerColor=DxChart.arrayClone(t.tickmarksInnerColor),this.original_colors.tickmarksOuterColor=DxChart.arrayClone(t.tickmarksOuterColor),this.original_colors.colorsStrokeInner=DxChart.arrayClone(t.colorsStrokeInner),this.original_colors.colorsStrokeOuter=DxChart.arrayClone(t.colorsStrokeOuter),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor));for(var e=t.colors,i=0,s=e.length;i<s;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.tickmarksInnerColor=this.parseSingleColorForGradient(t.tickmarksInnerColor),t.tickmarksOuterColor=this.parseSingleColorForGradient(t.tickmarksOuterColor),t.colorsStrokeInner=this.parseSingleColorForGradient(t.colorsStrokeInner),t.colorsStrokeOuter=this.parseSingleColorForGradient(t.colorsStrokeOuter),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor)},this.reset=function(){},this.drawBevel=function(){this.properties;for(var t=0,e=0;t<this.coords.length;++t)e+=this.coords[t][3];this.context.save(),this.context.beginPath(),this.context.rect(this.coords[0][0],this.coords[this.coords.length-1][1]-1,this.coords[0][2],e),this.context.clip(),this.context.save(),this.context.beginPath(),this.drawCurvedBar({x:this.coords[0][0],y:this.coords[this.coords.length-1][1]-1,width:this.coords[0][2],height:e}),this.context.clip(),this.context.beginPath(),this.context.shadowColor="black",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=15,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.coords[0][0]-1,y:this.coords[this.coords.length-1][1]-1,width:this.coords[0][2]+2,height:e+2+100}),this.context.stroke(),this.context.restore(),this.context.restore()},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords[t];this.context.beginPath(),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.rect(i[0]-.5,i[1]-.5,i[2]+1,i[3]+1),this.context.fill(),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawCurvedBar=function(t){this.path("b r % % % % c",t.x,t.y,t.width,t.height),t.stroke&&(this.context.strokeStyle=t.stroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke()),t.fill&&(this.context.fillStyle=t.fill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill())},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.cancelStopAnimation();var t=this,e=(this.canvas,this.context,this.currentValue),i=(arguments[0]||{}).frames||30,s=0,a=arguments[1]||function(){};if("object"==typeof this.value){if(DxChart.isNull(this.currentValue)){this.currentValue=[];for(var o=0;o<this.value.length;++o)this.currentValue[o]=0}var r=[],n=[];for(o=0;o<this.value.length;++o)r[o]=this.value[o]-Number(this.currentValue[o]),n[o]=r[o]/i;if(null==e){e=[];for(o=0;o<this.value.length;++o)e[o]=0}}else n=(r=this.value-Number(this.currentValue))/i;return function o(){if(t.stopAnimationRequested)t.stopAnimationRequested=!1;else if(++s<=i){if("object"==typeof t.value){t.value=[];for(var r=0;r<e.length;++r)t.value[r]=e[r]+n[r]*s}else t.value=e+n*s;DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(o,t.canvas)}else a()}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:"object"==typeof this.value?this.value[t.index]:this.value,values:"object"==typeof this.value?[this.value[t.index]]:[this.value]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[t.index]?i.tooltipsFormattedKeyColors[t.index]:i.colors[t.index];return{label:i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"",color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+a[2]/2+e.properties.tooltipsOffsetX),t.tooltip.style.top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.top)<0&&t.tooltip.set_top(parseFloat(t.tooltip.top)+20)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+a[2]/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px"))},this.resetData(t.min,t.max,t.value),DxChart.parseProperties(this,t.options),DxChart.register(this),this}function DxChartWaterfall(t){return DxChart._Base.call(this,t,"waterfall"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.properties.xaxisLabelsPosition="section",this.properties.yaxisLabels=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&t.toString().indexOf("bind:")>=0&&(t=DxChart.parseDataset(this,t)),this.max=0,this.data=t,this.orgData=DxChart.arrayClone(t),this.data=DxChart.str2num(this.data);for(var e=0,i=this.data.length;e<=i;++e)this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),DxChart.drawBackgroundImage(this),t.totalUse&&t.xaxisLabels&&DxChart.isArray(t.xaxisLabels)&&this.data.length==t.xaxisLabels.length&&(t.xaxisLabels[t.xaxisLabels.length]=t.totalText),t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:this.data.length+(t.totalUse?1:0),value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e)t.xaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.xaxisLabels[e],index:e,value:e===this.data.length?this.runningTotal():this.data[e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."})}this.coords=[],this.coordsText=[],this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.max=0,this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.graphwidth=this.canvas.width-this.marginLeft-this.marginRight,this.halfTextHeight=t.textFontStyleObj.size/2,this.max=this.getMax(this.data);var i=t.yaxisScaleDecimals;return this.scale2=DxChart.getScale({object:this,options:{"scale.max":"number"==typeof t.yaxisScaleMax?t.yaxisScaleMax:this.max,"scale.min":t.yaxisScaleMin,"scale.strict":"number"==typeof t.yaxisScaleMax,"scale.decimals":Number(i),"scale.point":t.yaxisScalePoint,"scale.thousand":t.yaxisScaleThousand,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost,"scale.labels.count":t.yaxisLabelsCount,"scale.formatter":t.yaxisScaleFormatter}}),this.max=this.scale2.max,this.min=this.scale2.min,DxChart.drawBars(this),DxChart.Background.draw(this),this.drawAxes(),this.drawBars(),this.drawLabels(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this.drawLabels=function(){this.properties.labelsAbove&&this.drawLabelsAbove()},this.drawLabelsAbove=function(){for(var t,e=this.properties,i=(this.data,e.labelsAboveUnitsPre),s=e.labelsAboveUnitsPost,a=e.labelsAboveDecimals,o=e.labelsAboveThousand,r=e.labelsAbovePoint,n=e.labelsAboveFormatter,h=DxChart.getTextInfo({object:this,prefix:"labelsAbove"}),l=0;l<this.data.length+(e.totalUse?1:0);++l){if(e.totalUse&&l===this.data.length)var c=!0;var x=Number(c?this.total:this.data[l]);"object"==typeof e.labelsAboveColor&&e.labelsAboveColor&&(t=c&&"string"==typeof e.labelsAboveColor[2]?e.labelsAboveColor[2]:this.data[l]<0?e.labelsAboveColor[1]:e.labelsAboveColor[0]),"object"==typeof e.labelsAboveTotalColor&&e.labelsAboveTotalColor&&c&&"string"==typeof e.labelsAboveTotalColor[0]&&"string"==typeof e.labelsAboveTotalColor[1]&&(t=this.total<0?e.labelsAboveTotalColor[1]:e.labelsAboveTotalColor[0]);var d=this.coords[l],u=e.yaxisScaleThousand,g=e.yaxisScaleDecimal;if(e.yaxisScaleThousand=e.labelsAboveThousand,e.yaxisScalePoint=e.labelsAbovePoint,n)var p=n({object:this,value:x,index:l});else p=DxChart.numberFormat({object:this,number:String(x.toFixed(a)),unitspre:i,unitspost:s,point:r,thousand:o});if(c||l===this.data.length){if("string"==typeof e.labelsAboveTotalFont&&(h.font=e.labelsAboveTotalFont),"string"==typeof e.labelsAboveTotalColor&&(h.color=e.labelsAboveTotalColor),"number"==typeof e.labelsAboveTotalSize&&(h.size=e.labelsAboveTotalSize),DxChart.isNull(e.labelsAboveTotalBold)||(h.bold=e.labelsAboveTotalBold),DxChart.isNull(e.labelsAboveTotalItalic)||(h.italic=e.labelsAboveTotalItalic),"string"==typeof e.labelsAboveTotalUnitsPre&&(i=e.labelsAboveTotalUnitsPre),"string"==typeof e.labelsAboveTotalUnitsPost&&(s=e.labelsAboveTotalUnitsPost),"number"==typeof e.labelsAboveTotalDecimals&&(a=e.labelsAboveTotalDecimals),"function"==typeof e.labelsAboveTotalFormatter&&(n=e.labelsAboveTotalFormatter),"string"==typeof e.labelsAboveTotalThousand&&(o=e.labelsAboveTotalThousand),"string"==typeof e.labelsAboveTotalPoint&&(r=e.labelsAboveTotalPoint),n)p=n({object:this,value:x,index:l});else p=DxChart.numberFormat({object:this,number:String(x.toFixed(a)),unitspre:i,unitspost:s,point:r,thousand:o});e.yaxisScaleThousand=u,e.yaxisScalePoint=g}"object"!=typeof e.labelsAboveSpecific||DxChart.isNull(e.labelsAboveSpecific)||(p="string"==typeof e.labelsAboveSpecific[l]||"number"==typeof e.labelsAboveSpecific[l]?e.labelsAboveSpecific[l]:""),DxChart.text({object:this,font:h.font,size:h.size,color:t||h.color,bold:h.bold,italic:h.italic,x:d[0]+d[2]/2+(c?e.labelsAboveTotalOffsetX:e.labelsAboveOffsetX),y:(c?this.total:this.data[l])>=0?d[1]-3+(c?e.labelsAboveTotalOffsetY:e.labelsAboveOffsetY):d[1]+d[3]+3+(c?e.labelsAboveTotalOffsetY:e.labelsAboveOffsetY),text:p,valign:(c?this.total:this.data[l])>=0?"bottom":"top",halign:"center",tag:"labels.above"})}},this.runningTotal=function(){for(var t=0,e=0;e<this.data.length;++e)t+=this.data[e];return t},this.drawBars=function(){var t,e,i,s=this.properties,a=(this.context,this.canvas,s.marginInner),o=0;this.context.lineWidth=s.lineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var r=0,n=this.data.length,h=0;r<n;++r,++h)this.context.beginPath(),this.context.strokeStyle=s.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),e=Math.round(this.marginLeft+a+this.graphwidth/(this.data.length+(s.totalUse?1:0))*r*s.multiplierX),t=this.getYCoord(0)-this.getYCoord(Math.abs(this.data[r])),g=0===r?this.getYCoord(0)-t:this.getYCoord(o)-t,g=Math.round(g),i=(this.canvas.width-this.marginLeft-this.marginRight)/(this.data.length+(s.totalUse?1:0))-2*s.marginInner,i*=s.multiplierW,this.data[r]<0&&(g+=t),s.colorsSequential?this.context.fillStyle=s.colors[h]:this.context.fillStyle=this.data[r]>=0?s.colors[0]:s.colors[1],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),s.shadowUse?DxChart.setShadow({object:this,prefix:"shadow"}):DxChart.noShadow(this),t<0&&(g-=t=Math.abs(t)),this.context.rect(e+s.barOffsetX,Math.floor(g)+s.barOffsetY,i,Math.floor(t)),this.coords.push([e,g,i,t]),o+=this.data[r],this.context.stroke(),this.context.fill();if(this.total=o,s.totalUse){var l;t="top"===s.xaxisPosition?this.getYCoord(Math.abs(o))-this.getYCoord(0):this.getYCoord(0)-this.getYCoord(Math.abs(o)),g="center"==s.xaxisPosition?o>0?this.getYCoord(0)-t:this.getYCoord(0):"top"==s.xaxisPosition?this.getYCoord(0):o>0?this.getYCoord(0)-t:this.getYCoord(0),e=e+2*s.marginInner+i,l=s.colorsSequential?s.colors[h]:s.colors[2],this.path("b r % % % % s % f %",e+s.barOffsetX,g+s.barOffsetY,i,t,this.context.strokeStyle,l);var c=[e,g,i,Math.abs(t)];this.coords.push(c)}DxChart.noShadow(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=s.colorsConnectors,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(r=1,n=this.coords.length;r<n;r+=1){var x=this.coords[r-1],d=this.coords[r],u=this.data[r-1];if("top"===s.xaxisPosition)var g=u>0?x[1]+x[3]:x[1];else g=u>0?x[1]:x[1]+x[3];this.context.moveTo(x[0]+x[2]+s.barOffsetX,g+s.barOffsetY),this.context.lineTo(d[0]+s.barOffsetX,g+s.barOffsetY)}this.context.stroke()},this.getShape=function(t){for(var e=this.properties,i=0,s=this.coords.length;i<s;i++){var a=DxChart.getMouseXY(t),o=a[0],r=a[1],n=this.coords[i][0],h=this.coords[i][1],l=this.coords[i][2],c=this.coords[i][3];if(o>=n&&o<=n+l&&r>=h&&r<=h+c){var x=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,i):null;return{object:this,x:n,y:h,width:l,height:c,index:0,dataset:i,sequentialIndex:i,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[i]?e.xaxisLabels[i]:null,tooltip:"string"==typeof x?x:null}}}return null},this.getMax=function(t){this.properties;for(var e=0,i=0,s=0,a=t.length;s<a;s+=1)e+=t[s],i=Math.max(Math.abs(e),i);return Math.abs(i)},this.allowTooltips=function(){this.properties;DxChart.preLoadTooltipImages(this),DxChart.installWindowMousedownTooltipListener(this),DxChart.installCanvasMousemoveTooltipListener(this),DxChart.installCanvasMouseupTooltipListener(this)},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&this.path("b r % % % % s % f %",this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1,e.highlightStroke,e.highlightFill);else DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=DxChart.getMouseXY(t);if(e[0]>this.marginLeft&&e[0]<this.canvas.width-this.marginRight&&e[1]>this.marginTop&&e[1]<this.canvas.height-this.marginBottom)return this},this.getYCoord=function(t){var e=this.properties;if("center"==e.xaxisPosition){if(t<-1*this.max)return null;var i=t/this.max*(this.chartArea/2);return this.marginTop+this.chartArea/2-i}if("top"==e.xaxisPosition){if(t<0)return null;i=t/this.max*this.chartArea;return this.marginTop+i}i=(t-this.scale2.min)/(this.max-this.scale2.min)*this.chartArea;return i+=this.marginBottom,this.canvas.height-i},this.parseColors=function(){var t,e=this.properties;if(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(e.colors),this.original_colors.keyColors=DxChart.arrayClone(e.keyColors),this.original_colors.crosshairsColor=DxChart.arrayClone(e.crosshairsColor),this.original_colors.highlightStroke=DxChart.arrayClone(e.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(e.highlightFill),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(e.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(e.backgroundBarsColor2),this.original_colors.backgroundGridColor=DxChart.arrayClone(e.backgroundGridColor),this.original_colors.colorsStroke=DxChart.arrayClone(e.colorsStroke),this.original_colors.xaxisColor=DxChart.arrayClone(e.xaxisColor),this.original_colors.yaxisColor=DxChart.arrayClone(e.yaxisColor)),t=e.colors)for(var i=0,s=t.length;i<s;++i)t[i]=this.parseSingleColorForGradient(t[i]);if(t=e.keyColors)for(i=0,s=t.length;i<s;++i)t[i]=this.parseSingleColorForGradient(t[i]);e.crosshairsColor=this.parseSingleColorForGradient(e.crosshairsColor),e.highlightStroke=this.parseSingleColorForGradient(e.highlightStroke),e.highlightFill=this.parseSingleColorForGradient(e.highlightFill),e.backgroundColor=this.parseSingleColorForGradient(e.backgroundColor),e.backgroundBarsColor1=this.parseSingleColorForGradient(e.backgroundBarsColor1),e.backgroundBarsColor2=this.parseSingleColorForGradient(e.backgroundBarsColor2),e.backgroundGridColor=this.parseSingleColorForGradient(e.backgroundGridColor),e.colorsStroke=this.parseSingleColorForGradient(e.colorsStroke),e.xaxisColor=this.parseSingleColorForGradient(e.xaxisColor),e.yaxisColor=this.parseSingleColorForGradient(e.yaxisColor)},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0];t||(t="grow");var e=arguments[1],i=arguments[2];switch(t){case"grow":this.grow(e,i)}},this.grow=function(){this.cancelStopAnimation();for(var t=arguments[0]||{},e=arguments[1]||function(){},i=t.frames||30,s=0,a=this,o=DxChart.arrayClone(this.orgData),r=0,n=this.data.length;r<n;++r)this.data[r]/=i;if(null==this.get("yaxisScaleMax")){var h=this.getMax(o),l=DxChart.getScale({object:this,options:{"scale.max":h}});this.set("yaxisScaleMax",l.max)}return function t(){if(a.stopAnimationRequested)a.stopAnimationRequested=!1;else{for(var r=0;r<a.data.length;++r)a.data[r]=o[r]*DxChart.Effects.getEasingMultiplier(i,s);DxChart.clear(a.canvas),DxChart.redrawCanvas(a.canvas),++s<=i?DxChart.Effects.updateCanvas(t,a.canvas):e(a)}}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){var e=this.properties,i=this.data[t.index];return t.index===this.data.length&&e.totalUse&&(i=this.total),{index:t.index,dataset:0,sequentialIndex:t.index,value:i,values:[i]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors;i.tooltipsFormattedKeyColors&&(s=i.tooltipsFormattedKeyColors);var a=s[0];if(t.value<0&&(a=s[1]),t.index==this.data.length&&(a=s[2]),"object"==typeof i.tooltipsFormattedKeyLabels&&"string"==typeof i.tooltipsFormattedKeyLabels[t.index])var o=i.tooltipsFormattedKeyLabels[t.index];else if(i.xaxisLabels&&"object"==typeof i.xaxisLabels&&"string"==typeof i.xaxisLabels[t.index])o=i.xaxisLabels[t.index];return{label:o,color:a}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));coords=this.coords[t.index],isNexacroRuntime?(t.tooltip.set_left(s[0]+coords[0]+coords[2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+coords[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.top)<0&&t.tooltip.set_top(parseFloat(t.tooltip.style.top)+coords[3]/2+5)):(t.tooltip.style.left=s[0]+coords[0]+coords[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+coords[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+coords[3]/2+5+"px"))},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartSunburst(t){DxChart._Base.call(this,t,"sunburst"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.Cubes=[],this.LevelHeight=[],this.Final=null,this.NodeClick=null,this.NodeSearch=null,this.coords=[],this.properties.variantValue="circle",this.properties.backgroundGrid=!1,this.properties.marginLeft=30,this.properties.marginRight=30,this.properties.marginTop=30,this.properties.marginBotom=30,this.properties.itemTextFontStyle="10px Tahoma",this.properties.itemTextColor="#000000",this.properties.itemAscending=!0,this.properties.animationGrowMultiplier=1,this.properties.colors=["red","blue"],this.properties.highlightFill="rgba(255,255,255,0.3)",this.properties.highlightStroke="gray",this.properties.tooltipsFormattedKeyLabels=[],this.properties.tooltipsFormattedKeyColors=[],this.properties.itemLineColor="#dddddd",this.properties.backgroundColor="#0000ff",this.properties.itemLineWidth=1,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.Cubes=null,this.Cubes=[];for(var e=t.nameColumn,i=t.parentNameColumn,s=t.valueColumn,a=t.expandColumn,o=t.colorColumn,r=t.fontColumn,n=t.fontColorColumn,h=this.binddataset,l=0;l<h.rowcount;l++){var c=new _SunburstCube(h.getColumn(l,e),h.getColumn(l,i),{n:e?h.getColumn(l,e):null,c:o?h.getColumn(l,o):null,f:r?h.getColumn(l,r):null,fc:n?h.getColumn(l,n):null,v:s?h.getColumn(l,s):null,e:!a||h.getColumn(l,a)},this.properties,l,this);this.Push(c)}},this.Push=function(t){for(t.canvas=this.canvas,t.context=this.context,t.OC=this;;){var e=this.Each(this.Cubes,function(e,i){if(e.ParentId==t.Id)return i});if(this.IsNull(e))break;var i=this.Cubes.splice(e,1)[0];t.AddChild(i)}var s=this.Each(this.Cubes,function(e,i){return e.FindNode(t.ParentId)});this.IsNull(s)?(this.Cubes.push(t),t.IsRoot=!0):(s.AddChild(t),t.parentNode=s,t.IsRoot=!1)},this.IsSolid=function(t){return!this.IsNull(t)&&("boolean"!=typeof t||t)},this.IsFunction=function(t){return!this.IsNull(t)&&"function"==typeof t},this.IsNull=function(t){return null==t},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.SearchNode=function(t,e){if(t.index==e)return t;var i=this;return this.Each(t.Children,function(t){return i.SearchNode(t,e)})},this.SearchClickedOne=function(t,e,i){if(t.ClickMe(e,i))return t;var s=this;return this.Each(t.Children,function(t){return s.SearchClickedOne(t,e,i)})},this.GetClickedCube=function(t,e){return this.IsNull(this.Final)?null:this.SearchClickedOne(this.Final,t,e)},this.Layout=function(t){var e=this.properties;t.RefreshLevel(),t.ComputeSpan(),t.SetLevelInfo(t);var i=this.canvas.width-e.marginLeft-e.marginRight,s=this.canvas.height-e.marginTop-e.marginBottom,a=0;a="bar"==e.variantValue?null!=e.itemHeight&&null!=e.itemHeight?parseInt(e.itemHeight):s/t.LevelDictShowSize.length:Math.min(i,s)/(2*t.LevelDictShowSize.length),this._maxSize=Math.min(i,s);var o=DxChart.measureText("a",t.FontObj.bold,t.FontObj.face,t.FontObj.size);this._textBaseSize=o;var r=[];r.push(t),t.Position.startAngle=0,t.Position.endAngle=DxChart.TWOPI;var n=e.marginLeft+i/2,h=e.marginTop+s/2;this.centerX=n,this.centerY=h;t.LevelDict.length;a*=e.animationGrowMultiplier;var l,c,x,d,u,g,p,f,m,b,C,y,v;Math.max(i,s),t.Size;for("bar"==e.variantValue?1==e.itemAscending?(x=e.marginTop+s-a,t.Position.point={x:e.marginLeft,y:e.marginTop+s-a,w:i,h:a,cx:e.marginLeft+(e.itemTextMargin||5),cy:e.marginTop+s-a/2}):(x=e.marginTop,t.Position.point={x:e.marginLeft,y:e.marginTop,w:i,h:a,cx:e.marginLeft+(e.itemTextMargin||5),cy:e.marginTop+a/2}):t.Position.point={x1:n,y1:h,x2:n,y2:h,x3:n,y3:h,x4:n,y4:h,r1:0,r2:a,sa:0,ea:DxChart.TWOPI,ca:DxChart.PI,cx:n,cy:h,leng:a,rx:0,ry:0,rx1:0,ry1:0},t._childindex=0,this.nDiv=a;r.length>0;){var D=r.shift();d=D.SumValue,"bar"==e.variantValue?(u=D.Position.point.w,l=D.Position.point.x):(u=D.Position.endAngle-D.Position.startAngle,l=D.Position.startAngle);for(var S=0;S<D.Children.length;++S){var k=D.Children[S];if(k._childindex=S,"bar"==e.variantValue)c=u*(k.SumValue/d),1==e.itemAscending?k.Position.point={x:l,y:x-a*k.Level,w:c,h:a,cx:l+(e.itemTextMargin||5),cy:x-a*k.Level+a/2}:k.Position.point={x:l,y:x+a*k.Level,w:c,h:a,cx:l+(e.itemTextMargin||5),cy:x+a*k.Level+a/2},l+=c;else{g=l+((c=l+u*(k.SumValue/d))-l)/2,p=DxChart.getRadiusEndPoint(n,h,l,a*k.Level),f=DxChart.getRadiusEndPoint(n,h,c,a*k.Level),m=DxChart.getRadiusEndPoint(n,h,l,a*(k.Level+1)),b=DxChart.getRadiusEndPoint(n,h,c,a*(k.Level+1)),C=!0===e.itemTextNoAngle?DxChart.getRadiusEndPoint(n,h,g,a*k.Level+a/2):DxChart.getRadiusEndPoint(n,h,g,a*k.Level+5);var w=DxChart.getHypLength(p[0],p[1],f[0],f[1]);DxChart.getHypLength(m[0],m[1],b[0],b[1]);y=DxChart.getRadiusEndPoint(n,h,l-.01,a*k.Level),v=DxChart.getRadiusEndPoint(n,h,l-.01,a*(k.Level+1)),k.Position.point={x1:p[0],y1:p[1],x2:f[0],y2:f[1],x3:b[0],y3:b[1],x4:m[0],y4:m[1],r1:a*k.Level,r2:a*(k.Level+1),sa:l,ea:c,ca:g,cx:C[0],cy:C[1],leng:w,rx:y[0],ry:y[1],rx1:v[0],ry1:v[1]},k.Position.startAngle=l,k.Position.endAngle=c,l=c}r.push(k)}}},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawAni=function(){arguments[0];var t=arguments[1],e=arguments[2];this.grow(t,e)},this.grow=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0;return function e(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("animationGrowMultiplier",a/s),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a<s?(a++,DxChart.Effects.updateCanvas(e,t.canvas)):i(t))}(),this},this.draw=function(){var t=this.properties;this.coords=[],this.coords2=[],DxChart._BeforeDraw(this),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var e=this;if(this.Each(this.Cubes,function(t){return e.Layout(t),null}),this.FitstNode=null,this.Final=null,this.Cubes.length>0){this.FitstNode=this.Cubes[0],this.Final=this.Cubes[0];for(var i=1;i<this.Cubes.length;++i)this.Cubes[i].Size>this.Final.Size&&(this.Final=this.Cubes[i]);this.Final.Draw()}t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.keyColors||t.colors),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw")},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=e.marginLeft;if(i[0]>=s&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.onclick=function(t,e){e&&e.cube&&e.object.onnodeclick&&e.object.onnodeclick(e.cube)},this.highlight=function(t){var e=this.properties;if(t&&t.cube&&e.highlightValue){this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill);var i=t.coordsidx,s=this.coords;if(this.context.beginPath(),"bar"==e.variantValue)this.context.rect(s[i][1],s[i][2],s[i][3],s[i][4]);else if(isNexacroRuntime)if(0==t.cube.Level)this.context.arc(this.centerX,this.centerY,this.nDiv,0,DxChart.TWOPI);else{var a=s[i];this.context.moveTo(a[1],a[2]);for(var o=3,r=a.length;o<r;o+=2)this.context.lineTo(a[o],a[o+1])}else 0==t.cube.Level?this.context.arc(s[i][3],s[i][4],s[i][5],s[i][6],s[i][7]):(this.context.moveTo(s[i][1],s[i][2]),this.context.arc(s[i][3],s[i][4],s[i][5],s[i][6],s[i][7]),this.context.lineTo(s[i][8],s[i][9]),this.context.arc(s[i][10],s[i][11],s[i][12],s[i][13],s[i][14],!0),this.context.lineTo(s[i][15],s[i][16]));this.context.closePath(),this.context.fill(),this.context.stroke()}},this.tooltipSubstitutions=function(t){var e=this.SearchNode(this.Cubes[0],t.index);if(e){var i=e?e.SumValue:"";return this.properties.tooltipsFormattedKeyLabels[0]=e.Name,this.properties.colors[0]=e.Color?e.Color:this.properties.colors[0],this.properties.tooltipsFormattedKeyColors[0]=e.Color?e.Color:this.properties.colors[0],{index:t.index,dataset:0,sequentialIndex:t.index,value:i,values:[i]}}},this.getShape=function(t){for(var e=this.properties,i=arguments[1]?arguments[1]:this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context),n=i.coords,h=n.length-1;h>=0;h--)if(0!=i.coords[h].length){if(r.beginPath(),"bar"==e.variantValue)r.rect(n[h][1],n[h][2],n[h][3],n[h][4]);else if(isNexacroRuntime){var l=n[h];r.moveTo(l[1],l[2]);for(var c=3,x=l.length;c<x;c+=2)r.lineTo(l[c],l[c+1])}else r.moveTo(n[h][1],n[h][2]),r.arc(n[h][3],n[h][4],n[h][5],n[h][6],n[h][7]),r.lineTo(n[h][8],n[h][9]),r.arc(n[h][10],n[h][11],n[h][12],n[h][13],n[h][14],!0),r.lineTo(n[h][15],n[h][16]);if(r.closePath(),this.context.isPointInPath(a,o)){var d=n[h][0];return{object:this,cube:d,coordsidx:h,x:d.Position.x,y:d.Position.x,width:d.Dimen.width,height:d.Dimen.height,tooltip:e.tooltipsData,label:d.Name,dataset:0,sequentialIndex:d.index,index:d.index}}}},DxChart.parseProperties(this,t.options),this.resetData(t),DxChart.register(this)}function _SunburstCube(t,e,i,s,a,o){return this.parent=null,this.Id=t,this.ParentId=e,this.Name=i.n,this.index=a,this.value=i.v?i.v.valueOf():null,this.Color=i.c||s.backgroundColor,this.HighlightLineColor=null,null==i.e||null==i.e?this.Expand=!0:this.Expand=nexacro._toBoolean(i.e),this.Font=i.f||s.itemTextFontStyle,this.FontObj=DxChart._parseFontInfo(this.Font),this.FontColor=i.fc||s.itemTextColor,this.Level=0,this.LevelMaxNodes=1,this.Depth=0,this.TotalHeight=0,this.cumW=0,this.cumH=0,this.coords=[],this.Size=1,this.Dimen={width:10,height:10},this.Span=0,this.Lines=[],this.Children=[],this.Position={x:0,y:0},this.SeperatorY=999999,this.canvas=null,this.context=null,this.OC=o,this.Drawbar=function(t,e){var i=this.OC.properties,s=this.Position.point;t.strokeStyle=i.backgroundGridColor,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.fillStyle=e,isNexacroRuntime&&t.setElementFillStyle(t.fillStyle),t.beginPath(),t.rect(s.x,s.y,s.w,s.h),t.fill(),t.stroke(),this.OC.coords.push([this,s.x,s.y,s.w,s.h])},this.DrawCircle=function(t,e){var i=this.OC.properties,s=this.Position.point;t.strokeStyle=i.backgroundGridColor,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.beginPath();if(isNexacroRuntime){var a=[];a.push(this),t.moveTo(s.x1,s.y1),a.push(s.x1),a.push(s.y1),function(t,e,i,s,a,o,r,n){for(var h,l=e;l<i;)h=DxChart.getRadiusEndPoint(s,a,l,o),t.lineTo(h[0],h[1]),n.push(h[0]),n.push(h[1]),l+=DxChart.HALFPI/200}(t,s.sa,s.ea,this.OC.centerX,this.OC.centerY,s.r1,s.leng,a),t.lineTo(s.x3,s.y3),a.push(s.x3),a.push(s.y3),function(t,e,i,s,a,o,r,n){for(var h,l=i;l>=e;)h=DxChart.getRadiusEndPoint(s,a,l,o),t.lineTo(h[0],h[1]),n.push(h[0]),n.push(h[1]),l-=DxChart.HALFPI/200}(t,s.sa,s.ea,this.OC.centerX,this.OC.centerY,s.r2,s.leng,a),t.lineTo(s.x1,s.y1),a.push(s.x1),a.push(s.y1),this.OC.coords.push(a)}else t.moveTo(s.x1,s.y1),t.arc(this.OC.centerX,this.OC.centerY,s.r1,s.sa,s.ea),t.lineTo(s.x3,s.y3),t.arc(this.OC.centerX,this.OC.centerY,s.r2,s.ea,s.sa,!0),t.lineTo(s.x1,s.y1),this.OC.coords.push([this,s.x1,s.y1,this.OC.centerX,this.OC.centerY,s.r1,s.sa,s.ea,s.x3,s.y3,this.OC.centerX,this.OC.centerY,s.r2,s.ea,s.sa,s.x1,s.y1]);t.closePath(),t.fillStyle=e,isNexacroRuntime&&t.setElementFillStyle(t.fillStyle),t.fill(),s.r1>0&&t.stroke()},this.DrawText=function(t,e,i,s){this.LinesSize[0];if(this.context.save(),isNexacroRuntime)if(this.context.translate(i,s),this.Position.point.ca>1.4&&this.Position.point.ca<DxChart.TWOPI-DxChart.HALFPI){var a=180/Math.PI*(this.Position.point.ca-DxChart.PI);this.context.rotate(a),this.context.setElementTextAlign("end"),this.context.setElementTextBaseline("middle")}else{a=180/Math.PI*this.Position.point.ca;this.context.rotate(a),this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle")}else if(this.context.translate(i,s),this.Position.point.ca>1.4&&this.Position.point.ca<DxChart.TWOPI-DxChart.HALFPI){a=this.Position.point.ca-DxChart.PI;this.context.rotate(a),this.context.textAlign="right",this.context.textBaseline="middle"}else{a=this.Position.point.ca;this.context.rotate(a),this.context.textAlign="left",this.context.textBaseline="middle"}i=0,s=0,0==this.Position.point.r1&&(this.context.textAlign="center",isNexacroRuntime&&this.context.setElementTextAlign("center")),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(e),this.context.fillText(t,i,s),this.context.restore()},this.IsSolid=function(t){return null!=t&&null!=t&&("boolean"!=typeof t||t)},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.AddChild=function(t){this.Children.push(t)},this.RefreshLevel=function(){var t=this.Level;return this.Each(this.Children,function(e){return e.Level=t+1,e.RefreshLevel()})},this.Count=function(t,e,i,s,a){this.OC.properties;null==e[this.Level]||null==e[this.Level]?(e[this.Level]=1,i[this.Level]={w:t.Dimen.width,h:t.Dimen.height},s[this.Level]={w:t.Dimen.width,h:t.Dimen.height}):(e[this.Level]+=1,i[this.Level].w=Math.max(i[this.Level].w,t.Dimen.width),i[this.Level].h=i[this.Level].h+t.Dimen.height,1==a&&(s[this.Level].w=Math.max(s[this.Level].w,t.Dimen.width),s[this.Level].h=s[this.Level].h+t.Dimen.height),0==t.Expand&&(a=!1)),this.Each(this.Children,function(t){t.Count(t,e,i,s,a)})},this.SetLevelInfo=function(t){var e={},i=[],s=[];this.Count(t,e,i,s,!0);var a=1,o=1;for(var r in e)o++,e[r]>a&&(a=e[r]);for(var n=0,h=0,l=0;l<i.length;l++)n=Math.max(i[l].w,n),h=Math.max(i[l].h,h);this.LevelMaxSize=[n,h],n=0,h=0;for(l=0;l<s.length;l++)n=Math.max(s[l].w,n),h=Math.max(s[l].h,h);this.LevelMaxShowSize=[n,h],this.LevelDict=e,this.LevelDictSize=i,this.LevelDictShowSize=s,this.LevelMaxNodes=a,this.Depth=o},this.RealSpan=function(){return[Math.max(this.SpanWidth,this.Dimen.width),Math.max(this.SpanHeight,this.Dimen.height),this.SumValue?this.SumValue:this.value?this.value:0]},this.RealSpanValue=function(){return this.SumValue?this.SumValue:this.value?this.value:0},this.ComputeDimension=function(){var t=this.Name,e=(this.OC.properties,(this.FontObj.italic?"italic ":"")+(this.FontObj.bold?"bold ":"")+this.FontObj.size+"px "+this.FontObj.face),i=DxChart.measureText(t,this.FontObj.bold,this.FontObj.face,this.FontObj.size);this.Dimen.width=i[0],this.Dimen.height=i[1],this.Lines=[],this.LinesSize=[],this.LinesFont=[];this.Lines.push(t),this.LinesFont.push(e),this.LinesSize.push(i)},this.ComputeSpan=function(){var t;this.ComputeDimension();var e=0,i=0,s=1,a=0;if(this.Children.length>0&&(this.IsRoot||this.parentNode&&1==this.parentNode.Expand))for(var o=0;o<this.Children.length;++o)e+=(t=this.Children[o].ComputeSpan())[0],i+=t[1],a+=t[2],s+=this.Children[o].Size;return 0==e&&(e=this.Dimen.width),0==i&&(i=this.Dimen.height),0==a&&(a=this.value?this.value:0),this.Size=s,this.SumValue=a,this.SpanWidth=e,this.SpanHeight=i,this.RealSpan()},this.GetTextSize=function(t,e){if(isNexacroRuntime){var i=new nexacro.FontObject(e),s=nexacro._getTextSize(t,i);return i=null,[s[0],s[1]]}this.context.font=e;var a=this.context.measureText(t);return[a.width,a.actualBoundingBoxAscent+a.actualBoundingBoxDescent]},this.FindNode=function(t){return this.Id==t?this:this.Each(this.Children,function(e,i){return e.FindNode(t)})},this.ClickMe=function(t,e){return t/=this.OC.dpr,e/=this.OC.dpr,t>this.Position.x&&t<this.Position.x+this.Dimen.width&&e>this.Position.y&&e<this.Position.y+this.Dimen.height},this.Draw=function(){var t,e,i=this.OC.properties,s=this.Position.x,a=this.Position.y;i.itemFontSeqStyleObj;if(this.Each(this.Children,function(t){return t.Draw()}),t=this.Color,e=this.LinesFont[0],isNexacroRuntime){var o=new nexacro.FontObject(e);this.context.setElementFont(o)}else this.context.font=e;var r=this.Lines[0];if("bar"==i.variantValue)t=DxChart.parseGradient(this,t,this.Position.point.x,this.Position.point.y,this.Position.point.w,this.Position.point.h),this.Drawbar(this.context,t);else{if(DxChart.isNumber(i.itemGradientValue)){var n,h,l=i.itemGradientValue/3;i.itemGradientValue<0?(n=DxChart._shadeColor(t,20),h=DxChart._shadeColor(t,10)):(n=DxChart._shadeColor(t,-20),h=DxChart._shadeColor(t,-10));var c="radial-gradient("+n+","+h+","+DxChart._shadeColor(t,0)+","+DxChart._shadeColor(t,l)+","+DxChart._shadeColor(t,2*l)+","+DxChart._shadeColor(t,i.itemGradientValue)+")";t=DxChart.parseRadialGradientInfo(this.OC,c,this.OC.centerX,this.OC.centerY,0,this.OC.centerX,this.OC.centerY,this.OC._maxSize/2)}this.DrawCircle(this.context,t)}s=this.Position.point.cx,a=this.Position.point.cy;var x=this.Position.point.leng,d=this.OC.nDiv-5,u=this.LinesSize[0],g=this.OC._textBaseSize[0],p=d/g;if(!0===i.itemTextNoAngle||"bar"==i.variantValue){r||(r="");var f=[];"bar"==i.variantValue?(g>=this.Position.point.w?r="":u[0]>this.Position.point.w&&(r=r.substr(0,p+1)+".."),f=[""]):f=r.split("\\n"),DxChart.text({object:this.OC,font:e,size:this.FontObj.size,color:this.FontColor,bold:this.FontObj.bold,italic:this.FontObj.italic,x:s,y:a+(f.length-1)*u[1]/3,text:r,halign:"bar"==i.variantValue?"left":"center",valign:"middle",angle:0,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":null,tag:"labels.above"})}else u[1]>x+10?r="":u[0]>d&&(r=r.substr(0,p+1)+".."),this.DrawText(r,this.FontColor,s,a);return null},this}if(DxChart.HTML=DxChart.HTML||{},function(t,e,i){DxChart.drawKey=function(){var t=DxChart.getArgs(arguments,"object,key,colors");if(t.key){t.object.properties;var e,i=t.object.properties,s=i.keyPosition,a=(i.textFontStyleObj.size,[]),o=[];t.object.context.lineWidth=1,isNexacroRuntime&&t.object.context.setElementLineWidth(t.object.context.lineWidth),t.object.context.beginPath(),"number"==typeof i.keyVpos&&t.object.set("keyPositionY",i.keyVpos*t.object.get("marginTop"));for(var r=0;r<t.key.length;++r)null!=t.key[r]&&(o.push(t.colors[r]),a.push(t.key[r]));key=a,colors=o;var n=!1;if("boolean"==typeof i.keyTextAccessible&&(n=i.keyTextAccessible),!s||"gutter"!==s&&"margin"!==s?function(){var s=t.object.marginLeft,a=t.object.marginRight,o=t.object.marginTop,r=t.object.marginBottom,h="right"==i.yaxisPosition?s+10:t.object.canvas.width-a-10,l=o+10,c=(i.titleText,i.keyBackground,0),x=DxChart.getTextInfo({object:t.object,prefix:"keyLabels"});blob_size=x.size,text_size=x.size,t.object.coords||(t.object.coords={}),t.object.coords.key=[],t.object.context.font=(x.italic?"italic ":"")+(x.bold?"bold ":"")+x.size+"px "+x.font,isNexacroRuntime&&t.object.context.setElementFont(t.object.context.font);for(var d=0;d<key.length;++d)c=Math.max(c,DxChart.measureText(key[d],x.bold,x.font,x.size)[0]);if(c+=5,c+=blob_size,c+=5,c+=5,c+=5,("left"==i.yaxisPosition||"pie"===t.object.type&&!i.yaxisPosition||"pie"===t.object.type&&!i.yaxisPosition||"hbar"===t.object.type&&!i.yaxisPosition||"hbar"===t.object.type&&"center"===i.yaxisPosition||"hbar"===t.object.type&&"right"===i.yaxisPosition||"rscatter"===t.object.type&&!i.yaxisPosition||"radar"===t.object.type&&!i.yaxisPosition||"rose"===t.object.type&&!i.yaxisPosition||"funnel"===t.object.type&&!i.yaxisPosition||"vprogress"===t.object.type&&!i.yaxisPosition||"hprogress"===t.object.type&&!i.yaxisPosition)&&(h-=c),"string"==typeof i.keyHalign)if("left"===i.keyHalign)h=s+10;else if(i.keyHalign.indexOf("%")>=0){var u=parseInt(i.keyHalign.replace("%"));u>=98&&(u=98),u<2&&(u=2),h=s+(t.object.canvas.width-a-s)*(u/100)}else h=t.object.canvas.width-a-c;"pie"==t.object.type&&i.variantValue3d&&(h-=isNexacroRuntime?200:300);var g=0;for("center"!=i.keyValign&&"bottom"!=i.keyValign||(g=key.length*(text_size+(i.keyLabelsOffsetY||0)),l="center"==i.keyValign?parseInt((t.object.canvas.height-o-r-g)/2):parseInt(t.object.canvas.height-r-g)),"number"==typeof i.keyPositionX&&(h=i.keyPositionX),"number"==typeof i.keyPositionY&&(l=i.keyPositionY),"number"==typeof i.keyPositionOffsetX&&(h+=i.keyPositionOffsetX),"number"==typeof i.keyPositionOffsetY&&(l+=i.keyPositionOffsetY),i.keyShadow&&(t.object.context.shadowColor=i.keyShadowStyleObj.color,t.object.context.shadowBlur=i.keyShadowStyleObj.blur,t.object.context.shadowOffsetX=i.keyShadowStyleObj.offsetx,t.object.context.shadowOffsetY=i.keyShadowStyleObj.offsety,isNexacroRuntime&&t.object.context.setElementShadowColor(t.object.context.shadowColor),isNexacroRuntime&&t.object.context.setElementShadowBlur(t.object.context.shadowBlur),isNexacroRuntime&&t.object.context.setElementShadowOffsetX(t.object.context.shadowOffsetX),isNexacroRuntime&&t.object.context.setElementShadowOffsetY(t.object.context.shadowOffsetY)),t.object.context.beginPath(),t.object.context.fillStyle=i.keyBackground,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.strokeStyle="black",isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),(void 0===i.keyPositionGraphBoxed||"boolean"==typeof i.keyPositionGraphBoxed&&i.keyPositionGraphBoxed)&&0!=arguments[3]&&(t.object.context.lineWidth="number"==typeof i.keyLineWidth?i.keyLineWidth:1,isNexacroRuntime&&t.object.context.setElementLineWidth(t.object.context.lineWidth),1==i.keyRounded?(t.object.context.beginPath(),t.object.context.strokeStyle="#333333",isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),DxChart.roundedRect({context:t.object.context,x:Math.round(h),y:Math.round(l),width:c-5,height:5+(text_size+5)*DxChart.getKeyLength(key),radius:4}),t.object.context.stroke(),t.object.context.fill(),DxChart.noShadow(t.object)):(t.object.context.strokeRect(Math.round(h),Math.round(l),c-5,5+(text_size+5)*DxChart.getKeyLength(key)),t.object.context.fillRect(Math.round(h),Math.round(l),c-5,5+(text_size+5)*DxChart.getKeyLength(key)))),DxChart.noShadow(t.object),t.object.context.beginPath(),i.keyColors&&(colors=i.keyColors),e=i.keyStrokeColors?i.keyStrokeColors:colors,d=key.length-1;d>=0;d--){var p=Number(d)+1;if("object"==typeof i.keyColorShape&&"string"==typeof i.keyColorShape[d])var f=i.keyColorShape[d];else f="object"==typeof i.keyColorShape&&"function"==typeof i.keyColorShape[d]?i.keyColorShape[d]:"string"==typeof i.keyColorShape?i.keyColorShape:"function"==typeof i.keyColorShape?i.keyColorShape:"rect";"circle"==f?(t.object.context.beginPath(),t.object.context.strokeStyle=e[d],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=colors[d],isNexacroRuntime&&(colors[d]instanceof nexacro._CanvasGradient&&colors[d]._lastColor?t.object.context.setElementFillStyle(colors[d]._lastColor):t.object.context.setElementFillStyle(t.object.context.fillStyle)),t.object.context.arc(h+5+blob_size/2,l+5*p+text_size*p-text_size+blob_size/2,blob_size/2,0,6.26,0),t.object.context.fill(),t.object.context.stroke()):"line"==f?(t.object.context.beginPath(),t.object.context.strokeStyle=e[d],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.moveTo(h+5,l+5*p+text_size*p-text_size+blob_size/2),t.object.context.lineTo(h+blob_size+5,l+5*p+text_size*p-text_size+blob_size/2),t.object.context.stroke()):"triangle"==f?(t.object.context.beginPath(),t.object.context.strokeStyle=e[d],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.moveTo(h+5,l+5*p+text_size*p-text_size+blob_size),t.object.context.lineTo(h+blob_size/2+5,l+5*p+text_size*p-text_size),t.object.context.lineTo(h+blob_size+5,l+5*p+text_size*p-text_size+blob_size),t.object.context.closePath(),t.object.context.fillStyle=colors[d],isNexacroRuntime&&(colors[d]instanceof nexacro._CanvasGradient&&colors[d]._lastColor?t.object.context.setElementFillStyle(colors[d]._lastColor):t.object.context.setElementFillStyle(t.object.context.fillStyle)),t.object.context.fill(),t.object.context.stroke()):"function"==typeof f?f({object:t.object,color:colors[d],x:h+5,y:l+5*p+text_size*p-text_size,width:text_size,height:text_size+1}):(t.object.context.strokeStyle=e[d],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=colors[d],isNexacroRuntime&&(colors[d]instanceof nexacro._CanvasGradient&&colors[d]._lastColor?t.object.context.setElementFillStyle(colors[d]._lastColor):t.object.context.setElementFillStyle(t.object.context.fillStyle)),t.object.context.rect(h+5,l+5*p+text_size*p-text_size,text_size,text_size+1),t.object.context.fill(),t.object.context.stroke()),t.object.context.beginPath();var m=1;isNexacroRuntime&&(m=0),ret=DxChart.text({object:t.object,font:x.font,size:x.size,bold:x.bold,italic:x.italic,color:"object"==typeof x.color?x.color[d]:x.color,x:h+blob_size+5+5+(i.keyLabelsOffsetX||0),y:l+5*p+text_size*p+m+(i.keyLabelsOffsetY||0),text:key[d],accessible:n}),t.object.coords.key[d]=[ret.x,ret.y,ret.width,ret.height,key[d],colors[d],t.object]}t.object.context.fill()}():function(){var s="number"==typeof i.keyLabelsFontStyleObj.size?i.keyLabelsFontStyleObj.size:i.textFontStyleObj.size,a=i.keyLabelsFontStyleObj.bold,o=i.keyLabelsFontStyleObj.italic,r=i.keyLabelsFontStyleObj.face||i.textFontStyleObj.face,h=i.keyLabelsColor||i.textColor,l=t.object.marginLeft,c=t.object.marginRight,x=t.object.marginTop,d=t.object.marginBottom,u=(t.object.canvas.width-l-c)/2+t.object.marginLeft,g=x-s-5,p=(i.titleText,s),f=i.keyBackground,m=0;if(t.object.coords||(t.object.coords={}),t.object.coords.key=[],isNexacroRuntime){var b=new nexacro.FontObject((o?"italic ":"")+(a?"bold ":"")+s+"px "+r);t.object.context.setElementFont(b)}else t.object.context.font=(o?"italic ":"")+(a?"bold ":"")+s+"px "+r;for(var C=0;C<key.length;C++)m+=8,m+=p,m+=8,m+=isNexacroRuntime?DxChart.measureText(key[C],r,a,s)[0]:t.object.context.measureText(key[C]).width,m+=i.keyPositionMarginHSpace?i.keyPositionMarginHSpace:0;m+=8,m+=i.keyPositionMarginHSpace?i.keyPositionMarginHSpace:0,u=t.object.canvas.width/2,"pie"==t.object.type&&("string"==typeof i.keyHalign?"left"===i.keyHalign?u=t.object.radius+l:"right"===i.keyHalign?u=t.object.canvas.width-t.object.radius-c:i.keyHalign.indexOf("%")>=0?((y=parseInt(i.keyHalign.replace("%")))>=98&&(y=98),y<2&&(y=2),u=l+(t.object.canvas.width-c-l)*(y/100)):u=t.object.canvas.width/2:u=t.object.canvas.width/2);u-=m/2,u+=20,"string"==typeof i.keyValign&&("center"==i.keyValign?g=parseInt((t.object.canvas.height-x-d)/2)-s-5:"bottom"==i.keyValign&&(g=parseInt(t.object.canvas.height-d+s+5))),"number"==typeof i.keyPositionX&&(u=i.keyPositionX),"number"==typeof i.keyPositionY&&(g=i.keyPositionY),"number"==typeof i.keyPositionOffsetX&&(u+=i.keyPositionOffsetX),"number"==typeof i.keyPositionOffsetY&&(g+=i.keyPositionOffsetY),(t.object.get("keyPositionGutterBoxed")||t.object.get("keyPositionMarginBoxed"))&&(i.keyShadow&&(t.object.context.shadowColor=i.keyShadowStyleObj.color,t.object.context.shadowBlur=i.keyShadowStyleObj.blur,t.object.context.shadowOffsetX=i.keyShadowStyleObj.offsetx,t.object.context.shadowOffsetY=i.keyShadowStyleObj.offsety,isNexacroRuntime&&t.object.context.setElementShadowColor(t.object.context.shadowColor),isNexacroRuntime&&t.object.context.setElementShadowBlur(t.object.context.shadowBlur),isNexacroRuntime&&t.object.context.setElementShadowOffsetX(t.object.context.shadowOffsetX),isNexacroRuntime&&t.object.context.setElementShadowOffsetY(t.object.context.shadowOffsetY)),t.object.context.beginPath(),t.object.context.fillStyle=f,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.strokeStyle="#999999",isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),i.keyRounded?DxChart.roundedRect({context:t.object.context,x:u,y:g-4,width:m,height:s+4+4}):t.object.context.rect(u,g-4,m,s+4+4),t.object.context.stroke(),t.object.context.fill(),DxChart.noShadow(t.object)),i.keyColors&&(colors=i.keyColors),e=i.keyStrokeColors?i.keyStrokeColors:colors,C=0;for(var y=u;C<key.length;++C){if(y+=8,"object"==typeof i.keyColorShape&&"string"==typeof i.keyColorShape[C])var v=i.keyColorShape[C];else v="object"==typeof i.keyColorShape&&"function"==typeof i.keyColorShape[C]?i.keyColorShape[C]:"function"==typeof i.keyColorShape?i.keyColorShape:"string"==typeof i.keyColorShape?i.keyColorShape:"square";y+=i.keyPositionMarginHSpace?i.keyPositionMarginHSpace:0,"line"==v?(t.object.context.beginPath(),t.object.context.strokeStyle=e[C],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.moveTo(y,g+p/2),t.object.context.lineTo(y+p,g+p/2),t.object.context.stroke()):"circle"==v?(t.object.context.beginPath(),t.object.context.strokeStyle=e[C],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=colors[C],isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.moveTo(y,g+p/2),t.object.context.arc(y+p/2,g+p/2,p/2,0,6.28,0),t.object.context.fill(),t.object.context.stroke()):"triangle"==v?(t.object.context.fillStyle=colors[C],isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.beginPath(),t.object.context.strokeStyle=e[C],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.moveTo(y,g+p),t.object.context.lineTo(y+p/2,g),t.object.context.lineTo(y+p,g+p),t.object.context.closePath(),t.object.context.fill(),t.object.context.stroke()):"function"==typeof v?v({object:t.object,color:colors[C],x:y,y:g,width:p,height:p}):(t.object.context.beginPath(),t.object.context.strokeStyle=e[C],isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=colors[C],isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.rect(y,g,p,p),t.object.context.fill(),t.object.context.stroke()),y+=p,y+=8,t.object.context.beginPath(),t.object.context.fillStyle="object"==typeof h?h[C]:h,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle);var D=DxChart.text({object:t.object,font:r,bold:a,size:s,italic:o,x:y+(i.keyLabelsOffsetX||0),y:g+s+1+(i.keyLabelsOffsetY||0),text:key[C],accessible:n});t.object.context.fill(),y+=isNexacroRuntime?DxChart.measureText(key[C],a,r,s)[0]:t.object.context.measureText(key[C]).width,t.object.coords.key[C]=[D.x,D.y,D.width,D.height,key[C],colors[C],t.object]}}(),i.keyInteractive){r=0;for(var h=t.object.coords.key.length,l=0;r<h;r+=1)l=Math.max(l,t.object.coords.key[r][2]);i.keyInteractiveArray||(i.keyInteractiveArray=[]);for(r=0,h=t.object.coords.key.length;r<h;r+=1)!function(e){t.object.coords.key;var s,a=t.object.coords.key[e],o=e,r=!1;i.keyInteractiveArray[e]&&(s=i.keyInteractiveArray[e]).x==a[0]&&s.y==a[1]+2&&(r=!0),0==r&&(s=new DxChartRect({owner:t.object,id:t.object.id,x:a[0],y:a[1]+2,width:"gutter"===i.keyPosition||"margin"===i.keyPosition?a[2]:l,height:a[3],options:{colorsFill:"rgba(0,0,0,0)"}}),i.keyInteractiveArray[e]=s,s._toggle=!1,s.onclick=function(a,r){s._toggle=!s._toggle,DxChart.redrawCanvas(t.object.canvas),1==s._toggle?(s.context.fillStyle=i.keyInteractiveHighlightLabel,isNexacroRuntime&&s.context.setElementFillStyle(s.context.fillStyle),s.context.fillRect(r.x,r.y,r.width,r.height),"function"==typeof t.object.interactiveKeyHighlight&&(t.object.set("keyInteractiveIndex",e),DxChart._fireEvent(t.object,"onbeforeinteractivekey"),t.object.interactiveKeyHighlight(o),DxChart._fireEvent(t.object,"onafterinteractivekey"))):(s.properties.colorsFill="rgba(0,0,0,0)",s.draw())},s.onmousemove=function(t,e){return!0}),s.properties.colorsFill="rgba(0,0,0,0)",s.draw()}(r)}}},DxChart.getKeyLength=function(t){for(var e=0,i=0,s=t.length;i<s;i+=1)null!=t[i]&&++e;return e},DxChart.HTML.key=DxChart.HTML.Key=function(t,i){for(var s=e.getElementById(t),a=DxChart.createUID(),o='<table border="0" cellspacing="0" cellpadding="0" id="DxChart_key_'+a+'" '+(i.tableClass?'class="'+i.tableClass+'"':"")+">",r=0;r<i.labels.length;r+=1)o+='<tr><td valign="top"><div id="DxChart_html_key_blob_'+r+'"     '+(i.blobClass?'class="DxChart_html_key_blob '+i.blobClass+'"':"DxChart_html_key_blob")+">&nbsp;</div><td>"+(i.links&&i.links[r]?'<a href="'+i.links[r]+'">':"")+"<span "+(i.labelClass?'class="'+i.labelClass+'"':"")+'" id="DxChart_html_key_label_'+r+'">'+i.labels[r]+"</span>"+(i.links&&i.links[r]?"</a>":"")+"</td></tr>";s.innerHTML+=o+"</table>";for(r=0;r<i.labels.length;r+=1){var n=document.getElementById("DxChart_html_key_blob_"+r);n.style.width="20px",n.style.height="20px"}DxChart.setCSS(e.getElementById("DxChart_key_"+a),{});for(r=0;r<i.labels.length;r+=1)DxChart.setCSS(e.getElementById("DxChart_html_key_blob_"+r),{display:"inline-block",marginRight:"5px",marginTop:"4px",width:"15px",height:"15px",backgroundColor:i.colors[r]}),DxChart.setCSS(e.getElementById("DxChart_html_key_label_"+r),i.labelCss),i["labelCss_"+r]&&DxChart.setCSS(e.getElementById("DxChart_html_key_label_"+r),i["labelCss_"+r]);return e.getElementById("DxChart_key_"+a)}}(0,document),function(win,doc,undefined){var ua=navigator.userAgent;DxChart.tooltips={},DxChart.tooltips.css=DxChart.tooltips.style={display:"inline-block",position:"absolute",padding:"6px",fontFamily:"Arial",fontSize:"10pt",fontWeight:"normal",textAlign:"center",overflow:"visible",left:0,top:0,backgroundColor:"black",color:"white",visibility:"visible",zIndex:1500002,borderRadius:"5px",border:"1px solid #ffffff",boxShadow:"0 0 5px rgba(96,96,96,0.5)",transition:"left ease-out .25s, top ease-out .25s",opacity:0,lineHeight:DxChart.ISIE||DxChart.ISNEXA?"normal":"initial"},DxChart._runtimeQueue=[],DxChart.showTooltipRuntime=function(t){DxChart.showTooltip(t)},DxChart.makeTooltipRuntime=function(t){var e=t.canvas.parent,i="__DxChart_tooltip_",s=e.components[i];if(!s){(s=new Div).init(i,0,0,0,0,null,null),e.addChild(i,s),s.set_visible(!1),s.show(),s.form.set_scrollbartype("none"),objWbrowser=new nexacro.WebBrowser,objWbrowser.init("wb_"+i,-2,-2,0,0,null,null),s.addChild("wb_"+i,objWbrowser),objWbrowser.show(),s._webbrowser=objWbrowser,(a=new nexacro.CanvasComponent).init("ttcvs_"+i,0,0,10,10,null,null),e.addChild("ttcvs_"+i,a),a.show(),a.set_visible(!1),objWbrowser.getProperty("document").callMethod("Open","");"<html>\n","<title></title>\n",'<meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n',"<head>\n",'<meta charset="utf-8">\n',"<style>\n","body {\n","\t-ms-overflow-style: none; /* for Internet Explorer, Edge */\n","\tscrollbar-width: none; /* for Firefox */\n","\toverflow-y: scroll; \n","\tfont-family: Arial; \n","}\n","body::-webkit-scrollbar {\n","display: none; /* for Chrome, Safari, and Opera */\n","}\n","* {\n","  margin: 0;\n","  padding: 0;\n","  border: none;\n","  white-space: nowrap;\n","}\t\t\n","div#svg-container img,\n","div#canvas-container img {\n","    max-width: 100%;\n","    height: 100%;\n","}\n",".DxChart_tooltip h2 {\n","    margin: 2px;\n","    font-style: italic;\n","}\n",".DxChart_tooltip table {\n","    border-collapse: collapse;\n","    font-family: Verdana;\n","}\n",".DxChart_tooltip thead th {\n","    font-style: italic;\n","}\n",".DxChart_tooltip th,\n",".DxChart_tooltip td {\n","    padding: 5px;\n","}\n",".DxChart_tooltip td:nth-child(1){\n","    font-style: italic;\n","}\n","@media screen and (max-width: 800px) {\n","    div#canvas-container,\n","    div#svg-container {\n","        float: none !important;\n","        text-align: center !important;\n","    }\n","}\n","</style>\n","</head>\n",'<body style="border:none">\n','<div id="tooltipdiv" name="tooltipdiv" cssclass="tooltipsCssClass" style="left:2px;top:2px">\n',"</div>\n",'<script type="text/javascript">\n','document.body.style.overflow = "hidden";\n','var div = document.getElementById("tooltipdiv"); \n',"function setCss(v) {\n","  div.style.className = v; \n","}\n","function setStyleStr(v1) {\n","  try {; \n","  \tdiv.style.cssText = v1; \n","  }catch(e){}\n","}\n","function setStyle(v1, v2) {\n","  try {; \n","  \tdiv.style[v1] = v2; \n","  }catch(e){}\n","}\n","function setElemStyle(elemid, v1, v2) {\n","  var elem = document.getElementById(elemid); \n","  try {; \n","  \tif(elem) elem.style[v1] = v2; \n","  }catch(e){}\n","}\n","function setHtml(v) {\n","  div.innerHTML = v; \n","}\n","function getCStyle(v) {\n","  var style = div.style.backgroundColor; \n","  return style; \n","}\n","function getDivWidth() {\n","  return div.offsetWidth; \n","}\n","function getDivHeight() {\n","  return div.offsetHeight; \n","}\n","<\/script>\n","</body>\n","</html>",objWbrowser.getProperty("document").callMethod("Write",'<html>\n<title></title>\n<meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n<head>\n<meta charset="utf-8">\n<style>\nbody {\n\t-ms-overflow-style: none; /* for Internet Explorer, Edge */\n\tscrollbar-width: none; /* for Firefox */\n\toverflow-y: scroll; \n\tfont-family: Arial; \n}\nbody::-webkit-scrollbar {\ndisplay: none; /* for Chrome, Safari, and Opera */\n}\n* {\n  margin: 0;\n  padding: 0;\n  border: none;\n  white-space: nowrap;\n}\t\t\ndiv#svg-container img,\ndiv#canvas-container img {\n    max-width: 100%;\n    height: 100%;\n}\n.DxChart_tooltip h2 {\n    margin: 2px;\n    font-style: italic;\n}\n.DxChart_tooltip table {\n    border-collapse: collapse;\n    font-family: Verdana;\n}\n.DxChart_tooltip thead th {\n    font-style: italic;\n}\n.DxChart_tooltip th,\n.DxChart_tooltip td {\n    padding: 5px;\n}\n.DxChart_tooltip td:nth-child(1){\n    font-style: italic;\n}\n@media screen and (max-width: 800px) {\n    div#canvas-container,\n    div#svg-container {\n        float: none !important;\n        text-align: center !important;\n    }\n}\n</style>\n</head>\n<body style="border:none">\n<div id="tooltipdiv" name="tooltipdiv" cssclass="tooltipsCssClass" style="left:2px;top:2px">\n</div>\n<script type="text/javascript">\ndocument.body.style.overflow = "hidden";\nvar div = document.getElementById("tooltipdiv"); \nfunction setCss(v) {\n  div.style.className = v; \n}\nfunction setStyleStr(v1) {\n  try {; \n  \tdiv.style.cssText = v1; \n  }catch(e){}\n}\nfunction setStyle(v1, v2) {\n  try {; \n  \tdiv.style[v1] = v2; \n  }catch(e){}\n}\nfunction setElemStyle(elemid, v1, v2) {\n  var elem = document.getElementById(elemid); \n  try {; \n  \tif(elem) elem.style[v1] = v2; \n  }catch(e){}\n}\nfunction setHtml(v) {\n  div.innerHTML = v; \n}\nfunction getCStyle(v) {\n  var style = div.style.backgroundColor; \n  return style; \n}\nfunction getDivWidth() {\n  return div.offsetWidth; \n}\nfunction getDivHeight() {\n  return div.offsetHeight; \n}\n<\/script>\n</body>\n</html>'),objWbrowser.getProperty("document").callMethod("Close")}var a=e.components["ttcvs_"+i];return[s,a]},DxChart.showTooltip=function(objParam){DxChart._tooltipFlag=!0;var args=objParam,arrStyleValue={display:"display",position:"position",padding:"padding",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",textAlign:"text-align",overflow:"overflow",left:"left",top:"top",backgroundColor:"background-color",color:"color",visibility:"visibility",zIndex:"z-index",borderRadius:"border-radius",boxShadow:"box-shadow",border:"border",opacity:"opacity",lineHeight:"line-height",transition:"transition"};if(DxChart.SHOW_TOOLTIP_TIMER&&(isNexacroRuntime?DxChart.SHOW_TOOLTIP_TIMER.stop():clearTimeout(DxChart.SHOW_TOOLTIP_TIMER)),0!==DxChart.trim(args.text).length){if(DxChart._fireEvent(args.object,"onbeforetooltip"),"function"==typeof args.object.get("tooltipsOverride"))return args.object.get("tooltipsOverride")(args.object,args.text,args.x,args.y,args.index);var originalX=args.x,originalY=args.y;args.text=DxChart.getTooltipTextFromDIV(args.text);var timers=DxChart.Registry.get("tooltip.timers"),tooltipObj,objDiv,objWbrowser,objNXCanvas;if(timers&&timers.length)for(var i=0;i<timers.length;++i)isNexacroRuntime?timers[i].stop():clearTimeout(timers[i]);DxChart.Registry.set("tooltip.timers",[]),args.object.get("contextmenu")&&DxChart.hideContext(),"string"!=typeof args.object.get("tooltipsCssClass")&&args.object.set("tooltipsCssClass","DxChart_tooltip");var sNexaBorder="",sNexaShadow="";if(isNexacroRuntime){var arrObj=DxChart.makeTooltipRuntime(args.object),objDiv=arrObj[0],objNXCanvas=arrObj[1];objDiv.bringToFront(),objNXCanvas.bringToFront(),objWbrowser=objDiv._webbrowser,tooltipObj=objDiv}else{var tooltipObj=document.getElementById("__DxChart_tooltip__");tooltipObj?(DxChart.tooltips.style.left=parseInt(tooltipObj.style.left.replace("px","")),DxChart.tooltips.style.top=parseInt(tooltipObj.style.top.replace("px",""))):(tooltipObj=document.createElement("DIV"),tooltipObj.id="__DxChart_tooltip__",document.body.appendChild(tooltipObj),tooltipObj.addEventListener("mouseenter",function(){tooltipObj.style.visibility="visible",tooltipObj.style.display="inline-block"}),tooltipObj.addEventListener("mousemove",function(){tooltipObj.style.visibility="visible",tooltipObj.style.display="inline-block"})),tooltipObj.innerHTML="",tooltipObj.style.width="10px",tooltipObj.style.height="10px",tooltipObj.className=args.object.get("tooltipsCssClass"),tooltipObj.style.zIndex=1500012}if(isNexacroRuntime){var arrStyleData={},specific;for(var i in DxChart.tooltips.style)"string"==typeof i&&("borderRadius"==i?objDiv.set_borderRadius(DxChart.tooltips.style[i]+" "+DxChart.tooltips.style[i]):"border"==i?sNexaBorder=DxChart.tooltips.style[i]:"boxShadow"==i?sNexaShadow=DxChart.tooltips.style[i]:arrStyleData[i]=DxChart.tooltips.style[i]);for(var i in DxChart.tooltips.css)"string"==typeof i&&("borderRadius"==i?objDiv.set_borderRadius(DxChart.tooltips.css[i]+" "+DxChart.tooltips.css[i]):"border"==i?sNexaBorder=DxChart.tooltips.css[i]:"boxShadow"==i?sNexaShadow=DxChart.tooltips.css[i]:arrStyleData[i]=DxChart.tooltips.css[i]);if(!DxChart.isNull(args.object.properties.tooltipsCss))for(var i in"line"==args.object.type&&"function"==typeof args.object.tooltipSubstitutions&&(specific=args.object.tooltipSubstitutions({index:args.index})),args.object.properties.tooltipsCss)if("string"==typeof i)if("borderRadius"==i)objDiv.set_borderRadius(args.object.properties.tooltipsCss[i]+" "+args.object.properties.tooltipsCss[i]);else if("border"==i)sNexaBorder=args.object.properties.tooltipsCss[i];else if("boxShadow"==i)sNexaShadow=args.object.properties.tooltipsCss[i];else{var val=args.object.properties.tooltipsCss[i],idx=args.index;DxChart.isArray(val)&&("line"==args.object.type&&specific&&val[specific.dataset]?val=val[specific.dataset]:(val.length-1<idx&&(idx%=val.length),val=val[idx])),arrStyleData[i]=val}var strStyle="left:2px;top:2px;";for(var Style in arrStyleData)"opacity"==Style&&0==arrStyleData[Style]||(strStyle=arrStyleValue[Style]?strStyle+arrStyleValue[Style]+":"+arrStyleData[Style]+";":strStyle+Style+":"+arrStyleData[Style]+";");objWbrowser.getProperty("window").callMethod("setStyleStr",strStyle),"slide"===args.object.properties.tooltipsEffect&&(tooltipObj&&tooltipObj.set_left("string"==typeof DxChart.tooltip_slide_effect_previous_x_coordinate?DxChart.tooltip_slide_effect_previous_x_coordinate:0),tooltipObj&&tooltipObj.set_top("string"==typeof DxChart.tooltip_slide_effect_previous_y_coordinate?DxChart.tooltip_slide_effect_previous_y_coordinate:0))}else{for(var i in DxChart.tooltips.style)"string"==typeof i&&("border"==i&&(sNexaBorder=DxChart.tooltips.style[i]),tooltipObj.style[i]=substitute(DxChart.tooltips.style[i],args.object,args));for(var i in DxChart.tooltips.css)"string"==typeof i&&(tooltipObj.style[i]=substitute(DxChart.tooltips.css[i],args.object,args));var specific;if(!DxChart.isNull(args.object.properties.tooltipsCss))for(var i in"line"==args.object.type&&"function"==typeof args.object.tooltipSubstitutions&&(specific=args.object.tooltipSubstitutions({index:args.index})),args.object.properties.tooltipsCss)if("string"==typeof i){"border"==i&&(sNexaBorder=args.object.properties.tooltipsCss[i]);var val=args.object.properties.tooltipsCss[i],idx=args.index;DxChart.isArray(val)&&("line"==args.object.type&&specific&&val[specific.dataset]?val=val[specific.dataset]:(val.length-1<idx&&(idx%=val.length),val=val[idx])),tooltipObj.style[i]=substitute(val,args.object,args)}"slide"===args.object.properties.tooltipsEffect&&(tooltipObj.style.left="string"==typeof DxChart.tooltip_slide_effect_previous_x_coordinate?DxChart.tooltip_slide_effect_previous_x_coordinate:0,tooltipObj.style.top="string"==typeof DxChart.tooltip_slide_effect_previous_y_coordinate?DxChart.tooltip_slide_effect_previous_y_coordinate:0)}var nNexaBorder=3,origIdx;if(isNexacroRuntime){""==sNexaBorder&&(sNexaBorder="1px solid "+DxChart.tooltips.style.backgroundColor);var arrBorder=sNexaBorder.split("px");if(nNexaBorder=parseInt(arrBorder[0])+2,objDiv._webbrowser.set_left(-nNexaBorder),objDiv._webbrowser.set_top(-nNexaBorder),objDiv.set_border(sNexaBorder),""!=sNexaShadow&&"none"!=sNexaShadow){var arrShrdow=sNexaShadow.split(" ");if(arrShrdow[3])var acolorx=DxChart._rgba2hex(arrShrdow[3]);objDiv.set_boxShadow(arrShrdow[0]+"px "+arrShrdow[1]+"px "+arrShrdow[2]+" "+acolorx[0])}}if(tooltipObj.__original_text__=args.text,args.text=substitute(args.text,args.object,args),!isNexacroRuntime&&args.object.properties.tooltipsPointer&&(args.text+='<div id="DxChart_tooltipsPointer"></div><div id="DxChart_tooltipsPointerDummy"></div>'),!isNexacroRuntime&&args.object.properties.tooltipsPointer&&(DxChart.isNull(args.object.properties.tooltipsPointerCss)||setTimeout(function(){var t=document.getElementById("DxChart_tooltipsPointer");for(var e in args.object.properties.tooltipsPointerCss)"string"==typeof e&&(t.style[e]=substitute(args.object.properties.tooltipsPointerCss[e],args.object,args))},50)),isNexacroRuntime?objWbrowser.getProperty("window").callMethod("setHtml",args.text):tooltipObj.innerHTML=args.text,tooltipObj.__text__=args.text,tooltipObj.__canvas__=args.object.canvas,tooltipObj.__event__=args.object.get("tooltipsEvent")||"click",tooltipObj.__object__=args.object,args.object.properties.tooltipsPointer&&(isNexacroRuntime||setTimeout(function(){var t=document.getElementById("DxChart_tooltipsPointer"),e=window.getComputedStyle(tooltipObj,!1);t&&(t.style.backgroundColor=e.backgroundColor,t.style.color="transparent",t.style.position="absolute",t.style.bottom="-4px",t.style.left="50%",t.style.zIndex=1510002,t.style.transform="translateX(-50%) rotate(45deg)",t.style.width="10px",t.style.height="10px"),(t=document.getElementById("DxChart_tooltipsPointerDummy"))&&(t.style.backgroundColor=e.backgroundColor,t.style.color="transparent",t.style.position="absolute",t.style.bottom="0px",t.style.left="10%",t.style.width="80%",t.style.zIndex=1511002,t.style.height="8px")},16.666)),"number"==typeof args.index&&(tooltipObj.__index__=args.index,origIdx=args.index),"line"===args.object.type||"radar"===args.object.type){for(var ds=0;ds<args.object.data.length&&args.index>=args.object.data[ds].length;++ds)args.index-=args.object.data[ds].length;tooltipObj.__dataset__=ds,tooltipObj.__index2__=args.index}isNexacroRuntime||document.body.appendChild(tooltipObj);var width=tooltipObj.offsetWidth,height=tooltipObj.offsetHeight;try{width=Math.max(width,tooltipObj.scrollWidth),height=Math.max(height,tooltipObj.scrollHeight)}catch(t){}if(width+=5,height+=10,!isNexacroRuntime&&sNexaBorder){var arrBorder=sNexaBorder.split("px");nNexaBorder=parseInt(arrBorder[0]),width+=2*nNexaBorder,height+=2*nNexaBorder}if(isNexacroRuntime?(width=objWbrowser.getProperty("window").callMethod("getDivWidth"),height=objWbrowser.getProperty("window").callMethod("getDivHeight"),tooltipObj.set_width(width),tooltipObj.set_height(height),objWbrowser.set_width(width+2*nNexaBorder),objWbrowser.set_height(height+2*nNexaBorder)):(tooltipObj.style.width=width+"px",tooltipObj.style.height=height+"px"),!isNexacroRuntime&&args.object.properties.tooltipsPointer){var styles=window.getComputedStyle(tooltipObj,!1),pointer=document.getElementById("DxChart_tooltipsPointer");pointer&&(pointer.style.backgroundColor=styles["background-color"]),tooltipObj.__pointer__=pointer;var tooltipsPointerCss="";if(args.object.properties.tooltipsPointerCss){var pointerDiv=document.getElementById("DxChart_tooltipsPointer");for(property in args.object.properties.tooltipsPointerCss)"string"==typeof property&&(pointerDiv.style[property]=args.object.properties.tooltipsPointerCss[property])}}if(args.object.properties.tooltipsOffsetX=args.object.properties.tooltipsOffsetX||0,args.object.properties.tooltipsOffsetY=args.object.properties.tooltipsOffsetY||0,isNexacroRuntime&&tooltipObj){if(tooltipObj.set_left(args.event.pageX-(0+width/2)+args.object.properties.tooltipsOffsetX),tooltipObj.set_top(args.event.pageY-height-10+args.object.properties.tooltipsOffsetY),parseFloat(tooltipObj.getOffsetLeft())<=5&&tooltipObj.set_left(5+args.object.properties.tooltipsOffsetX),parseFloat(tooltipObj.getOffsetTop())<=5&&tooltipObj.set_top(5+args.object.properties.tooltipsOffsetY),tooltipObj.getOffsetRight()>args.object.canvas.getOffsetRight()){var nGap=tooltipObj.getOffsetRight()-args.object.canvas.getOffsetRight();tooltipObj.set_left(tooltipObj.getOffsetLeft()-nGap)}tooltipObj.set_visible(!0)}else tooltipObj.style.left=args.event.pageX-(parseFloat(tooltipObj.style.paddingLeft)+width/2)+args.object.properties.tooltipsOffsetX+"px",tooltipObj.style.top=args.event.pageY-height-10+args.object.properties.tooltipsOffsetY+"px",parseFloat(tooltipObj.style.left)<=5&&(tooltipObj.style.left=5+args.object.properties.tooltipsOffsetX+"px"),parseFloat(tooltipObj.style.top)<=5&&(tooltipObj.style.top=5+args.object.properties.tooltipsOffsetY+"px"),parseFloat(tooltipObj.style.left)+parseFloat(tooltipObj.style.width)>window.innerWidth&&(tooltipObj.style.left="",tooltipObj.style.right=5+args.object.properties.tooltipsOffsetX+"px");args.object.properties.tooltipsPositionStatic&&"function"==typeof args.object.positionTooltipStatic&&args.object.positionTooltipStatic({object:args.object,event:args.event,tooltip:tooltipObj,index:origIdx});var bLeftZero=!1;if(isNexacroRuntime?tooltipObj.getOffsetLeft()<0&&(bLeftZero=!0):parseInt(tooltipObj.style.left)<0&&(bLeftZero=!0),bLeftZero)if(isNexacroRuntime){var left=parseInt(tooltipObj.getOffsetLeft()),width=parseInt(tooltipObj.getOffsetWidth());left+=.1*width*4,tooltipObj.set_left(left)}else{var left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width);left+=.1*width*4,tooltipObj.style.left=left+"px";var pointer=document.getElementById("DxChart_tooltipsPointer");!function(t){setTimeout(function(){t&&(t.style.left="calc(10% + 5px)")},25)}(pointer)}else if(isNexacroRuntime){if(tooltipObj.getOffsetRight()>args.object.canvas.getOffsetRight()){var left=parseInt(tooltipObj.getOffsetLeft()),width=parseInt(tooltipObj.getOffsetWidth()),nGap=tooltipObj.getOffsetRight()-args.object.canvas.getOffsetRight();tooltipObj.set_left(tooltipObj.getOffsetLeft()-nGap)}}else if(parseInt(tooltipObj.style.left)+parseInt(tooltipObj.offsetWidth)>document.body.offsetWidth){var left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width);left-=.1*width*4,tooltipObj.style.left=left+"px";var pointer=document.getElementById("DxChart_tooltipsPointer");!function(t){setTimeout(function(){t&&(t.style.left="calc(90% - 5px)")},25)}(pointer)}if(isNexacroRuntime||DxChart.isFixed(args.object.canvas)&&(tooltipObj.style.position="fixed"),isNexacroRuntime){if(tooltipObj.getOffsetTop()>=0)tooltipObj._upposition=!0;else{tooltipObj._upposition=!1;var nGap=args.object.canvas.width-(tooltipObj.left+tooltipObj.width);tooltipObj.set_top(args.event.pageY-tooltipObj.getOffsetHeight()-30)}if(tooltipObj.left+tooltipObj.width>=args.object.canvas.width){var nGap=args.object.canvas.width-(tooltipObj.left+tooltipObj.width);tooltipObj.set_left(tooltipObj.getOffsetLeft()-nGap-10)}if(args.object.properties.tooltipsPointer){var bgcolor=DxChart.tooltips.style.backgroundColor;args.object.properties.tooltipsPointerCss&&args.object.properties.tooltipsPointerCss.backgroundColor?bgcolor=args.object.properties.tooltipsPointerCss.backgroundColor:args.object.properties.tooltipsCss&&args.object.properties.tooltipsCss.backgroundColor&&(bgcolor=args.object.properties.tooltipsCss.backgroundColor);var border=DxChart.tooltips.style.border;args.object.properties.tooltipsPointerCss&&args.object.properties.tooltipsPointerCss.border?border=args.object.properties.tooltipsPointerCss.border:args.object.properties.tooltipsCss&&args.object.properties.tooltipsCss.border&&(border=args.object.properties.tooltipsCss.border);var borderLine=1;border&&""!=border&&(borderLine=parseInt(border.split("px")[0])),DxChart.drawRuntimeToolTipPointer(args.object,tooltipObj,objNXCanvas,bgcolor,border),objNXCanvas.set_left(tooltipObj.getOffsetLeft()+width/2-5),tooltipObj._upposition?objNXCanvas.set_top(tooltipObj.getOffsetTop()+height-borderLine):objNXCanvas.set_top(tooltipObj.getOffsetTop()-10+borderLine),objNXCanvas.set_visible(!0)}else objNXCanvas.set_visible(!1)}if("fade"===args.object.get("tooltipsEffect")){if(!isNexacroRuntime)for(var i=1;i<=10;++i)!function(t){isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(args.object.canvas.parent,function(){tooltipObj.set_opacity(t/10)},25*t):setTimeout(function(){tooltipObj.style.opacity=t/10},25*t)}(i)}else isNexacroRuntime?tooltipObj.set_opacity(1):tooltipObj.style.opacity=1;if(isNexacroRuntime||(tooltipObj.onmousedown=function(t){t.stopPropagation()},tooltipObj.onmouseup=function(t){t.stopPropagation()},tooltipObj.onclick=function(t){0==t.button&&t.stopPropagation()}),DxChart.Registry.set("tooltip",tooltipObj),isNexacroRuntime)DxChart.Registry.set("tooltipPointer",objNXCanvas);else if(args.object.properties.tooltipsPointer){var pointer=tooltipObj.getElementsByTagName("div")[0];DxChart.Registry.set("tooltipPointer",pointer)}"slide"===args.object.properties.tooltipsEffect&&(DxChart.tooltip_slide_effect_previous_x_coordinate=isNexacroRuntime?tooltipObj.getOffsetLeft():tooltipObj.style.left,DxChart.tooltip_slide_effect_previous_y_coordinate=isNexacroRuntime?tooltipObj.getOffsetTop():tooltipObj.style.top),DxChart._fireEvent(args.object,"ontooltip")}function substitute(original,VObj,args){original=String(original);var prop=VObj.properties,properties=VObj.properties;if("function"!=typeof VObj.tooltipSubstitutions)return original;var specific={};"function"==typeof VObj.tooltipSubstitutions&&(specific=VObj.tooltipSubstitutions({index:args.index}));var text=original.replace(/%%/g,"___--PERCENT--___");if(specific.values){var defaultStyleStr="";for(var property in properties.tooltipsFormattedKeyColorsCss)if("string"==typeof property){if("opacity"==property&&0==properties.tooltipsFormattedKeyColorsCss[property])continue;arrStyleValue[property]?defaultStyleStr+=arrStyleValue[property]+":"+properties.tooltipsFormattedKeyColorsCss[property]+";":defaultStyleStr+=property+":"+properties.tooltipsFormattedKeyColorsCss[property]+";"}for(var colors=properties.tooltipsFormattedKeyColors?properties.tooltipsFormattedKeyColors:properties.colors,i=0,str=[];i<specific.values.length;++i){var value="object"==typeof specific.values&&"number"==typeof specific.values[i]?specific.values[i]:0,color=properties.colorsSequential?colors[args.index]:colors[i];"heatmap"==args.object.type&&(color=specific.colors[i]);var label="object"==typeof properties.tooltipsFormattedKeyLabels&&"string"==typeof properties.tooltipsFormattedKeyLabels[i]?properties.tooltipsFormattedKeyLabels[i]:"";if("function"==typeof VObj.tooltipsFormattedCustom){var ret=VObj.tooltipsFormattedCustom(specific,i,colors);if(ret.continue)continue;ret&&("string"==typeof ret.label&&(label=ret.label),ret.color&&(color=ret.color),"number"==typeof ret.value&&(value=ret.value))}value=DxChart.numberFormat({object:VObj,number:value.toFixed(VObj.properties.tooltipsFormattedDecimals),thousand:VObj.properties.tooltipsFormattedThousand||",",point:VObj.properties.tooltipsFormattedPoint||".",unitspre:VObj.properties.tooltipsFormattedUnitsPre||"",unitspost:VObj.properties.tooltipsFormattedUnitsPost||""});var borderRadius=0;"string"==typeof VObj.properties.tooltipsFormattedKeyColorsShape&&"circle"===VObj.properties.tooltipsFormattedKeyColorsShape&&(borderRadius="100px"),DxChart.ISIE?str[i]='<tr><td><div id="DxChart_tooltipsFormattedKeyColor_'+i+'" style="position:relative;':str[i]='<tr><td><div id="DxChart_tooltipsFormattedKeyColor_'+i+'" style="position:initial;',str[i]=str[i]+"text-align:left;",str[i]=str[i]+"background-color:"+color+";",str[i]=str[i]+"color:transparent;",str[i]=str[i]+"pointer-events:none;",str[i]=str[i]+"border-radius:"+borderRadius+";",str[i]=str[i]+defaultStyleStr+'" class="DxChart_tooltipsFormattedKeyColor">&nbsp;&nbsp;&nbsp;&nbsp;</div></td><td id="DxChart_tooltipsFormattedKeyLabel_'+i+'" style="text-align:left;">',str[i]=str[i]+"<span>"+label+"</span> "+value+"</td></tr>"}str=str.join(""),text=text.replace("%{key}",'<table id="DxChart_tooltip_key" style="color: inherit;overflow:visible;position:relative;" class="DxChart_tooltip_key DxChart_tooltip_key">'+str+"</table>")}text=text.replace(/%{index}/g,specific.index),text=text.replace(/%{dataset2}/g,specific.dataset2),text=text.replace(/%{dataset}/g,specific.dataset),text=text.replace(/%{group2}/g,specific.dataset2),text=text.replace(/%{group}/g,specific.dataset),text=text.replace(/%{sequential_index}/g,specific.sequentialIndex),text=text.replace(/%{seq}/g,specific.sequentialIndex),-1!==text.indexOf("%{list}")&&function(){"unordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"<ul>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"ordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol"),"<ol>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol");var t="ol"===properties.tooltipsFormattedListType?'<ol id="DxChart_formatted_tooltips_list">':'<ul id="DxChart_formatted_tooltips_list">',e=properties.tooltipsFormattedListItems[specific.sequentialIndex];if(e&&e.length)for(var i=0;i<e.length;++i)t+="<li>"+e[i]+"</li>";t+="ol"===properties.tooltipsFormattedListType?"</ol>":"</ul>",text=text.replace(/%{list}/,t)}(),-1!==text.indexOf("%{table}")&&function(){var t="<table>";if(properties.tooltipsFormattedTableHeaders&&properties.tooltipsFormattedTableHeaders.length){t+="<thead><tr>";for(var e=0;e<properties.tooltipsFormattedTableHeaders.length;++e)t+="<th>"+properties.tooltipsFormattedTableHeaders[e]+"</th>";t+="</tr></thead>"}if("object"==typeof properties.tooltipsFormattedTableData&&!DxChart.isNull(properties.tooltipsFormattedTableData)){t+="<tbody>";for(e=0;e<properties.tooltipsFormattedTableData[specific.sequentialIndex].length;++e){t+="<tr>";for(var i=0;i<properties.tooltipsFormattedTableData[specific.sequentialIndex][e].length;++i)t+="<td>"+String(properties.tooltipsFormattedTableData[specific.sequentialIndex][e][i])+"</td>";t+="</tr>"}t+="</tbody>"}t+="</table>",text=text.replace(/%{table}/g,t)}();for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2);text=VObj.properties[property]?text.replace(reg,VObj.properties[property][index]||""):text.replace(reg,""),RegExp.lastIndex=null}if("gantt"==VObj.type){var value=specific.value;text.match(/%{start}/i)&&(text=properties.tooltipsDateFormat?text.replace("%{start}",DxChart.getMaskString("date",properties.tooltipsDateFormat,new Date(value.start))):text.replace("%{start}",value.start)),text.match(/%{end}/i)&&(text=properties.tooltipsDateFormat?text.replace("%{end}",DxChart.getMaskString("date",properties.tooltipsDateFormat,new Date(value.end))):text.replace("%{end}",value.end)),text.match(/%{duration}/i)&&(text=properties.tooltipsDateFormat?text.replace("%{duration}",DxChart.getMaskString("date",properties.tooltipsDateFormat,new Date(value.duration))):text.replace("%{duration}",value.duration)),text.match(/%{complete}/i)&&(text=text.replace("%{complete}",value.complete)),text.match(/%{label}/i)&&(text=text.replace("%{label}",value.label))}if(specific&&text.match(/%{custom}/i)&&"function"==typeof VObj.properties.tooltipsFormattedCustom){var ret=VObj.properties.tooltipsFormattedCustom(specific,args.index);ret.label&&(text=text.replace("%{custom}",ret.label))}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,VObj.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,VObj.properties[RegExp.$1])}if("rose"===VObj.type&&"non-equi-angular"===VObj.properties.variantValue)for(;text.match(/%{value2}/i);)text=text.replace("%{value2}",specific.value2);for(;text.match(/%{value(?:_formatted)?}/i);){var value=specific.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?DxChart.numberFormat({object:VObj,number:value.toFixed(VObj.properties.tooltipsFormattedDecimals),thousand:VObj.properties.tooltipsFormattedThousand||",",point:VObj.properties.tooltipsFormattedPoint||".",unitspre:VObj.properties.tooltipsFormattedUnitsPre||"",unitspost:VObj.properties.tooltipsFormattedUnitsPost||""}):null):text.replace("%{value}",value)}if(!isNexacroRuntime){for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");DxChart.Registry.set("tooltip-templates-function-object",VObj);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\|CR\|/," "),text=text.replace(/\|LF\|/," "),text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text.toString()}},DxChart.getTooltipTextFromDIV=function(){var t=DxChart.getArgs(arguments,"text"),e=/^id:(.*)/.exec(t.text);return isNexacroRuntime?e&&e[1]&&(t.text=""):e&&e[1]&&document.getElementById(e[1])?t.text=document.getElementById(e[1]).innerHTML:e&&e[1]&&(t.text=""),t.text},DxChart.getTooltipWidth=function(){var t=DxChart.getArgs(arguments,"text,object"),e=document.createElement("DIV");return e.className=t.object.get("tooltipsCssClass"),e.style.paddingLeft=DxChart.tooltips.padding,e.style.paddingRight=DxChart.tooltips.padding,e.style.fontFamily=DxChart.tooltips.font_face,e.style.fontSize=DxChart.tooltips.font_size,e.style.visibility="hidden",e.style.position="absolute",e.style.top="300px",e.style.left=0,e.style.display="inline",e.innerHTML=DxChart.getTooltipTextFromDIV(t.text),document.body.appendChild(e),e.offsetWidth},DxChart._timerHideTooltip=function(t){var e;if(t){if(e=DxChart.Registry.get("tooltip")){var i=t.canvas,s=1e3;"fade"===t.get("tooltipsEffect")&&(s=500),DxChart._tooltipFlag=!1;var a=function(){0==DxChart._tooltipFlag&&DxChart.hideTooltip(t)};isNexacroRuntime?i._refform&&nexacro._OnceCallbackTimer.callonce(i._refform,a,s):setTimeout(a,s)}}else if((e=DxChart.Registry.get("tooltip"))&&1==DxChart._tooltipFlag){if(isNexacroRuntime){e.set_visible(!1);var o=DxChart.Registry.get("tooltipPointer");o&&o.set_visible(!1)}else e.style.display="none",e.style.visibility="hidden",setTimeout(function(){e.style.display="none",e.style.visibility="hidden"},5);DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null),DxChart._tooltipFlag=!1}},DxChart.hideTooltip=function(t){var e=DxChart.Registry.get("tooltip"),i=arguments[0]&&arguments[0].uid?arguments[0].uid:null;if(e&&(isNexacroRuntime||e.parentNode)&&(!i||i==e.__canvas__.uid)){var s=e.__object__;for(var a in e)"DxChart_"===a.substr(0,7)&&delete e[a];if(isNexacroRuntime){if(DxChart._runtimeQueue=[],s&&"fade"===s.get("tooltipsEffect"))for(a=10;a>=0;--a)!function(t){nexacro._OnceCallbackTimer.callonce(s.canvas.parent,function(){1!=DxChart._tooltipFlag&&(e.set_opacity(t/10),0==t&&e.set_visible(!1))},25)}(a);else e.set_visible(!1);var o=DxChart.Registry.get("tooltipPointer");return o&&o.set_visible(!1),DxChart.Registry.set("tooltip",null),void DxChart.Registry.set("tooltipPointer",null)}if(s&&"fade"===s.get("tooltipsEffect"))for(a=10;a>=0;--a)!function(t){setTimeout(function(){1!=DxChart._tooltipFlag&&(e.style.opacity=t/10,0==t&&(e.style.display="none",e.style.visibility="hidden",DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null)))},25)}(a);else{if(1==DxChart._tooltipFlag)return;e.style.display="none",e.style.visibility="hidden",DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null)}}},DxChart.preLoadTooltipImages=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.get("tooltips");if(DxChart.hasTooltips(t.object)){if("rscatter"==t.object.type){e=[];for(var i=0;i<t.object.data.length;++i)e.push(t.object.data[3])}for(i=0;i<e.length;++i){var s=document.createElement("div");s.style.position="absolute",s.style.opacity=0,s.style.top="-100px",s.style.left="-100px",s.innerHTML=e[i],document.body.appendChild(s);for(var a=s.getElementsByTagName("IMG"),o=0;o<a.length;++o)if(a&&a[i]){var r=document.createElement("img");r.style.position="absolute",r.style.opacity=0,r.style.top="-100px",r.style.left="-100px",r.src=a[i].src,document.body.appendChild(r),setTimeout(function(){document.body.removeChild(r)},250)}document.body.removeChild(s)}}},DxChart.drawRuntimeToolTipPointer=function(t,e,i,s,a){if(t.properties.tooltipsPointer){var o=i._canvas;a&&""!=a||(a="1px solid "+s);var r=a.split(" ")[2],n=parseInt(a.split("px")[0]);o.clearRect(0,0,10,10),e._upposition&&(o.beginPath(),o.moveTo(0,0),o.lineTo(10,0),o.lineTo(5,5),o.lineTo(0,0),o.setElementFillStyle(s),o.fill(),o.beginPath(),o.setElementLineWidth(n),o.moveTo(0,0),o.lineTo(5,5),o.lineTo(10,0),o.setElementStrokeStyle(r),o.stroke(),o.closePath())}},DxChart.setToolTipBackColor=function(t,e){var i=DxChart.Registry.get("tooltip"),s=DxChart.Registry.get("tooltipPointer"),a=t.get("colors")[i.__dataset__];if(e&&e[i.__dataset__]&&(a=e[i.__dataset__]),a){if(i.borderRadius&&""!=i.borderRadius&&i.set_border("1px solid "+a),isNexacroRuntime)return void DxChart.drawRuntimeToolTipPointer(t,i,s,a);i.style.backgroundColor=a,t.properties.tooltipsPointer&&(s.style.backgroundColor=a)}},DxChart.tooltips_mousemove=function(){var t=DxChart.getArgs(arguments,"object,event"),e=t.object.getShape(t.event),i=!1;if(e&&"number"==typeof e.index&&t.object.get("tooltips")[e.index])(s=DxChart.parseTooltipText(t.object.get("tooltips"),e.index))&&(i=!0,"onmousemove"===t.object.get("tooltipsEvent")&&(DxChart.Registry.get("tooltip")&&DxChart.Registry.get("tooltip").__object__.uid==t.object.uid&&DxChart.Registry.get("tooltip").__index__==e.index||(DxChart._timerHideTooltip(),DxChart.clear(t.object.canvas),DxChart.redraw(),DxChart.tooltip(t.object,s,t.event.pageX,t.event.pageY,e.index),t.object.highlight(e))));else if(e&&"number"==typeof e.index){var s;(s=DxChart.parseTooltipText(t.object.get("tooltips"),e.index))&&(i=!0)}return i}}(window,document),DxChart.CombinedChart=function(){this.objects=[];var t=[];if(DxChart.isArray(arguments[0]))t=arguments[0];else for(var e=0;e<arguments.length;e+=1)t[e]=arguments[e];for(e=0;e<t.length;++e){if(this.objects[e]=t[e],this.objects[e].set({marginLeft:this.objects[0].get("marginLeft"),marginRight:this.objects[0].get("marginRight"),marginTop:this.objects[0].get("marginTop"),marginBottom:this.objects[0].get("marginBottom")}),"line"==this.objects[e].type){var i=this.objects[e];i.set("marginInner",(this.objects[0].canvas.width-this.objects[0].get("marginRight")-this.objects[0].get("marginLeft"))/this.objects[0].data.length/2),i.set("yaxisUse",!1),i.set("xaxisUse",!1),i.set("backgroundGrid",!1),i.set("yaxisScale",!1)}if(this.objects[e].get("resizable"))var s=i}if(s){DxChart.addCustomEventListener(s,"onresizebeforedraw",function(t){var e=t.get("marginLeft"),i=t.get("marginRight");t.set("marginInner",(t.canvas.width-e-i)/(2*t.orgData[0].length))})}return this},DxChart.CombinedChart.prototype.add=function(t){return this.objects.push(t),this},DxChart.CombinedChart.prototype.draw=function(){if(DxChart.isArray(this.objects))for(var i=0;i<this.objects.length;++i)if(this.objects[i].properties.combinedEffect){var options=this.objects[i].properties.combinedEffectOptions?eval("("+this.objects[i].properties.combinedEffectOptions+")"):null,callback=this.objects[i].properties.combinedEffectCallback,func=this.objects[i].properties.combinedEffect;this.objects[i][func](options,callback)}else this.objects[i].draw();return this},window)window.DxChart=window.DxChart||{isDxChart:!0};else{var window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0};nexacro.DxChart||(nexacro.DxChart=DxChart);var document={}}function DxChartBackground(t){return DxChart._Base.call(this,t,"drawing.background"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"tooltips"),this.properties.clearto="rgba(0,0,0,0)",this.$0={},this.waterColorSeq=0,this.enableredraw=!0,this.draw=function(){if(0!=this.enableredraw){this.enableredraw=!0;this.properties;return DxChart._BeforeDraw(this),DxChart.drawBackgroundImage(this),DxChart.Background.draw(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1];if(s>=this.marginLeft&&s<=this.canvas.width-this.marginRight&&a>=this.marginTop&&a<=this.canvas.height-this.marginBottom){if(DxChart.parseTooltipText&&e.tooltipsData)var o=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof o?o:null}}return null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("b r % % % % f % s %",e.marginLeft,e.marginTop,this.canvas.width-e.marginLeft-e.marginRight,this.canvas.height-e.marginTop-e.marginBottom,e.highlightFill,e.highlightStroke))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+(this.canvas.width-properties.marginLeft-properties.marginRight)/2+properties.marginLeft-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+(this.canvas.height-properties.marginTop-properties.marginBottom)/2+properties.marginTop-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function BgCrystal(t){var e=t.context,i=t.canvas;if(e&&i){for(var s=i.width,a=i.height,o=[],r=(t.x,t.y,t.md||100),n=t.maxWidth||15,h=t.minWidth||2,l=.9*a,c=.5*a,x=t.maxSpeed||35,d=t.minSpeed||6,u=t.hue||230,g=t.hueDif||50,p=(t.glow,0);p<r;p++)o.push({x:Math.random()*s,y:Math.random()*a/2,h:Math.random()*(l-c)+c,w:Math.random()*(n-h)+h,c:Math.random()*(u+g-(u-g))+(u-g),m:Math.random()*(x-d)+d});for(p=1;p<o.length;p++){e.beginPath();var f=e.createLinearGradient(o[p].x,o[p].y,o[p].x+o[p].w,o[p].y+o[p].h);f.addColorStop(0,DxChart._hex2rgb(this.hslToHex(o[p].c,50,50),0)),f.addColorStop(.2,DxChart._hex2rgb(this.hslToHex(o[p].c+20,50,50),.5)),f.addColorStop(.5,DxChart._hex2rgb(this.hslToHex(o[p].c+50,70,60),.8)),f.addColorStop(.8,DxChart._hex2rgb(this.hslToHex(o[p].c+80,50,50),.5)),f.addColorStop(1,DxChart._hex2rgb(this.hslToHex(o[p].c+100,50,50),0)),e.fillStyle=f,isNexacroRuntime&&e.setElementFillStyle(f),e.fillRect(o[p].x,o[p].y,o[p].w,o[p].h),e.closePath(),e.fill()}return this.hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},this.toHex=function(t){const e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e},this.hslToHex=function(t,e,i){let s,a,o;if(t/=360,i/=100,0===(e/=100))s=a=o=i;else{const r=i<.5?i*(1+e):i+e-i*e,n=2*i-r;s=this.hue2rgb(n,r,t+1/3),a=this.hue2rgb(n,r,t),o=this.hue2rgb(n,r,t-1/3)}return"#"+this.toHex(s)+this.toHex(a)+this.toHex(o)},this}}function BgLamp(t){var e=t.radius||[1,120],i=t.count||70,s=t.blur||[12,70],a=(t.backgroundColors,t.colors||[["#002aff","#009ff2"],["#0054ff","#27e49b"],["#202bc5","#873dcc"]]),o=t.context,r=t.canvas;if(o&&r){for(;i--;){let t=this.rand(e[0],e[1]),i=this.rand(s[0],s[1]),n=this.rand(-100,r.width+100),h=this.rand(-100,r.height+100),l=Math.floor(this.rand(0,299)/100),c=a[l][0],x=a[l][1];o.beginPath(),o.filter="blur("+i+"px)";let d=o.createLinearGradient(n-t/2,h-t/2,n+t,h+t);d.addColorStop(0,c),d.addColorStop(1,x),o.fillStyle=d,isNexacroRuntime&&o.setElementFillStyle(d),o.arc(n,h,t,0,2*Math.PI),o.closePath(),o.fill()}return o.filter="none",this.rand=function(t,e){return Math.random()*(e-t)+t},this}}function BgLine(t,e){var i=t.angle,s=t.speed;return this.angle=[Math.sin(i[0]+=s[0]),Math.sin(i[1]+=s[1]),Math.sin(i[2]+=s[2]),Math.sin(i[3]+=s[3])],this.color=e,this}function BgWave(t){var e=t.options.speed;return this.Waves=t,this.Lines=[],this.rnd_sign=function(){return Math.random()>.5?1:-1},this.rnd=function(t,e){return 1==arguments.length?Math.random()*t:t+Math.random()*(e-t)},this.angle=[this.rnd(DxChart.TWOPI),this.rnd(DxChart.TWOPI),this.rnd(DxChart.TWOPI),this.rnd(DxChart.TWOPI)],this.speed=[this.rnd(e[0],e[1])*this.rnd_sign(),this.rnd(e[0],e[1])*this.rnd_sign(),this.rnd(e[0],e[1])*this.rnd_sign(),this.rnd(e[0],e[1])*this.rnd_sign()],this.update=function(){var t=this.Lines,e=this.Waves.color;t.push(new BgLine(this,e)),t.length>this.Waves.options.width&&t.shift()},this.draw=function(){var t=this.Waves,e=t.ctx,i=t.radius,s=i/3,a=t.centerX,o=t.centerY,r=t.options.rotation*DxChart.PI/180,n=t.options.amplitude,h=this.Lines;this.Waves.Each(h,function(t,h){var l=t.angle,c=a-i*Math.cos(l[0]*n+r),x=o-i*Math.sin(l[0]*n+r),d=a+i*Math.cos(l[3]*n+r),u=o+i*Math.sin(l[3]*n+r),g=a-s*Math.cos(l[1]*n*2),p=o-s*Math.sin(l[1]*n*2),f=a+s*Math.cos(l[2]*n*2),m=o+s*Math.sin(l[2]*n*2);e.strokeStyle=t.color,isNexacroRuntime&&e.setElementStrokeStyle(t.color),e.beginPath(),e.moveTo(c,x),e.bezierCurveTo(g,p,f,m,d,u),e.stroke()})},this}function BgWaves(t){for(var e in this.options={resize:!1,rotation:45,waves:5,width:100,hue:[11,14],amplitude:.5,background:!1,preload:!0,speed:[.004,.008],fps:!1},t)this.options[e]=t[e];null!=this.options.alpha&&null!=this.options.alpha||(this.options.alpha=1),this.waves=[],this.canvas=t.canvas,this.ctx=t.ctx,this.parentNode=t.parentNode;var i=this.canvas.width,s=this.canvas.height;return t.parentNode.adjustSpace.b,t.parentNode.adjustSpace.y,this.scale=1,this.width=i*this.scale,this.height=s*this.scale,this.radius=Math.sqrt(Math.pow(i,2)+Math.pow(s,2))/2,this.centerX=t.parentNode.adjustSpace.x+i/2,this.centerY=t.parentNode.adjustSpace.y+s/2,this.hue=this.options.hue[0],this.hueFw=!0,this.init=function(t){for(var e=this.options,i=0;i<e.waves;i++)this.waves[i]=new BgWave(this);t&&this.preload()},this.background=function(){var t=this.options.backColor1||"#000000",e=this.options.backColor2||this.color;this.ctx.globalAlpha=1;var i="linear-gradient(to bottom,"+t+" 0%,"+e+" 100%)";this.ctx.fillStyle=DxChart.parseGradient(this.parentNode,i,0,0,this.width,this.height),isNexacroRuntime&&this.ctx.setElementFillStyle(this.ctx.fillStyle),this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalAlpha=this.options.alpha,isNexacroRuntime&&this.ctx.setElementGlobalAlpha(this.options.alpha)},this.preload=function(){for(var t=this.options,e=0;e<t.waves;e++){this.updateColor();for(var i=0;i<t.width;i++)this.waves[e].update()}},this.updateColor=function(){this.hue+=this.hueFw?.01:-.01,this.hue>this.options.hue[1]&&this.hueFw?(this.hue=this.options.hue[1],this.Waves=!1):this.hue<this.options.hue[0]&&!this.hueFw&&(this.hue=this.options.hue[0],this.Waves=!0);var t=Math.floor(127*Math.sin(.3*this.hue+0)+128),e=Math.floor(127*Math.sin(.3*this.hue+2)+128),i=Math.floor(127*Math.sin(.3*this.hue+4)+128);this.color="rgba("+t+","+e+","+i+", 0.1)"},this.Each=function(t,e){for(var i=0;i<t.length;i++)e(t[i],i)},this.render=function(){this.ctx,this.options;this.updateColor(),this.options.background&&this.background(),this.Each(this.waves,function(t,e){t.update(),t.draw()})},this.init(this.options.preload),this}function BgBall(t){for(var e in this.ctx=t.context,t)this[e]=t[e];return this.startColor=t.startColor,this.endColor=t.endColor,this.r=100+100*Math.random(),this.pos={x:Math.random()*this.parentNode.adjustSpace.r,y:Math.random()*this.parentNode.adjustSpace.b},this.pos.x<this.parentNode.x&&(this.pos.x=this.parentNode.adjustSpace.x),this.pos.y<this.parentNode.y&&(this.pos.y=this.parentNode.adjustSpace.y),this.pos.x>this.parentNode.r&&(this.pos.x=this.parentNode.adjustSpace.r),this.pos.y>this.parentNode.b&&(this.pos.y=this.parentNode.adjustSpace.b),this.direction={x:2*Math.random()-1,y:2*Math.random()-1},this.activePos={x:this.pos.x,y:this.pos.y},this.randomColor=function(){var t=function(){return DxChart.random(0,255,0)};return"rgba("+t()+","+t()+","+t()+")"},this.gradientBg=function(t,e,i){var s,a=t-i/3,o=e-i/7;if(DxChart.ISIE&&(a=t-(i/=3)/3,o=e-i/7),isNexacroRuntime){this.ctx.save(),this.ctx.translate(t,e);var r=i,n=i,h="radial-gradient("+(this.startColor||DxChart._rgba2hex(this.randomColor())[0])+","+(this.endColor||DxChart._rgba2hex(this.randomColor())[0])+")";s=DxChart.parseRadialGradientInfo(this.parentNode,h,r,n,0,r,n,2*i)}else{s=this.ctx.createRadialGradient(a,o,0,t,e,i);try{s.addColorStop(0,this.startColor||this.randomColor()),s.addColorStop(.95,this.endColor||this.randomColor())}catch(t){}}return s},this.draw=function(){this.color=this.gradientBg(this.activePos.x,this.activePos.y,this.r),this.ctx.fillStyle=this.color,isNexacroRuntime&&this.ctx.setElementFillStyle(this.color),this.ctx.beginPath(),isNexacroRuntime?this.ctx.arc(this.r,this.r,this.r,0,2*Math.PI):this.ctx.arc(this.activePos.x,this.activePos.y,this.r,0,2*Math.PI),this.ctx.fill(),isNexacroRuntime&&this.ctx.restore()},this}function WaterColor(t){for(var e in this.ctx=t.context,t)this[e]=t[e];return this.init=function(){this.sides=6,this.x=20,this.y=20,this.speed=.3,this.c=0,this.color=-25,this.maxPoints=3e3,this.maxRender=5,this.scale=!1,this.fill||(this.fill=this.randomColor())},this.randomWiggle=function(t){return Math.random()*t*(Math.random()<.5?-1:1)},this.randomColor=function(){var t=this.minColor,e=this.maxColor,i=function(){return DxChart.random(t,e,0)};return"rgba("+i()+","+i()+","+i()+",1)"},this.adjustX=function(t){var e=this.parentNode.adjustSpace;return t<e.x?e.x:t>e.r?e.r:t},this.adjustY=function(t){var e=this.parentNode.adjustSpace;return t<e.y?e.y:t>e.b?e.b:t},this.buildPoints=function(){var t=.15*this.size,e=0,i=-this.size,s=0,a=Math.random()>.5,o=[i=this.adjustX(i),s=this.adjustY(s)];for(this.points=[o];e<DxChart.TWOPI;e+=this.speed)i+=this.size*this.speed*Math.sin(e)*(a?1:.7)+this.randomWiggle(t),s+=this.size*this.speed*Math.cos(e)*(a?.7:1)+this.randomWiggle(t),i=this.adjustX(i),s=this.adjustY(s),this.points.push([i,s]);return this.points.push(o),this.originalPoints=this.points,this.points},this.expandPoints=function(){if(!this.points)return this.buildPoints();if(this.points.length>this.maxPoints)return!1;for(var t,e,i,s,a=.05*this.size,o=[],r=0,n=this.points.length-1;r<n;r++)e=this.points[r][1],t=this.points[r][0],s=this.points[r+1][1],i=this.points[r+1][0],t=this.adjustX(t),e=this.adjustY(e),i=this.adjustX(i),s=this.adjustY(s),o.push([t,e],[(i+t)/2+this.randomWiggle(a),(s+e)/2+this.randomWiggle(a)],[i,s]);return this.points=o,!0},this.render=function(){this.parentNode.waterColorSeq==this.waterColorSeq&&this.draw(this.c/3)},this.draw=function(t){if(this.ctx){for(;this.expandPoints(););var e=this.ctx;this.maxRender;e.beginPath(),e.moveTo(this.points[0][0],this.points[0][1]);for(var i=0,s=this.points.length;i<s;i++)e.lineTo(this.points[i][0],this.points[i][1]);e.closePath(),e.fillStyle=this.fill,isNexacroRuntime&&e.setElementFillStyle(this.fill),e.fill(),this.points=this.originalPoints}return this},this.init(),this.render(),this}function DxChartCircle(t){return DxChart._Base.call(this,t,"drawing.circle"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"text"),this.properties.colorsStroke="rgba(0,0,0,0)",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.centerx=t.x,this.centery=t.y,this.radius=t.radius,this.coords=[[this.centerx,this.centery,this.radius]],this.$0={},this.draw=function(){var t=this.properties;return DxChart._BeforeDraw(this),this.path("b lw %",t.lineWidth),t.shadowUse&&DxChart.setShadow({object:this,prefix:"shadow"}),this.path("b a % % % % % false f % s %",this.coords[0][0],this.coords[0][1],this.radius,0,DxChart.TWOPI,t.colorsFill,t.colorsStroke),DxChart.noShadow(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e=this.properties,i=DxChart.getMouseXY(t);i[0],i[1];if(DxChart.getHypLength(this.centerx,this.centery,i[0],i[1])<=this.radius){if(DxChart.parseTooltipText&&e.tooltipsData)var s=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:this.centerx,y:this.centery,radius:this.radius,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof s?s:null}}return null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("b a % % % % % false f % s %",this.centerx,this.centery,this.radius+.5,0,DxChart.TWOPI,e.highlightFill,e.highlightStroke))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colorsFill=this.parseSingleColorForGradient(t.colorsFill),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});for(var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1),a=0;a<e.length;a+=1)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+this.centerx-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.centery-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartImage(t){return DxChart._Base.call(this,t,"drawing.image"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),this.properties.src=null,this.properties.width=null,this.properties.height=null,this.properties.halign="left",this.properties.valign="top",this.properties.imageAlpha=1,this.properties.clearto="rgba(0,0,0,0)",this.properties.backgroundColor="rgba(0,0,0,0)",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",this.x=t.x,this.y=t.y,this.properties.x=t.x,this.properties.y=t.y,this.src=t.src,this.img="",this._imgsequence=0,this.coords=[],this.$0={},this.drawImage=function(t,e,i,s,a,o,r,n,h,l){var c;null==h&&(h=1),null==r&&(r=0);var x=t.split("/").join("");x=x.split("::").join("");var d=t;isNexacroRuntime&&(c={});var u=this._imgsequence;if("string"==typeof t)if(void 0===this.canvas["_cached_"+x+s]){var g=this;if(isNexacroRuntime){c.src=d,c.handle=nexacro._getImageObject(d,function(t,l,d,p){c.width=l,c.height=d,c.imagewidth=l,c.imageheight=d,g._drawImageCallback(u,x,c,e,i,s,a,o,r,n,h)},this,"",!1)}else{if(c=new Image,nexacro){if("url("==d.substring(0,4).toLowerCase()&&(d=d.substring(5,d.length-2)),!d||!d.length)return null;d=nexacro._getImageLocation(d)}c.onload=function(){g._drawImageCallback(u,x,c,e,i,s,a,o,r,n,h)},c.src=d}}else c=this.canvas["_cached_"+x+s],this._drawImageCallback(u,x,c,e,i,s,a,o,r,n,h)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){if(t==this._imgsequence){this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i);var x=this.context,d=x.lineWidth;x.save();var u=x.globalAlpha;if(x.globalAlpha=this.properties.imageAlpha,isNexacroRuntime&&x.setElementGlobalAlpha(c),x.lineWidth=h,isNexacroRuntime&&x.setElementLineWidth(h),o=o||i.width,r=r||i.height,"number"==typeof s&&"number"==typeof a||("center"===this.properties.valign?a=this.canvas.height/2-r/2:"top"===this.properties.valign?a=this.properties.marginTop:"bottom"===this.properties.valign&&(a=this.canvas.height-r),"center"===this.properties.halign?s=this.canvas.width/2-o/2:"left"===this.properties.halign?s=this.properties.marginLeft:"right"===this.properties.halign&&(s=this.canvas.width-o-this.properties.marginRight)),"rect"==n)x.beginPath(),x.moveTo(s,a),x.lineTo(s+o,a),x.lineTo(s+o,a+r),x.lineTo(s,a+r),x.lineTo(s,a),x.lineTo(s,a);else if("roundrect"==n)this.context.beginPath(),this.roundedRect(Math.round(s)-Math.round(this.context.lineWidth/2),Math.round(a)-Math.round(this.context.lineWidth/2),(o||this.img.width)+this.context.lineWidth,(r||this.img.height)+this.context.lineWidth,this.properties.imageRadius||5);else if("arc"==n){var g=parseInt(s+o/2),p=parseInt(a+r/2),f=parseInt(o/2);x.beginPath(),x.moveTo(g,p),x.arc(g,p,f,0,2*DxChart.PI)}h>0&&(x.strokeStyle=l,isNexacroRuntime&&x.setElementStrokeStyle(l),x.stroke()),x.clip(),x.drawImage(i,s,a,o,r),x.restore(),x.globalAlpha=u,isNexacroRuntime&&x.setElementGlobalAlpha(x.globalAlpha),x.lineWidth=d,isNexacroRuntime&&x.setElementLineWidth(d),this.coords[0]=[Math.round(s),Math.round(a),o,r]}},this.draw=function(){this.properties;DxChart._BeforeDraw(this),this._imgsequence++;var t,e,i,s,a,o,r,n,h=this.context.globalAlpha,l="number"==typeof this.properties.x&&"number"==typeof this.properties.y,c="number"==typeof this.properties.width,x="number"==typeof this.properties.height;return c&&x&&(i=this.properties.width,s=this.properties.height),l&&(t=this.properties.x,e=this.properties.y),a=this.properties.imageStyle||"rect",o=this.properties.imageLineWidth||0,r=this.properties.imageLineColor||"#000000",n=this.properties.imageAlpha||1,this.drawImage(this.src,t,e,i,s,a,o,r,n),this.context.globalAlpha=h,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),DxChart.noShadow(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){DxChart.getMouseXY(t);if(this.getShape(t))return this},this.getShape=function(t){var e=this.properties,i=DxChart.getMouseXY(t);i[0],i[1];if(this.coords&&this.coords[0]&&i[0]>=this.coords[0][0]&&i[0]<=this.coords[0][0]+this.coords[0][2]&&i[1]>=this.coords[0][1]&&i[1]<=this.coords[0][1]+this.coords[0][3]){if(DxChart.parseTooltipText&&e.tooltipsData)var s=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof s?s:null}}return null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsBackground=DxChart.arrayClone(t.colorsBackground),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colorsBackground=this.parseSingleColorForGradient(t.colorsBackground),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(this.x,this.y,this.x+this.img.width,this.y),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1;a<e.length;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.roundedRect=function(t,e,i,s,a){this.properties;var o=t+i,r=e+s;this.context.moveTo(o-a,e),this.context.arcTo(o,e,o,e+a,a),this.context.lineTo(o,r-a),this.context.arcTo(o,r,o-a,r,a),this.context.lineTo(t+a,r),this.context.arcTo(t,r,t,r-a,a),this.context.lineTo(t,e+a),this.context.arcTo(t,e,t+a,e,a),this.context.lineTo(o-a,e)},this.drawBackgroundColor=function(t){var e=this.properties;this.context.beginPath(),this.context.fillStyle=e.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.roundedRect(Math.round(this.x)-Math.round(this.context.lineWidth/2),Math.round(this.y)-Math.round(this.context.lineWidth/2),(e.width||this.img.width)+this.context.lineWidth,(e.height||this.img.height)+this.context.lineWidth,t),this.context.fill()},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));isNexacroRuntime?(t.tooltip.set_left(s[0]+this.x+(e.properties.width||this.img.width)/2-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.y-10)):(t.tooltip.style.left=s[0]+this.x+(e.properties.width||this.img.width)/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.y-10+"px")},DxChart.register(this),DxChart.parseProperties(this,t.options),!0}function DxChartMarker(t){return DxChart._Base.call(this,t,"drawing.marker"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),this.properties.variantValue="marker1",this.properties.colorsStroke="black",this.properties.colorsFill="white",this.properties.align="center",this.properties.offsetY=20,this.properties.delay=50,this.properties.clearto="rgba(0,0,0,0)",this.actualRadius=0,this.alpha=1,this.centerx=t.x,this.centery=t.y,this.radius=t.radius,this.text=t.text,this.x=t.x,this.y=t.y,this.$0={},this.coords=[],this.coordsText=[],this.draw=function(){var t=this.properties;if(DxChart._BeforeDraw(this),"marker1"==t.variantValue){var e=this.radius;"left"==t.align?(this.markerCenterx=this.centerx-e-e-3,this.markerCentery=this.centery-e-e-3):"right"==t.align?(this.markerCenterx=this.centerx+e+e+3,this.markerCentery=this.centery-e-e-3):(this.markerCenterx=this.centerx,this.markerCentery=this.centery-e-e-3),this.path("b lw %",t.lineWidth)}else if("marker2"==t.variantValue){this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.metrics=DxChart.measureText(this.text,t.textFontStyleObj.bold,t.textFontStyleObj.face,t.textFontStyleObj.size),this.x+this.metrics[0]>=this.canvas.width&&(this.alignRight=!0);var i=this.alignRight?this.x-this.metrics[0]-6:this.x,s=this.y-6-t.offsetY-this.metrics[1],a=this.metrics[0]+6,o=this.metrics[1];this.coords[0]=[i,s,a,o],this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}else if("marker3"==t.variantValue&&(this.context.globalAlpha=this.alpha,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),this.path("b a % % % % % % a % % % % % % f %",this.centerx,this.centery,this.actualRadius,0,2*Math.PI,!1,this.centerx,this.centery,Math.max(this.actualRadius-8,0),2*Math.PI,0,!0,t.colorsFill),this.alpha=this.actualRadius?1-.75*this.actualRadius/this.radius:1,this.context.globalAlpha=1,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),this.actualRadius<this.radius?this.actualRadius+=2:this.actualRadius>=this.radius&&(this.actualRadius=0,this.alpha=1),!this.TIMER)){var r=this;setInterval(function(){DxChart.redrawCanvas(r.canvas)},t.delay),this.TIMER=!0}if(this.coordsText=[],t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur),"marker1"==t.variantValue){this.drawMarker(),this.path("c s % f %",t.colorsStroke,t.colorsFill),DxChart.noShadow(this);var n=DxChart.getTextInfo({object:this,prefix:"text"});this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:n.font,size:n.size,color:n.color,bold:n.bold,italic:n.italic,x:this.coords[0][0]-1,y:this.coords[0][1]-1,text:this.text,valign:"center",halign:"center",tag:"labels"})}else if("marker2"==t.variantValue){i=this.coords[0][0],s=this.coords[0][1],a=this.coords[0][2],o=this.coords[0][3];this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeRect(i+(this.alignRight?a:0),s,0,o+t.offsetY-6),this.context.strokeRect(i,s,a,o),this.context.fillRect(i,s,a,o),DxChart.noShadow(this),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:t.textFontStyleObj.face,size:t.textFontStyleObj.size,color:t.textColor,bold:t.textFontStyleObj.bold,italic:t.textFontStyleObj.italic,x:Math.round(this.x)-(this.alignRight?this.metrics[0]+3:-3),y:s+o/2,text:this.text,valign:"center",halign:"left",tag:"labels"}),this.coords[0].push([i,s,a,o])}return DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1];if("marker1"==e.variantValue){if(this.context.beginPath(),this.drawMarker(),this.context.isPointInPath(i[0],i[1])){if(DxChart.parseTooltipText&&e.tooltipsData)var o=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:this.coords[0][0],y:this.coords[0][1],radius:this.coords[0][2],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof o?o:null}}}else if("marker2"==e.variantValue){if(s>=this.coords[0][0]&&s<=this.coords[0][0]+this.coords[0][2]&&a>=this.coords[0][1]&&a<=this.coords[0][1]+this.coords[0][3]){if(DxChart.parseTooltipText&&e.tooltipsData)o=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof o?o:null}}}else if("marker3"==e.variantValue&&DxChart.getHypLength(this.centerx,this.centery,i[0],i[1])<=this.radius){if(DxChart.parseTooltipText&&e.tooltipsData)o=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:this.centerx,y:this.centery,radius:this.radius,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof o?o:null}}return null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):"marker1"==e.variantValue?(this.context.beginPath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawMarker(),this.context.closePath(),this.context.stroke(),this.context.fill()):"marker2"==e.variantValue?(this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke),this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke)):"marker3"==e.variantValue&&this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke))},this.drawMarker=function(){var t=this.properties,e=this.radius;if("left"===t.align){var i=this.markerCenterx,s=this.markerCentery;isNexacroRuntime?this.path("a % % % % % false",i,s,e,0,DxChart.TWOPI-DxChart.HALFPI):this.path("a % % % % % false",i,s,e,DxChart.HALFPI,DxChart.TWOPI),this.path("qc % % % %",i+e,s+e,i+e+e,s+e+e),this.path("qc % % % %",i+e,s+e,i,s+e)}else if("right"===t.align){i=this.markerCenterx,s=this.markerCentery;isNexacroRuntime?(this.path("a % % % % %",i,s,e,DxChart.HALFPI,DxChart.TWOPI),this.path("qc % % % %",i-e,s+e,i,s+e),this.path("qc % % % %",i-e,s+e,i-e-e,s+e+e)):(this.path("a % % % % % true",i,s,e,DxChart.HALFPI,DxChart.PI),this.path("qc % % % %",i-e,s+e,i-e-e,s+e+e),this.path("qc % % % %",i-e,s+e,i,s+e))}else{i=this.markerCenterx,s=this.markerCentery;if(isNexacroRuntime){var a=DxChart.HALFPI/2,o=DxChart.TWOPI-a;this.path("a % % % % % false",i,s,e,a,o),this.path("qc % % % %",i,s+e+e/4,i,s+e+e-2),this.path("qc % % % %",i,s+e+e/4,i+Math.cos(o/2)*e,s+Math.sin(o/2)*e)}else this.path("a % % % % % true",i,s,e,DxChart.HALFPI/2,DxChart.PI-DxChart.HALFPI/2),this.path("qc % % % %",i,s+e+e/4,i,s+e+e-2),this.path("qc % % % %",i,s+e+e/4,i+Math.cos(DxChart.HALFPI/2)*e,s+Math.sin(DxChart.HALFPI/2)*e)}this.coords[0]=[i,s,e]},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.textColor=DxChart.arrayClone(t.textColor)),t.colorsFill=this.parseSingleColorForGradient(t.colorsFill),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.textColor=this.parseSingleColorForGradient(t.textColor)},this.reset=function(){},this.parseSingleColorForGradient=function(t){var e=this.properties;if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var i,s,a;"marker1"==e.variantValue?(i=RegExp.$1.split(":"),s=this.context.createRadialGradient(this.markerCenterx,this.markerCentery,0,this.markerCenterx,this.markerCentery,this.radius),a=1/(i.length-1)):"marker2"==e.variantValue?(i=RegExp.$1.split(":"),s=this.context.createLinearGradient(this.x,this.y,this.x+this.metrics[0],this.y),a=1/(i.length-1)):"marker3"==e.variantValue&&(i=RegExp.$1.split(":"),s=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),a=1/(i.length-1)),s.addColorStop(0,DxChart.trim(i[0]));for(var o=1;o<i.length;++o)s.addColorStop(o*a,DxChart.trim(i[o]))}return s||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.properties;if("marker1"==a.variantValue){var o=this.centerx;"left"==a.align?o=o-this.radius-this.radius:"right"==a.align&&(o=o+this.radius+this.radius),isNexacroRuntime?(t.tooltip.set_left(s[0]+o-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.centery-this.radius-this.radius-this.radius-15)):(t.tooltip.style.left=s[0]+o-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.centery-this.radius-this.radius-this.radius-15+"px")}else"marker2"==a.variantValue&&(t.tooltip.style.left=s[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+this.coords[0][0]+this.coords[0][2]/2+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.coords[0][1]-10+"px")},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPoly(t){return DxChart._Base.call(this,t,"drawing.poly"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),this.properties.colorsStroke="black",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.$0={},this.draw=function(){var t=this.properties;return DxChart._BeforeDraw(this),this.coordsText=[],t.shadowUse&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,this.context.shadowBlur=t.shadowStyleObj.blur,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY)),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawPoly(),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.noShadow(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.drawPoly=function(){var t=this.properties,e=this.coords;this.path("b m % %",e[0][0],e[0][1]);for(var i=1,s=e.length;i<s;++i)this.context.lineTo(e[i][0],e[i][1]);this.path("lw % c f % s %",t.lineWidth,this.context.fillStyle,this.context.strokeStyle)},this.getShape=function(t){var e=this.properties,i=(this.coords,DxChart.getMouseXY(t)),s=i[0],a=i[1],o=this.context.strokeStyle,r=this.context.fillStyle;if(this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawPoly(),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.isPointInPath(s,a)){if(DxChart.parseTooltipText&&e.tooltipsData)var n=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,coords:this.coords,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof n?n:null}}return null},this.highlight=function(t){var e=this.properties;this.context.fillStyle=e.colorsFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):(this.path("b"),this.drawPoly(),this.path("f % s %",e.highlightFill,e.highlightStroke)))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill));var e=this.parseSingleColorForGradient;t.colorsFill=e(t.colorsFill),t.colorsStroke=e(t.colorsStroke),t.highlightStroke=e(t.highlightStroke),t.highlightFill=e(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,0,this.canvas.width,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){for(var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=0,o=this.coords[0][0],r=0,n=this.coords[0][1],h=0;a<this.coords.length;++a)o=Math.min(o,this.coords[a][0]),r=Math.max(r,this.coords[a][0]),n=Math.min(n,this.coords[a][1]),h=Math.max(h,this.coords[a][1]);var l=(r-o)/2+o,c=(h-n)/2+n;t.tooltip.style.left=s[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+l+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+c-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartRect(t){return DxChart._Base.call(this,t,"drawing.rect"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"line"),this.properties.colorsStroke="rgba(0,0,0,0)",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.resetData=function(t,e,i,s){this.x=t,this.y=e,this.coords=[[Math.round(t),Math.round(e),i,s]],this.$0={}},this.draw=function(){var t=this.properties;DxChart._BeforeDraw(this),this.coordsText=[],this.path("b"),t.shadowUse&&this.path("sc % sx % sy % sb %",t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);var e=DxChart.parseGradient(this,t.colorsFill,this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3]);return this.path("r % % % % f %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e),DxChart.noShadow(this),this.path("s %",t.colorsStroke),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=0,r=this.coords.length;o<r;o++){var n=this.coords[o],h=n[0],l=n[1],c=n[2],x=n[3];if(s>=h&&s<=h+c&&a>=l&&a<=l+x){if(DxChart.parseTooltipText&&e.tooltipsData)var d=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:h,y:l,width:c,height:x,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof d?d:null}}}return null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):DxChart.Highlight.rect(this,t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,0,this.canvas.width,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));isNexacroRuntime?(t.tooltip.set_left(s[0]+this.coords[0][0]+this.coords[0][2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY+this.coords[0][1]-10)):(t.tooltip.style.left=s[0]+this.coords[0][0]+this.coords[0][2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.coords[0][1]-10+"px")},this.resetData(t.x,t.y,t.width,t.height),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartText(t){return DxChart._Base.call(this,t,"drawing.text"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"default"),this.properties.colorsStroke="rgba(0,0,0,0)",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.x=t.x,this.y=t.y,this.text=String(t.text),this.$0={},this.draw=function(){var t=this.properties;DxChart._BeforeDraw(this),this.coords=[],this.coordsText=[];DxChart.measureText(this.text,t.textFontStyleObj.bold,t.textFontStyleObj.face,t.textFontStyleObj.size);this.context.fillStyle=t.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);var e=DxChart.text({object:this,font:t.textFontStyleObj.face,size:t.textFontStyleObj.size,bold:t.textFontStyleObj.bold,italic:t.textFontStyleObj.italic,color:t.colors[0],x:this.x,y:this.y,text:this.text,angle:t.angle,bounding:t.bounding,"bounding.fill":t.boundingFill,"bounding.stroke":t.boundingStroke,"bounding.shadow":t.boundingShadow,"bounding.shadow.color":t.boundingShadowColor,"bounding.shadow.blur":t.boundingShadowBlur,"bounding.shadow.offsetx":t.boundingShadowOffsetX,"bounding.shadow.offsety":t.boundingShadowOffsetY,marker:t.marker,halign:t.halign,valign:t.valign});return t.shadow&&DxChart.noShadow(this),this.coords.push({0:e.x,x:e.x,1:e.y,y:e.y,2:e.width,width:e.width,3:e.height,height:e.height}),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){for(var e=this.properties,i=this.coords,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=0,n=this.coords.length;r<n;r++){var h=i[r].x,l=i[r].y,c=i[r].width,x=i[r].height;if(a>=h&&a<=h+c&&o>=l&&o<=l+x){if(DxChart.parseTooltipText&&e.tooltipsData)var d=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:h,y:l,width:c,height:x,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof d?d:null}}}return null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):DxChart.Highlight.rect(this,t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors)[0],this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colors[0]=this.parseSingleColorForGradient(t.colors[0]),t.colorsFill=this.parseSingleColorForGradient(t.colorsFill),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,0,this.canvas.width,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+this.coords[0][0]+this.coords[0][2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.coords[0][1]-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartXAxis(t){return DxChart._Base.call(this,t,"drawing.xaxis"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"default"),this.properties.xaxisLabelsPosition="section",this.y=t.y,this.$0={},this.draw=function(){this.properties;return DxChart._BeforeDraw(this),this.coordsText=[],this.drawXAxis(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1];if(s>=this.marginLeft&&s<=this.canvas.width-this.marginRight&&a>=this.y-("top"==e.xaxisTickmarksAlign?1.5*e.textFontStyleObj.size+5:0)&&a<=this.y+("top"==e.xaxisTickmarksAlign?0:1.5*e.textFontStyleObj.size+5)){var o=this.marginLeft,r=this.y,n=this.canvas.width-this.marginLeft-this.marginRight;if(DxChart.parseTooltipText&&e.tooltipsData)var h=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:o,y:r,width:n,height:25,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof h?h:null}}return null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle&&e.highlightStyle(t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.xaxisLabelsColor=DxChart.arrayClone(t.xaxisLabelsColor),this.original_colors.xaxisTitleColor=DxChart.arrayClone(t.xaxisTitleColor)),t.colors[0]=this.parseSingleColorForGradient(t.colors[0]),t.textColor=this.parseSingleColorForGradient(t.textColor),t.xaxisLabelsColor=this.parseSingleColorForGradient(t.xaxisLabelsColor),t.xaxisTitleColor=this.parseSingleColorForGradient(t.xaxisTitleColor)},this.reset=function(){},this.getYCoord=function(){var t=this.properties;return"center"===t.xaxisPosition?(this.canvas.height-t.marginTop-t.marginBottom)/2+t.marginTop:this.y},this.drawXAxis=function(){DxChart.drawXAxis(this)},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+(this.canvas.width-this.properties.marginLeft-this.properties.marginRight)/2+this.properties.marginLeft-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.y-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartYAxis(t){return DxChart._Base.call(this,t,"drawing.yaxis"),DxChart.setDefaultProperties(this,"default"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"tooltips"),this.properties.tooltipsEvent="onclick",this.properties.xaxisPosition="bottom",this.properties.yaxisPosition="left",this.xPosPercent=null,this.x=t.x,this.w=t.w,this.basePos="right",this.draw=function(){var t=this.properties;return this.xPosPercent&&this.xPosPercent>0&&(this.x=parseInt(this.canvas.width*(this.xPosPercent/100))),t.textColor||(t.textColor=t.colors[0]),t.titleColor||(t.titleColor=t.textColor),DxChart._BeforeDraw(this),this.coordsText=[],this.drawYAxis(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e=this.properties,i=DxChart.getMouseXY(t),s=i[0],a=i[1];if(s>=this.x-("right"==e.tickmarksAlign?0:this.getWidth())&&s<=this.x+("right"==e.tickmarksAlign?this.getWidth():0)&&a>=this.marginTop&&a<=this.canvas.height-this.marginBottom){var o=this.x,r=this.marginTop,n=this.canvas.height-this.marginTop-this.marginBottom;if(DxChart.parseTooltipText&&e.tooltipsData)var h=DxChart.parseTooltipText(e.tooltipsData,0);return{object:this,x:o,y:r,width:15,height:n,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof h?h:null}}return null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle&&e.highlightStyle(t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.yaxisLabelsColor=DxChart.arrayClone(t.yaxisLabelsColor),this.original_colors.titleColor=DxChart.arrayClone(t.titleColor),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.yaxisLabelsColor=this.parseSingleColorForGradient(t.yaxisLabelsColor),t.titleColor=this.parseSingleColorForGradient(t.titleColor),t.textColor=this.parseSingleColorForGradient(t.textColor),t.colors[0]=this.parseSingleColorForGradient(t.colors[0])},this.reset=function(){},this.parseSingleColorForGradient=function(t){var e=this.properties;if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var i=RegExp.$1.split(":"),s=this.context.createLinearGradient(0,e.marginTop,0,this.canvas.height-this.marginBottom),a=1/(i.length-1);s.addColorStop(0,DxChart.trim(i[0]));for(var o=1;o<i.length;++o)s.addColorStop(o*a,DxChart.trim(i[o]))}return s||t},this.drawYAxis=function(){DxChart.drawYAxis(this)},this.getWidth=function(){var t=this.properties,e=this.maxLabelLength;return t.yaxisTitle&&t.yaxisTitle.length&&(e+=1.5*t.textFontStyleObj.size),this.width=e,e},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+this.x-this.getWidth()/2+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+properties.marginTop-1.5*properties.textFontStyleObj.size/2-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartMask(t){this.mask="",this.fillchar="",this.maskchar="",this.postfixtext="",this._is_editing=!1,this._input_mode="text",t||(t="string"),this.type=t,"string"==this.type?(this._char_buf=[],this.fillchar=" ",this._is_filled=!1,this._is_mismatch=!1):"number"==this.type?(this.fillchar="0",this.limittype="decimal",this._input_mode="number",this._decimal_point=".",this._thousands_sep=",",this._mask_decimal_point=".",this._mask_thousands_sep=",",this._check_int_max=!1,this._check_dec_max=!0):"date"==this.type&&(this.maskchar=" ",this.date="",this.editmask="",this.editmask_logical="",this.datemask=""),this._init_digits=function(){this._is_integer_mask=!1,this._int_digits_min=0,this._int_digits_max=-1,this._dec_digits_min=0,this._dec_digits_max=-1,this._dec_min_sharp=-1,this._dec_max_sharp=-1},this.init=function(){"string"==this.type?(this._masked_empty_text="",this._mask_buf=[],this._value_buf=[],this._is_filled=!1,this._is_mismatch=!1):"number"==this.type?(this._grouping=[3],this._sign_type=3,this._sign_sep_by_space=0,this._init_digits(),this._masked_empty_text="",this._is_max_intpart=!1,this._is_max_decpart=!1,this._use_grouping=!1,this._is_intpart_zero=!0,this._is_decpart_zero=!0,this._is_intpart_nine=!1):this.type},this.setUseGrouping=function(t){this._use_grouping!==t&&(this._use_grouping=t)},this._parseMask=function(t){if("string"==this.type){if(this.init(),!t)return;for(var e,i,s=0,a=this._mask_buf,o=this._value_buf,r=[],n=this.maskchar,h=!1,l=0;e=t[s++];)switch(e){case"@":a.push(/[\u0020-\u00ff]/),o.push(l>0?"*":"$1"),r.push(n),i=!1;break;case"#":a.push(/\d/),o.push(l>0?"*":"$1"),r.push(n),null==i&&(i=!0);break;case"*":a.push(/[a-zA-Z]/),o.push(l>0?"*":"$1"),r.push(n),i=!1;break;case"9":a.push(/[a-zA-Z0-9]/),o.push(l>0?"*":"$1"),r.push(n),i=!1;break;case"A":a.push(/[a-zA-Z]/),o.push(l>0?"*.toUpperCase()":"$1.toUpperCase()"),r.push(n),i=!1;break;case"a":a.push(/[a-zA-Z]/),o.push(l>0?"*.toLowerCase()":"$1.toLowerCase()"),r.push(n),i=!1;break;case"Z":a.push(/[a-zA-Z0-9]/),o.push(l>0?"*.toUpperCase()":"$1.toUpperCase()"),r.push(n),i=!1;break;case"z":a.push(/[a-zA-Z0-9]/),o.push(l>0?"*.toLowerCase()":"$1.toLowerCase()"),r.push(n),i=!1;break;case"'":for(h=!0;e=t[s++];){if("'"==e){h=!1;break}"\\"==e&&(e=t[s++]),e&&(a.push(e),o.push(""),r.push(e))}if(h)return;break;case"{":l++;break;case"}":l--;break;case"\\":(e=t[s++])&&(a.push(e),o.push(""),r.push(e));break;default:a.push(e),o.push(""),r.push(e)}this._masked_empty_text=r.join("")}else if("number"==this.type){if(this._init_digits(),!t||"."===t)return;if(!/(^[\+\-\!]?\s*[#09,]*(?:$|\.[#09]*)|^\.[#09]*$)/.test(t))return;var c=t[0];switch(c){case"-":this._sign_type=0;break;case"+":this._sign_type=1;break;case"!":this._sign_type=2;break;default:this._sign_type=3,c=""}var x,d=t.length,u=0;if(3!=this._sign_type)for(var g=1;g<d;g++){var p=t[g];if("#"==p||"9"==p||"0"==p)break;if(" "!=p)return;u++}this._sign_sep_by_space=u;var f=this._mask_decimal_point,m=t.indexOf(f);this._is_integer_mask=m<0;var b,C,y="",v="";if(this._is_integer_mask)y=t.substring(c.length+u);else if(y=t.substring(c.length+u,m),v=t.substring(m+1))if((b=v.indexOf("#"))>-1){C=!1,this._dec_max_sharp=b;for(g=v.length-1;g>=b;g--)"#"==v[g]?(-1==this._dec_min_sharp&&(this._dec_min_sharp=g),this._dec_max_sharp<g&&(this._dec_max_sharp=g),this._dec_min_sharp>g&&0==C&&(this._dec_min_sharp=g)):-1!=this._dec_min_sharp&&(C=!0)}var D=this._mask_thousands_sep;t.indexOf(D)>-1?this.setUseGrouping(!0):this.setUseGrouping(!1);var S=(y=y.split(D).join("")).length;this._int_digits_max=S;var k=y.indexOf("0");k>-1&&(this._int_digits_min=S-k);var w=S?y[S-1]:"";if(-1==k&&("#"==w?this._is_intpart_zero=!1:"9"==w&&(this._is_intpart_zero=!1,this._is_intpart_nine=!0)),this._int_digits_min>0){x="";for(g=0;g<this._int_digits_min;g++)x+="0";var _=this._grouping.slice(0);_.length>0?this._masked_empty_text=this._put_thousand_seperator(x,_):this._masked_empty_text=x}else this._masked_empty_text="";if(this._is_integer_mask)return;var T=(v=v.replace(/[.]/g,"")).length;this._dec_digits_max=T,(k=v.lastIndexOf("0"))>-1&&(this._dec_digits_min=k+1);var P=T?v[0]:"";if(-1==k&&"#"==P&&(this._is_decpart_zero=!1),this._dec_digits_min>0){x=".";for(g=0;g<this._dec_digits_min;g++)x+="0";this._masked_empty_text+=x}}else this.type},this._parseDate=function(t,e,i){switch(e){case 0:/(\d{6})/;break;case 1:/(\d{14})/;break;default:/(\d{8})/}var s=new nexacro.Date;if(e>0){var a=+t.substring(0,4),o=+t.substring(4,6),r=+t.substring(6,8);if(o<1||o>12)return;if(r<1)return;if(1==e)var n=+t.substring(8,10),h=+t.substring(10,12),l=+t.substring(12,14);else n=0,h=0,l=0}else a=1900,o=1,r=1,n=+t.substring(0,2),h=+t.substring(2,4),l=+t.substring(4,6);return s.setHours(n,h,l),s.setFullYear(a,o-1,r),s},this.setMask=function(t){this.mask!=t&&(this.mask=t,this.datemask=t,this._parseMask(t))},this.setMaskChar=function(t){this.maskchar!=t&&(this.maskchar=t)},this.applyMask=function(t){if("string"==this.type){if(this._is_filled=!1,this._is_mismatch=!1,!(f=String(t)))return this._masked_empty_text;for(var e,i,s=this._mask_buf,a=this._value_buf,o=this._char_buf,r=[],n="",h=0,l=0,c=this.maskchar,x=this.fillchar,d=this.postfixtext,u=!0;z=s[h];){if(""==(i=a[h]))r.push(z),this.mask.length==f.length&&z==f[l]&&l++;else{for(;;){if(!(e=f[l++])||z.test(e)||e==x||"‎"==e)break;this._is_mismatch=!0}!e||""!=x&&e==x||!z.test(e)?(o[h]="",r.push(c),u=!1):"*"==i?(o[h]=e,r.push(i)):"$1"==i?(o[h]=e,r.push(e)):"*"==i[0]?(e=nexacro._executeEvalStr(i.replace("*",'"'+e+'"')),o[h]=e,r.push("*")):(e=nexacro._executeEvalStr(i.replace("$1",'"'+e+'"')),o[h]=e,r.push(e))}h++}this._is_filled=u,n=r.join("");var g="",p=nexacro._toString(t);return p&&(g=p.replace(/(\s*)/g,"")),d&&!this._is_editing&&g&&(n+=d),n}if("number"==this.type){var f,m=!this._is_editing;if(this._is_max_intpart=!1,this._is_max_decpart=!1,!(f=String(t)))return m?this._masked_empty_text:"";var b=0,C=(f=f.replace(/^\s\s*/,"").replace(/[,]/g,"")).length,y=(d=this.postfixtext,-1!=this._int_digits_max||-1!=this._dec_digits_max),v=f[b++];for("+"!=v&&"-"!=v&&(b-=1,v="");b<C;b++){var D=f[b];if(D>="0"&&D<="9"||","==D||"."==D)break;if(" "!=D)return m?this._masked_empty_text:""}var S=this._mask_decimal_point,k=f.indexOf(S),w="",_="";if(k<0?(w=f.substring(b),w=y?w:w.padLeft(1,"0")):(w=f.substring(b,k),_=f.substring(k+1),w=y?w:w.padLeft(1,"0"),_=y?_:_.padLeft(1,"0")),this._is_intpart_zero||this._is_intpart_nine&&!_||(w=w.length&&0==+w?"":w),this._is_decpart_zero||(_=_.length&&0==+_?"":_),w.length>0&&!/^(?:[0-9]*)$/.test(w)||_.length>0&&!/^(?:[0-9]*)$/.test(_))return m?this._masked_empty_text:"";var T,P=w.length-1,R=this._thousands_sep,L=[];this._use_grouping&&(L=this._grouping.slice(0));for(var j=0;!((T=w.lastIndexOf(R,P))<0);j++){var F=L[j<L.length?j:L.length-1];if(!F||P-T!=F)return m?this._masked_empty_text:"";P=T-1}n=v;if(""!=v)for(j=0;j<this._sign_sep_by_space;j++)n+=" ";var E=(w=w.split(R).join("")).length;E>=this._int_digits_max&&(this._is_max_intpart=!0);var O,I=this._int_digits_min;if(m&&I>0){O=I-E;for(j=0;j<O;j++)w="0"+w}if(n+=w=(w=this._put_thousand_seperator(w,L)).replace(/,/g,R),this._is_integer_mask)return d&&!this._is_editing&&(n+=d),n;var A=_.length,N=this._dec_digits_min,M=this._dec_digits_max;if(A>=M&&(this._is_max_decpart=!0),m&&N>0){O=N-A;for(j=0;j<O;j++)_+="0"}this._check_dec_max&&M>-1&&_.length>M&&(_=_.substring(0,M));var W=this._dec_max_sharp;if(W>=M-1){var B=-1,G=this._dec_min_sharp;for(j=W;j>=G;j--)if(0==_[j])B=j;else if(W==j)break;B>-1&&(_=_.slice(0,B))}return""!=_?(n+=this._decimal_point,n+=_):this._is_editing&&k>-1&&(n+=this._decimal_point),d&&!this._is_editing&&(n+=d),n}if("date"==this.type){var H,Y=t,z=this.mask,X=void 0,V=0,U=!1;if((Y=Y||"").constructor==Date)X=Y;else{var q=Y.toString();for(j=0;j<q.length;j++)if(" "!=q.charAt(j)){V=1;break}1==V&&(H=!z&&q.length<=6?0:!z&&q.length<=8?2:1,X=this._parseDate(q,H,z))}null==X&&(U=!0,(X=new Date).setFullYear(0),X.setMonth(0),X.setDate(1));var K=X.getFullYear();0==K&&(K="0000");var J=X.getMonth()+1;J=(J<10?"0":"")+J;var $=X.getDate();$=($<10?"0":"")+$;var Z=X.getYear()%100,Q=+J,tt=+$,et=X.getHours(),it=+(et=(et<10?"0":"")+et),st=X.getMinutes(),at=+(st=(st<10?"0":"")+st),ot=X.getSeconds(),rt=+(ot=(ot<10?"0":"")+ot);U&&(et=it="00",st=at="00",ot=rt="00");var nt=z;null!=nt&&0!=nt.length&&nt.match(/[yMdHhms]/)||(nt="yyyy-MM-dd");var ht=et,lt="오전";return et>12&&et<25&&(ht=et<22?"0"+(et-12):et-12,lt="오후"),nt.replace("yyyy",K).replace("MM",J).replace("dddd","weekL").replace("ddd","week").replace("dd",$).replace("yy",Z).replace("M",Q).replace("d",tt).replace("tt",lt).replace("HH",et).replace("hh",ht).replace("H",it).replace("h",it).replace("mm",st).replace("m",at).replace("ss",ot).replace("s",rt).replace("week",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])}},this._put_thousand_seperator=function(t,e){if(!t||!e)return t;var i,s=e[0];if(!s||s<1)return t;if(e.length>1){e.shift();var a=this;if((i=new RegExp("(\\d+)(\\d{"+s+"})($|\\.\\d+)")).test(t))return t.replace(i,function(t,i,s,o){return a._put_thousand_seperator(i,e)+","+s+o})}else if((i=new RegExp("\\B(?=(\\d{"+s+"})+(?!\\d))","g")).test(t))return t.replace(i,",");return t},this.init()}function DxChartRange(t){var e=t.owner;this.owner=e,this.rangeChart=t.rangeChart,t.rangeChart._isrange=!0,t.rangeChart.properties.changeableValue=!0,t.rangeChart.properties.backgroundNoCache=!0,t.rangeChart.properties.xaxisUse=!1,t.rangeChart.properties.yaxisUse=!1,t.rangeChart.properties.xaxisLabels=null,t.rangeChart.properties.yaxisLabelsSpecific=[""],t.rangeChart.owner=this;e.data;var i=e.canvas;return this.elem=e.elem,this.__orgdata__=e.data,this.__orgxaxislabels__=e.properties.xaxisLabels,this.type="range",this.id="range"+e.id,this.canvas=i,this.context=this.canvas.getContext("2d"),this.coords=[],this.isDxChart=!0,this.DxChart=!0,this.uid=e.uid,this.canvas.uid=this.uid,this.colorsParsed=!1,this.original_colors=[],this.firstDraw=!0,this.cachedBackgroundCanvas=null,this.properties={},this.properties.textFontStyle="bold 8px Tahoma",this.properties.textFontStyleObj=DxChart._parseFontInfo(this.properties.textFontStyle),this.properties.rangeFontStyle="bold 8px Tahoma",this.properties.rangeFontStyleObj=DxChart._parseFontInfo(this.properties.rangeFontStyle),this.properties.rangeColor="#000000",this.properties.rangeLineWidth=2,this.properties.rangeStartColor="#ffffff",this.properties.rangeStartLineColor="#000000",this.properties.rangeWidth=8,this.properties.rangeEndColor="#ffffff",this.properties.rangeEndLineColor="#000000",this.properties.rangeDisableColor="rgba(255,255,255,0.5)",this.properties.rangeTextShow=!0,this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof arguments[0]){for(var i in arguments[0])"string"==typeof i&&this.set(i.replace(".",""),arguments[0][i]);return this}return this.properties[t.replace(".","")]=e,this},this.get=function(t){return this.properties[t.replace(".","")]},this.on=function(t,e){return"function"!=typeof this[t]?this[t]=e:DxChart.addCustomEventListener(this,t,e),this},this.path=DxChart.pathObjectFunction,DxChart.parseProperties(this,t.options),this.init=function(){this.rangeChart.coordRange=[],this.rangeChart.changing_mousemove=this.changing_mousemove,this.rangeChart.getShape=this.getShape,this.getObjectByXY=this.rangeChart.getObjectByXY},this.draw=function(){var t=this.properties;return this.prevSIndex=t.rangeStartIndex,this.prevEIndex=t.rangeEndIndex,this.rangeChart.coordRange=[],this.drawRange(),this},this.drawRange=function(){var t=this.properties,e=t.rangeStartIndex,i=t.rangeEndIndex,s=t.rangeLineWidth,a=t.rangeStartColor,o=t.rangeStartLineColor,r=t.rangeWidth,n=t.rangeEndColor,h=t.rangeEndLineColor,l=t.rangeDisableColor,c=this.rangeChart,x=c.context,d=this.__orgdata__,u=this.__orgxaxislabels__;"line"==c.type&&1==d.length&&d[0].length>0&&(d=d[0]),e||(e=0,t.startIndex=e),i||(i=d.length-1,t.endIndex=i);var g=c.canvas.height;c.set("marginLeft",this.owner.properties.marginLeft),c.set("marginRight",this.owner.properties.marginRight),c.set("marginLeftAuto",!1),c.set("marginBottom",t.marginBottom),c.set("marginTop",g-t.marginHeight-t.marginBottom),c.marginTop=g-t.marginHeight-t.marginBottom;for(var p,f,m,b,C,y,v=c.canvas.width-c.properties.marginLeft-c.properties.marginRight,D=c.canvas.height-c.properties.marginTop-c.properties.marginBottom,S=v/d.length,k=[],w=[],_=e;_<=i;_++)k.push(d[_]),w.push(u[_]);this.owner.set("xaxisLabels",w),this.owner.resetData(k),this.prevSIndex!=e||this.prevEIndex!=i?DxChart.redrawCanvas(this.owner.canvas):(DxChart.clear(this.owner.canvas),this.owner.draw()),c.draw(),this.prevSIndex=e,this.prevEIndex=i,x.lineWidth=s,isNexacroRuntime&&x.setElementLineWidth(s),x.strokeStyle=o,isNexacroRuntime&&x.setElementStrokeStyle(x.strokeColor),this.context.fillStyle=a,isNexacroRuntime&&x.setElementFillStyle(x.fillStyle),m=c.properties.marginLeft+S*e-r,b=c.properties.marginTop-5,C=r,y=D+10,p=m,x.beginPath(),x.rect(m,b,C,y),x.closePath(),this.rangeChart.coordRange[0]=[m,b,C,y,"l"];var T=DxChart.getTextInfo({object:this,prefix:"range"});t.rangeTextShow&&DxChart.text({object:c,font:T.font,size:T.size,color:T.color,bold:T.bold,italic:T.italic,x:m+r+5,y:c.properties.marginTop+10,text:e+"",halign:"left",valign:"top",angle:0,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels"}),x.fill(),s>0&&x.stroke(),x.lineWidth=s,isNexacroRuntime&&x.setElementLineWidth(s),x.strokeStyle=h,isNexacroRuntime&&x.setElementStrokeStyle(x.strokeColor),x.fillStyle=n,isNexacroRuntime&&x.setElementFillStyle(x.fillStyle),m=c.properties.marginLeft+S*i,b=c.properties.marginTop-5,C=r,y=D+10,f=m+r,t.rangeTextShow&&p+r+s+20<m&&DxChart.text({object:c,font:T.font,size:T.size,color:T.color,bold:T.bold,italic:T.italic,x:m-5,y:c.properties.marginTop+10,text:i+"",halign:"right",valign:"top",angle:0,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels"}),x.beginPath(),x.rect(m,b,C,y),x.closePath(),this.rangeChart.coordRange[1]=[m,b,C,y,"r"],this.rangeChart.coordRange[2]=[p+r+s,b+5,m-p+r+s,D,"m"],x.fill(),s>0&&x.stroke(),e>0&&(x.fillStyle=l,isNexacroRuntime&&x.setElementFillStyle(l),m=c.properties.marginLeft,b=c.properties.marginTop,C=p-m-s,y=D,x.beginPath(),x.rect(m,b,C,y),x.closePath(),x.fill()),i<d.length-1&&(x.fillStyle=l,isNexacroRuntime&&x.setElementFillStyle(l),m=f+s,b=c.properties.marginTop,C=c.canvas.width-c.marginRight-m,y=D,x.beginPath(),x.rect(m,b,C,y),x.closePath(),x.fill())},this.getShape=function(t){this.properties;var e=this,i=DxChart.getMouseXY(t),s=i[0],a=i[1];arguments[1]&&(e=arguments[1]);for(var o=0;o<e.coordRange.length;++o){var r=e.coordRange[o],n=r[0],h=r[1],l=r[2],c=r[3];if(e.context.beginPath(),e.context.rect(n,h,l,c),e.context.isPointInPath(s,a))return{object:e,x:n,y:h,w:l,h:c,mode:r[4],index:0,sequentialIndex:0,label:null,tooltip:null}}},this.changing_mousemove=function(t,e){var i=this.owner.properties,s=DxChart.Registry.get("changing.range");if(s){var a=s.sIndex,o=s.eIndex,r=s.object,n=this.owner.__orgdata__;"line"==r.type&&1==n.length&&n[0].length>0&&(n=n[0]);var h=DxChart.getMouseXY(t),l=i.rangeWidth;l+=i.rangeLineWidth+1;var c=(r.canvas.width-r.marginLeft-r.marginRight)/n.length,x=h[0]-s.mousex;"l"==s.shape.mode?x<0&&(x-=l):"r"==s.shape.mode&&x>0&&(x+=l);var d,u=Math.abs(x);if(u=Math.round(u/c),"l"==s.shape.mode)i.rangeStartIndex=x<0?a-u:a+u,i.rangeStartIndex>=i.rangeEndIndex&&(i.rangeStartIndex=i.rangeEndIndex-1),i.rangeStartIndex<0&&(i.rangeStartIndex=0),d="resize";else if("r"==s.shape.mode)i.rangeEndIndex=x<0?o-u:o+u,i.rangeStartIndex>=i.rangeEndIndex&&(i.rangeEndIndex=i.rangeStartIndex+1),i.rangeEndIndex>n.length-1&&(i.rangeEndIndex=n.length-1),d="resize";else if("m"==s.shape.mode){if(x<0){if(0==a)return;if(0==i.rangeStartIndex)return}else{if(o==n.length-1)return;if(i.rangeEndIndex==n.length-1)return}x<0?(i.rangeStartIndex=a-u,i.rangeEndIndex=o-u):(i.rangeStartIndex=a+u,i.rangeEndIndex=o+u),i.rangeStartIndex<0&&(i.rangeStartIndex=0),i.rangeEndIndex>n.length-1&&(i.rangeEndIndex=n.length-1),d="move"}var g=this;DxChart.Effects.updateCanvas(function(){isNexacroRuntime?r.canvas._refform.set_cursor("resize"==d?"ew-resize":"move"):t.target.cursor=d,g.owner.draw()},r.canvas)}},this.init(),DxChart.register(this),this}!function(t,e,i){navigator.userAgent;DxChart.annotating_canvas_onmousedown=function(t){if(0===t.button||"lbutton"===t.button){t.target.__object__.set("mousedown",!0);var e=t.target.__object__,i=e.properties;e.context.beginPath(),e.context.strokeStyle=e.get("annotationColor"),isNexacroRuntime&&e.context.setElementStrokeStyle(e.context.strokeStyle),e.context.lineWidth=e.get("annotationLineWidth"),isNexacroRuntime&&e.context.setElementLineWidth(e.context.lineWidth);var s=DxChart.getMouseXY(t),a=s[0],o=s[1];if("bar"===e.type&&"3d"===i.variantValue)o-=i.variantThreedAngle*s[0];DxChart.Registry.set("annotation.actions",[e.get("annotationColor")]),e.context.moveTo(a,o),DxChart.Registry.set("annotation.last.coordinates",[a,o]),DxChart.Registry.set("started.annotating",!1),DxChart.Registry.set("annotating",e),DxChart._fireEvent(e,"onannotatebegin")}return!1},DxChart.annotating_window_onmouseup=function(t){var i,s=DxChart.Registry.get("annotating"),a=window;if(isNexacroRuntime){if(!s||"lbutton"==!t.button)return;s.set("mousedown",!1)}else{if(0!=t.button||!s)return;i=e.getElementsByTagName("canvas");for(var o=0;o<i.length;++o)i[o].__object__&&i[o].__object__.set("mousedown",!1);if(DxChart.Registry.get("annotation.actions")&&DxChart.Registry.get("annotation.actions").length>0&&a.localStorage){var r="__DxChart_annotations_"+t.target.id+"__",n=a.localStorage[r]?a.localStorage[r]+"|":"";n+=DxChart.Registry.get("annotation.actions"),a.localStorage[r]=n}}DxChart.Registry.set("annotation.actions",[]),DxChart._fireEvent(s,"onannotateend")},DxChart.annotating_canvas_onmousemove=function(t){var e=t.target.__object__,i=e.properties,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=DxChart.Registry.get("annotation.last.coordinates");if(e.get("mousedown")){if("bar"===e.type&&"3d"===i.variantValue)o-=i.variantThreedAngle*s[0];e.context.beginPath(),r?(e.context.strokeStyle=e.properties.annotationColor,isNexacroRuntime&&e.context.setElementStrokeStyle(e.context.strokeStyle),e.context.moveTo(r[0],r[1]),e.context.lineTo(a,o)):e.context.moveTo(a,o),DxChart.Registry.set("annotation.actions",DxChart.Registry.get("annotation.actions")+"|"+a+","+o),DxChart.Registry.set("annotation.last.coordinates",[a,o]),DxChart._fireEvent(e,"onannotate"),e.context.stroke()}},DxChart.showPalette=function(t){navigator.userAgent.indexOf("Safari");var i=t.target.parentNode.__canvas__,s=(i.getContext("2d"),i.__object__),a=document.createElement("DIV");DxChart.getMouseXY(t);a.__object__=s,a.className="DxChart_palette",a.style.position="absolute",a.style.backgroundColor="white",a.style.border="1px solid #999",a.style.left=0,a.style.top=0,a.style.padding="3px",a.style.paddingLeft="5px",a.style.opacity=0,a.style.boxShadow="rgba(48,48,48,0.25) 1px 1px 3px",a.style.WebkitBoxShadow="rgba(48,48,48,0.25) 1px 1px 3px",a.style.MozBoxShadow="rgba(48,48,48,0.25) 1px 1px 3px";for(var o=["Black","Red","Yellow","Green","Orange","White","Magenta","Pink"],r=0,n=o.length;r<n;r+=1){var h=e.createElement("DIV");h.cssClass="DxChart_palette_color",h.style.fontSize="12pt",h.style.cursor="pointer",h.style.padding="1px",h.style.paddingRight="10px",h.style.textAlign="left";var l=document.createElement("SPAN");l.style.display="inline-block",l.style.marginRight="9px",l.style.width="17px",l.style.height="17px",l.style.top="2px",l.style.position="relative",l.style.backgroundColor=o[r],h.appendChild(l),h.innerHTML+=o[r],h.onmouseover=function(){this.style.backgroundColor="#eee"},h.onmouseout=function(){this.style.backgroundColor=""},h.onclick=function(t){var e=this.childNodes[0].style.backgroundColor;s.set("annotationColor",e)},a.appendChild(h)}return e.body.appendChild(a),a.style.left=t.pageX+"px",a.style.top=t.pageY+"px",t.pageX+(a.offsetWidth+5)>document.body.offsetWidth&&(a.style.left=t.pageX-a.offsetWidth+"px"),DxChart.Registry.set("palette",a),setTimeout(function(){a.style.opacity=.2},50),setTimeout(function(){a.style.opacity=.4},100),setTimeout(function(){a.style.opacity=.6},150),setTimeout(function(){a.style.opacity=.8},200),setTimeout(function(){a.style.opacity=1},250),DxChart.hideContext(),window.onclick=function(){DxChart.hidePalette()},t.stopPropagation(),!1},DxChart.clearAnnotations=function(i){if("string"==typeof i){var s=i;i=e.getElementById(s)}else s=i.id;var a=i.__object__;t.localStorage&&t.localStorage["__DxChart_annotations_"+s+"__"]&&t.localStorage["__DxChart_annotations_"+s+"__"].length&&(t.localStorage["__DxChart_annotations_"+s+"__"]=[],DxChart._fireEvent(a,"onannotateclear"))},DxChart.replayAnnotations=function(e){if(t.localStorage){var i,s,a=e.context,o=t.localStorage["__DxChart_annotations_"+e.id+"__"];if(a.beginPath(),a.lineWidth=e.get("annotation.lineWidth"),isNexacroRuntime&&a.setElementLineWidth(a.lineWidth),o&&o.length){for(var r=0,n=(o=o.split("|")).length;r<n;++r)o[r].match(/[a-z]+/)?(a.stroke(),a.beginPath(),a.strokeStyle=o[r],isNexacroRuntime&&a.setElementStrokeStyle(a.strokeStyle),i=!0):((s=o[r].split(","))[0]=Number(s[0]),s[1]=Number(s[1]),i?(a.moveTo(s[0],s[1]),i=!1):a.lineTo(s[0],s[1]));a.stroke()}}},"nexacro"!=navigator.userAgent&&window.addEventListener("load",function(t){setTimeout(function(){for(var t=e.getElementsByTagName("canvas"),i=0;i<t.length;++i)t[i].__object__&&t[i].__object__.isDxChart&&t[i].__object__.get("annotationValue")&&DxChart.replayAnnotations(t[i].__object__)},100)},!1)}(window,document);